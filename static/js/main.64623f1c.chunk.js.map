{"version":3,"sources":["features/near-connect/near-contract-api.js","lib/environment.js","features/near-connect/config.js","lib/formatting.js","features/near-connect/useNear.js","components/kit/Button/Button.jsx","components/kit/NavLink.jsx","components/kit/Input/Input.jsx","components/kit/FormField/FormField.jsx","components/icons/DropdownArrowDown.jsx","components/kit/Filter/Filter.jsx","components/kit/DropdownMenu/DropdownMenu.jsx","components/kit/DropdownOpener/DropdownOpener.jsx","components/kit/RadioButton/RadioButton.jsx","components/kit/ProgressBar/ProgressBar.jsx","components/icons/Tokens.jsx","components/kit/TokenImage/TokenImage.jsx","components/icons/Copy.jsx","components/icons/Send.jsx","components/icons/Streams.jsx","components/icons/StreamIn.jsx","components/icons/StreamOut.jsx","components/icons/Account.jsx","components/icons/StreamWithdraw.jsx","components/icons/History.jsx","components/icons/Cron.jsx","components/icons/Plus.jsx","components/icons/Start.jsx","components/icons/Stop.jsx","components/icons/Pause.jsx","components/icons/PlusGradient.jsx","components/icons/Link.jsx","components/icons/ArrowLeft.jsx","features/create-stream/StreamSpeedCalcField.jsx","lib/usePrev.js","features/create-stream/CreateStreamForm.jsx","pages/Send.js","features/near-auth/NearAuthButton.jsx","features/near-auth/useNearAuth.js","lib/routing.js","images/logo_stream_with_text.svg","lib/useBool.js","components/Header.jsx","features/stream-view/StreamingSpeed.jsx","features/stream-control/useStreamControl.js","features/stream-control/lib.js","features/stream-control/StreamStatus.jsx","features/stream-control/StreamControls.jsx","features/stream-control/StreamAutodepositStatus.jsx","features/stream-control/StreamDepositButton.jsx","features/stream-control/StreamAutodepositControls.jsx","components/DurationTimer.jsx","features/stream-view/streamViewData.js","features/stream-view/StreamCard.jsx","features/stream-view/StreamOverviewCard.jsx","features/stream-view/lib.js","features/stream-control/StreamWithdrawButton.jsx","features/stream-view/StreamDashboard.jsx","features/stream-view/StreamActionHistory.jsx","features/filtering/lib.js","features/filtering/streams/useStreamFilters.js","features/filtering/streams/StreamFilters.jsx","features/xyiming-resources/xyiming-resources.js","images/RUSSIANS_HACK.gif","images/crab.gif","components/PageError.jsx","pages/MyStreams.js","components/AccountStreamCard.jsx","components/AccountColumn.jsx","pages/Account.js","pages/Authorize.js","pages/StreamPage.js","App.js","index.js"],"names":["GAS_SIZE","GAS_SIZE_CRON","NearContractApi","near","console","log","contract","getAccount","accountId","a","get_account","account_id","update_account","account","res","streamId","autoDeposit","change_auto_deposit","stream_id","auto_deposit","deposit","pause_stream","start_stream","stop_stream","ownerId","receiverId","token","speed","description","autoDepositEnabled","create_stream","owner_id","receiver_id","token_name","tokens_per_tick","auto_deposit_enabled","get_stream","from","to","get_stream_history","start_cron","getCurrentAccount","walletConnection","getAccountId","updateAccount","createStream","depositStream","pauseStream","startStream","stopStream","getStream","getStreamHistory","changeAutoDeposit","startCron","env","ACCOUNT_SUFFIX","process","NEAR_NETWORK_ID","NEAR_NODE_URL","CONTRACT_NAME","WALLET_URL","NEAR_CONFIG","accountSuffix","NEAR_ACCOUNT_SUFFIX","networkId","nodeUrl","contractName","walletUrl","tokens","NEAR","name","decimals","address","is_mainnet","is_testnet","TARAS","XYI","fallback","TokenFormatter","tokenName","TICK_TO_MS","Math","pow","TICK_TO_S","TICK_TO_MINUTE","TICK_TO_HOUR","TICK_TO_DAY","TICK_TO_WEEK","TICK_TO_MONTH","TICK_TO_YEAR","MP","bigValueFormatter","Intl","NumberFormat","minimumIntegerDigits","maximumFractionDigits","minimumFractionDigits","smallValueFormatter","minimumSignificantDigits","maximumSignificantDigits","formatSmartly","value","format","numbro","mantissa","trimMantissa","optionalMantissa","average","tokenPerSecondToInt","tps","multiply","divide","toInt","floatValue","amount","formatted","tokensPerMS","tokensPerTick","tokensPerS","tokensPerMeaningfulPeriod","multipliers","unit","firstGoodLookingMultiplier","find","multiplier","formattedValue","ticksToMs","ticks","round","secondsToTicks","seconds","speedPerSecondToTick","speedPerSec","window","tf","NearContext","React","createContext","inited","keyStore","ft","auth","signedIn","signedAccountId","contractApi","refreshAllowance","login","logout","createNearInstance","nearAPI","BrowserLocalStorageKeyStore","Object","assign","deps","NearConfig","_near","viewMethods","changeMethods","tokensNames","keys","filter","item","fts","i","length","ERR_NOT_IN_NEAR_CONTEXT","Error","useNear","useContext","variants","Button","icon","children","className","link","size","loading","loadingText","color","variant","rest","variantStyles","sizeStyles","colorStyles","ButtonComponent","Link","disabled","classNames","NavLink","match","useRouteMatch","isActive","isExact","Input","error","borderColor","FormField","label","DropdownArrowDown","props","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","FilterOptionWithCounter","count","option","Filter","options","renderOption","renderActive","active","minimal","onChange","useState","opened","setOpened","DropdownOpener","rounded","onClick","DropdownMenu","map","DropdownMenuItem","RadioButton","DropdownMenuDivider","minimalClasses","type","checked","GRADIENT_STOP","GRADIENTS","ProgressBar","progresses","p","sort","b","progress","style","background","GradientSVG","endColor","startColor","progressValue","idCSS","rotation","gradientTransform","id","offset","stopColor","ArcProgressBar","circleRatio","styles","buildStyles","pathColor","strokeLinecap","minValue","maxValue","colors","trailColor","NearTokenImage","version","preserveAspectRatio","transform","FallbackTokenIamge","Tokens","Component","TokenImage","Copy","x","y","rx","Send","Streams","cx","cy","r","StreamIn","StreamOut","Account","StreamWithdraw","History","Cron","Plus","Start","Stop","Pause","PlusGradient","x1","y1","x2","y2","gradientUnits","clipPath","strokeLinejoin","ArrowLeft","StreamSpeedCalcField","formatter","days","setDays","minutes","setMinutes","hours","setHours","durationInSeconds","SECONDS_IN_HOUR","SECONDS_IN_MINUTE","isNaN","Infinity","prevSpeed","ref","useRef","useEffect","current","usePrev","placeholder","e","target","CreateStreamFormSchema","Yup","shape","owner","required","receiver","moreThan","comment","max","CreateStreamForm","onSubmit","profileId","dropdownOpened","setDropdownOpened","submitError","setError","formikOnSubmit","initialValues","validationSchema","validateOnBlur","validateOnChange","validateOnMount","values","setFieldValue","setFieldTouched","handleSubmit","isSubmitting","field","form","meta","touched","errors","maxLength","message","SendPage","String","ft_transfer_call","memo","msg","JSON","stringify","Create","balance","fetchAccount","useSWR","errorRetryInterval","data","NearAuthButton","preventDefault","useNearAuth","role","routes","useBool","initial","on","setOn","off","toggle","turnOff","turnOn","Header","menuControl","navigation","logo","src","LogoText","alt","StreamingSpeed","stream","direction","speedInfo","streamViewData","STREAM_CONTROL_ID_NOT_PROVIDED","useStreamControl","ensureMethodHasStreamId","setLoading","wrapped","fn","updateAllAndWithdraw","pause","restart","stop","enable","disable","STREAM_STATUS","INITIALIZED","ACTIVE","PAUSED","FINISHED","INTERRUPTED","STREAM_DIRECTION","STREAM_AUTODEPOSIT_STATUS","STREAM_ACTION_TYPE","StreamStatus","binding","colorClass","status","StreamControls","isOutgoing","isDead","menuOpened","setMenuOpened","controls","StreamAutodepositStatus","disableMsg","enableMsg","useDepositButton","setDeposit","modalControl","modal","isOpen","onRequestClose","overlayClassName","StreamDepositButton","depositButton","StreamDepositButtonOutlined","StreamAutodepositButton","enabled","StreamAutodepositControls","buttonClassName","formatDistanceLocale","xYears","xMonths","xDays","xSeconds","xMinutes","xHours","shortEnLocale","formatDistance","replace","isValidDate","Date","DurationTimer","untilTimestamp","suffix","finishedText","untilDate","dateValid","getTime","expired","setExpired","intervalToDuration","start","end","duration","setDuration","setInterval","isExpired","clearInterval","useDurationTimer","formatDuration","locale","location","origin","secondsLeft","available_to_withdraw","dateEnd","timestampEnd","full","Number","tokens_total_withdrawn","withdrawn","streamed","available","left","percentages","streamType","timestamp_created","history","actor","action_type","timestamp","Bullet","StreamCard","output","copy","VerticalData","HorizontalData","StreamOverviewCard","streamDirection","last_action","StreamWithdrawButton","streamControl","mutate","useSWRConfig","StreamDashboard","ThCell","TdCell","ACTION_TYPE_COLOR","ActionType","actionType","StreamActionHistory","currentPage","onNextPageClick","onPrevPageClick","maxPage","pageSize","Array","_","entry","fromNanosec","useFilter","selectOption","currentFilterFunction","useMemo","optionsArray","STREAM_TYPE_FILTER","STREAM_STATUS_FILTER","ALL","ARCHIVED","useStreamFilters","streams","statusOptions","directionOptions","statusFilter","directionFilter","result","items","filters","filteredItems","setFilteredItems","filterCounts","setFilterCounts","forEach","filterRunResult","filtered","currentFilterCount","push","useFilters","compareBy","key","sorts","bigBalanceFirst","highSpeedFirst","highSpeedLast","mostRecent","statusPriority","defaultStreamSort","indexOf","StreamFilters","onFilterDone","sorting","setSorting","sortOptions","sorted","counts","fetchStream","fetchStreamHistory","streamHistory","inputs","outputs","Promise","all","inputStreams","outputStreams","useAccount","useStreams","accountSWR","fetchStreams","PageError","onRetry","rand","random","hackImage","crabImage","__INPUTS","__OUTPUTS","MyStreamsPage","setFiltered","streamsSWR","isIncomingStream","allStreams","concat","AccountStreamCard","streamsLength","period","showPeriod","utils","formatNearAmount","PERIODS","sec","min","hour","day","AccountColumn","header","tokensField","streamsType","streamGroups","undefined","reduce","groups","group","tokensData","periodsOptions","selectedPeriod","AccountPage","pageError","addSuffix","cronSubscribeClick","messaonClick","AuthorizePage","BackButton","StreamCopyUrlBlock","StreamPage","params","useParams","streamSWR","useSingleStream","PAGE_SIZE","page","setPage","ceil","history_len","canGoBack","swr","onError","nextPage","prevPage","useSingleStreamHistory","streamHistorySWR","PrivateRoute","allowed","redirect","render","AppFn","apiRef","setInited","setNear","requestSignIn","signOut","alert","init","useCreateNear","Provider","basename","exact","path","rootEl","document","getElementById","Modal","setAppElement","ReactDOM"],"mappings":"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","file":"static/js/main.64623f1c.chunk.js","sourcesContent":["const GAS_SIZE = '200000000000000';\nconst GAS_SIZE_CRON = '300000000000000';\nconst NOT_ZERO_NEAR_AMOUNT = 1;\n\nexport function NearContractApi(near) {\n  console.log('NearContractApi', near);\n\n  const contract = near.contract;\n\n  const getAccount = async (accountId) => {\n    try {\n      if (!accountId) {\n        return [];\n      }\n      return await contract.get_account({account_id: accountId});\n    } catch (e) {\n      console.log('near error', e);\n    }\n    return [];\n  };\n\n  const getCurrentAccount = () =>\n    getAccount(near.walletConnection.getAccountId());\n\n  async function updateAccount() {\n    const res = await contract.update_account(\n      {\n        account_id: near.account.accountId,\n      },\n      GAS_SIZE,\n    );\n    return res;\n  }\n\n  async function changeAutoDeposit({streamId, autoDeposit}) {\n    const res = await contract.change_auto_deposit(\n      {stream_id: streamId, auto_deposit: autoDeposit},\n      GAS_SIZE,\n      NOT_ZERO_NEAR_AMOUNT,\n    );\n\n    return res;\n  }\n\n  async function depositStream({streamId, deposit}) {\n    const res = await contract.deposit(\n      {stream_id: streamId},\n      GAS_SIZE,\n      deposit,\n    );\n\n    return res;\n  }\n\n  async function pauseStream({streamId}) {\n    const res = await contract.pause_stream(\n      {stream_id: streamId},\n      GAS_SIZE,\n      NOT_ZERO_NEAR_AMOUNT,\n    );\n\n    return res;\n  }\n\n  async function startStream({streamId}) {\n    const res = await contract.start_stream(\n      {stream_id: streamId},\n      GAS_SIZE,\n      NOT_ZERO_NEAR_AMOUNT,\n    );\n\n    return res;\n  }\n\n  async function stopStream({streamId}) {\n    const res = await contract.stop_stream(\n      {stream_id: streamId},\n      GAS_SIZE,\n      NOT_ZERO_NEAR_AMOUNT,\n    );\n    return res;\n  }\n\n  async function createStream({\n    deposit,\n    ownerId,\n    receiverId,\n    token,\n    speed,\n    description,\n    autoDepositEnabled = false,\n  }) {\n    const res = await contract.create_stream(\n      {\n        owner_id: ownerId,\n        receiver_id: receiverId,\n        token_name: token,\n        tokens_per_tick: speed,\n        auto_deposit_enabled: autoDepositEnabled,\n        description,\n      },\n      GAS_SIZE,\n      deposit,\n    );\n\n    return res;\n  }\n\n  async function getStream({streamId}) {\n    const res = await contract.get_stream({\n      stream_id: streamId,\n    });\n\n    return res;\n  }\n  \n  async function change_auto_deposit({streamId, auto_deposit}) {\n    const res = await contract.change_auto_deposit(\n    {\n      stream_id: streamId,\n      auto_deposit: auto_deposit,\n    },\n    GAS_SIZE,\n    NOT_ZERO_NEAR_AMOUNT\n    );\n\n    return res;\n  }\n\n  async function getStreamHistory({streamId, from, to}) {\n    const res = await contract.get_stream_history({\n      stream_id: streamId,\n      from: from,\n      to: to,\n    });\n\n    return res;\n  }\n\n  async function startCron() {\n    const res = await contract.start_cron(\n      {},\n      GAS_SIZE_CRON,\n      '1000000000000000000000000',\n    );\n\n    return res;\n  }\n\n  return {\n    getCurrentAccount,\n    updateAccount,\n    getAccount,\n    createStream,\n    depositStream,\n    pauseStream,\n    startStream,\n    stopStream,\n    getStream,\n    change_auto_deposit,\n    getStreamHistory,\n    changeAutoDeposit,\n    startCron,\n  };\n}\n","export const env = {\n  ACCOUNT_SUFFIX: process.env.REACT_APP_NEAR_ACCOUNT_SUFFIX,\n  NEAR_NETWORK_ID: process.env.REACT_APP_NEAR_NETWORK_ID,\n  NEAR_NODE_URL: process.env.REACT_APP_NEAR_NODE_URL,\n  CONTRACT_NAME: process.env.REACT_APP_CONTRACT_NAME,\n  WALLET_URL: process.env.REACT_APP_WALLET_URL,\n};\n","import {env} from '../../lib/environment';\n\nexport const NEAR_CONFIG = {\n  accountSuffix: env.NEAR_ACCOUNT_SUFFIX,\n  networkId: env.NEAR_NETWORK_ID,\n  nodeUrl: env.NEAR_NODE_URL,\n  contractName: env.CONTRACT_NAME,\n  walletUrl: env.WALLET_URL,\n};\n","import numbro from 'numbro';\n\nexport const tokens = {\n  NEAR: {\n    name: 'Near',\n    decimals: 24,\n    address: null,\n    is_mainnet: true,\n    is_testnet: true,\n  },\n  TARAS: {\n    name: 'Taras',\n    decimals: 18,\n    address: 'dev-1630798753809-34755859843881',\n    is_mainnet: false,\n    is_testnet: true,\n  },\n  XYI: {\n    name: 'XYI',\n    decimals: 18,\n    address: 'xyi.tkn.near',\n    is_mainnet: true,\n    is_testnet: false,\n  },\n  fallback: {\n    name: null,\n    decimals: 18,\n    address: null,\n    is_mainnet: false,\n    is_testnet: false,\n  },\n};\n\nexport function TokenFormatter(tokenName) {\n  let token = tokens[tokenName] || tokens.fallback;\n  const TICK_TO_MS = Math.pow(10, 6);\n  const TICK_TO_S = Math.pow(10, 9);\n  const TICK_TO_MINUTE = TICK_TO_S * 60;\n  const TICK_TO_HOUR = TICK_TO_MINUTE * 60;\n  const TICK_TO_DAY = TICK_TO_HOUR * 24;\n  const TICK_TO_WEEK = TICK_TO_DAY * 7;\n  const TICK_TO_MONTH = TICK_TO_WEEK * 4;\n  const TICK_TO_YEAR = TICK_TO_MONTH * 12;\n\n  const MP = Math.pow(10, token.decimals);\n\n  const bigValueFormatter = Intl.NumberFormat('en-US', {\n    minimumIntegerDigits: 1,\n    maximumFractionDigits: 2,\n    minimumFractionDigits: 2,\n  });\n  const smallValueFormatter = Intl.NumberFormat('en-US', {\n    minimumSignificantDigits: 2,\n    maximumSignificantDigits: 4,\n    maximumFractionDigits: token.decimals,\n  });\n\n  const formatSmartly = (value) => {\n    if (value < 1) {\n      return smallValueFormatter.format(value);\n    } else if (value < 1000000) {\n      return bigValueFormatter.format(value);\n    } else {\n      return numbro(value).format({\n        mantissa: 3,\n        trimMantissa: true,\n        optionalMantissa: true,\n        average: true,\n      });\n    }\n  };\n\n  return {\n    tokenPerSecondToInt: (tps) =>\n      numbro(tps).multiply(MP).divide(TICK_TO_S).format({mantissa: 0}),\n    toInt: (floatValue) =>\n      numbro(floatValue).multiply(MP).format({mantissa: 0}),\n    amount: (amount, decimals = token.decimals) => {\n      const value = numbro(amount).divide(MP).value();\n      const formatted = formatSmartly(value);\n      return formatted;\n    },\n    tokensPerMS: (tokensPerTick) => {\n      const value = numbro(tokensPerTick).multiply(TICK_TO_MS).divide(MP);\n      return formatSmartly(value);\n    },\n    tokensPerS: (tokensPerTick) => {\n      const value = numbro(tokensPerTick)\n        .multiply(TICK_TO_S)\n        .divide(MP)\n        .value();\n\n      return formatSmartly(value);\n    },\n\n    tokensPerMeaningfulPeriod: (tokensPerTick) => {\n      // tries to find the best interval for display\n      // to avoid 0.0000000000000000000000000009839248 tokens per sec\n      const multipliers = [\n        TICK_TO_S,\n        TICK_TO_MINUTE,\n        TICK_TO_HOUR,\n        TICK_TO_DAY,\n        TICK_TO_WEEK,\n        TICK_TO_MONTH,\n        TICK_TO_YEAR,\n      ];\n      const unit = {\n        [TICK_TO_S]: 'second',\n        [TICK_TO_MINUTE]: 'minute',\n        [TICK_TO_HOUR]: 'hour',\n        [TICK_TO_DAY]: 'day',\n        [TICK_TO_WEEK]: 'week',\n        [TICK_TO_MONTH]: 'month',\n        [TICK_TO_YEAR]: 'year',\n      };\n      const firstGoodLookingMultiplier =\n        multipliers.find((multiplier) => {\n          const value = numbro(tokensPerTick)\n            .multiply(multiplier)\n            .divide(MP)\n            .value();\n          const isOk = value > 0.01;\n          return isOk;\n        }) || TICK_TO_YEAR;\n\n      const value = numbro(tokensPerTick)\n        .multiply(firstGoodLookingMultiplier)\n        .divide(MP)\n        .value();\n\n      return {\n        formattedValue: formatSmartly(value),\n        unit: unit[firstGoodLookingMultiplier],\n      };\n    },\n    ticksToMs: (ticks) => Math.round(ticks / TICK_TO_MS),\n    secondsToTicks: (seconds) => seconds * TICK_TO_S,\n    speedPerSecondToTick: (speedPerSec) =>\n      numbro(speedPerSec).multiply(TICK_TO_S).value(),\n  };\n}\n\nwindow.tf = TokenFormatter;\nexport function timestamp(value) {\n  return {\n    fromNanosec() {\n      return value / 1000 / 1000;\n    },\n  };\n}\n","import React, {useContext, useEffect, useState} from 'react';\nimport * as nearAPI from 'near-api-js';\nimport {NearContractApi} from './near-contract-api';\nimport {NEAR_CONFIG as NearConfig} from './config';\nimport {tokens} from '../../lib/formatting';\n\nexport const NearContext = React.createContext({\n  inited: false,\n  near: {\n    keyStore: null,\n    near: null,\n    walletConnection: null,\n    accountId: null,\n    contract: null,\n    ft: null,\n  },\n  auth: {\n    signedIn: false,\n    signedAccountId: null,\n  },\n  contractApi: NearContractApi({}),\n  refreshAllowance: () => {},\n  login: () => {},\n  logout: () => {},\n});\n\nasync function createNearInstance() {\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n  const near = await nearAPI.connect(\n    Object.assign({deps: {keyStore}}, NearConfig),\n  );\n\n  const _near = {\n    keyStore: null,\n    near: null,\n    walletConnection: null,\n    accountId: null,\n    contract: null,\n    ft: null,\n  };\n\n  _near.keyStore = keyStore;\n  _near.near = near;\n\n  _near.walletConnection = new nearAPI.WalletConnection(\n    near,\n    NearConfig.contractName,\n  );\n  _near.accountId = _near.walletConnection.getAccountId();\n\n  _near.account = _near.walletConnection.account();\n  _near.contractName = NearConfig.contractName;\n  _near.contract = new nearAPI.Contract(\n    _near.account,\n    NearConfig.contractName,\n    {\n      viewMethods: ['get_account', 'get_stream', 'get_stream_history'],\n      changeMethods: [\n        'create_stream',\n        'deposit',\n        'update_account',\n        'start_stream',\n        'pause_stream',\n        'stop_stream',\n        'change_auto_deposit',\n        'start_cron',\n      ],\n    },\n  );\n\n  const tokensNames = Object.keys(tokens).filter((item) => item !== 'fallback');\n  _near.fts = {};\n  for (let i = 0; i < tokensNames.length; i++) {\n    _near.fts[tokensNames[i]] = {\n      name: tokensNames[i],\n      address: tokens[tokensNames[i]].address,\n      contract: new nearAPI.Contract(\n        _near.account,\n        tokens[tokensNames[i]].address,\n        {\n          viewMethods: ['ft_balance_of'],\n          changeMethods: ['ft_transfer', 'ft_transfer_call'],\n        },\n      ),\n    };\n  }\n\n  return _near;\n}\n\nexport function useCreateNear() {\n  const apiRef = React.useRef(null);\n\n  const [inited, setInited] = useState(false);\n  const [near, setNear] = useState({\n    keyStore: null,\n    near: null,\n    walletConnection: null,\n    accountId: null,\n    contract: null,\n    ft: null,\n  });\n\n  const auth = {\n    signedIn: !!near.accountId,\n    signedAccountId: near.accountId,\n  };\n\n  async function login() {\n    const appTitle = 'Streaming Xyiming';\n\n    await near.walletConnection.requestSignIn(\n      NearConfig.contractName,\n      appTitle,\n    );\n  }\n\n  function logout() {\n    near.walletConnection.signOut();\n\n    setNear({\n      ...near,\n      accountId: null,\n    });\n  }\n\n  async function refreshAllowance() {\n    alert(\n      \"You're out of access key allowance. Need sign in again to refresh it\",\n    );\n    await logout();\n    // await requestSignIn();\n  }\n\n  useEffect(() => {\n    const init = async () => {\n      const _near = await createNearInstance();\n\n      apiRef.current = NearContractApi(_near);\n      setNear(_near);\n      setInited(true);\n    };\n\n    init();\n  }, []);\n\n  return {\n    auth,\n    near,\n    contractApi: apiRef.current,\n    inited,\n    login,\n    logout,\n    refreshAllowance,\n  };\n}\n\nconst ERR_NOT_IN_NEAR_CONTEXT = new Error('Near context is not found');\n\nexport function useNear() {\n  const near = useContext(NearContext);\n  const insideContext = !!near;\n\n  if (!insideContext) {\n    throw ERR_NOT_IN_NEAR_CONTEXT;\n  }\n\n  return near;\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport {Link} from 'react-router-dom';\nimport './Button.scss';\n\nconst variants = {\n  main: 'main',\n  filled: 'filled',\n  outlined: 'outlined',\n};\n\nconst sizes = ['normal', 'big'];\nconst colors = ['dark', 'light'];\n\nexport function Button({\n  icon,\n  children,\n  className,\n  link,\n  size,\n  loading,\n  loadingText,\n  color = 'light',\n  variant = 'outlined',\n  ...rest\n}) {\n  let variantStyles = '';\n  let sizeStyles = '';\n  let colorStyles = '';\n\n  if (variant === variants.main) {\n    variantStyles = 'Button--main';\n\n    sizeStyles =\n      size === 'normal'\n        ? 'twind-px-5 twind-py-4  twind-rounded-2xl twind-font-semibold'\n        : size === 'big'\n        ? 'twind-px-12 twind-py-6 twind-rounded-3xl twind-font-bold'\n        : '';\n  } else if (variant === variants.outlined) {\n    variantStyles =\n      'twind-border-solid twind-border twind-font-semibold twind-rounded-lg ';\n    colorStyles =\n      color === 'light'\n        ? 'twind-border-blue hover:twind-bg-blue'\n        : color === 'dark'\n        ? 'twind-border-border hover:twind-bg-hover hover:twind-border-hover'\n        : '';\n  } else if (variant === variants.filled) {\n    variantStyles =\n      'twind-bg-dark hover:twind-bg-hover twind-font-semibold twind-rounded-lg active:twind-bg-transparent';\n  }\n  const ButtonComponent = link ? Link : 'button';\n\n  return (\n    <ButtonComponent\n      disabled={loading}\n      className={classNames(\n        'twind-inline-flex twind-items-center twind-justify-center twind-p-3  twind-whitespace-nowrap',\n        variantStyles,\n        sizeStyles,\n        colorStyles,\n        'twind-transition-all',\n        className,\n      )}\n      {...rest}\n    >\n      {loading ? (\n        loadingText\n      ) : (\n        <>\n          {icon ? <div className=\"twind-mr-2\">{icon}</div> : null}\n          {children}\n        </>\n      )}\n    </ButtonComponent>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport {Link, useRouteMatch} from 'react-router-dom';\nexport function NavLink({icon, children, className, to, ...rest}) {\n  const activeClassname = 'twind-bg-hover';\n  const match = useRouteMatch(to);\n  const isActive = match && match.isExact;\n\n  return (\n    <Link\n      to={to}\n      className={classNames(\n        className,\n        'twind-text-white twind-font-semibold',\n        'twind-flex twind-items-center twind-px-5 twind-py-4 twind-rounded-xl ',\n        'twind-group twind-cursor-pointer twind-whitespace-nowrap',\n        isActive ? activeClassname : '',\n        'twind-transition-all',\n        'hover:twind-bg-hover',\n      )}\n      {...rest}\n    >\n      <div\n        className={classNames(\n          'group-hover:twind-text-blue',\n          isActive ? 'twind-text-blue' : '',\n        )}\n      >\n        {icon}\n      </div>\n      <div className=\"twind-ml-2\">{children}</div>\n    </Link>\n  );\n}\n","import React from 'react';\nimport './Input.scss';\nimport classNames from 'classnames';\n\nexport function Input({children, className, error, ...rest}) {\n  const borderColor = error ? 'twind-border-red-400' : 'twind-border-border';\n  return (\n    <label\n      className={classNames(\n        'Input twind-font-semibold twind-flex twind-p-4 twind-rounded-lg twind-border  twind-bg-input twind-text-white focus-within:twind-border-blue hover:twind-border-blue',\n        borderColor,\n        className,\n      )}\n      {...rest}\n    >\n      {children}\n    </label>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\nexport function FormField({children, label, error, className, ...rest}) {\n  return (\n    <div className={classNames('twind-block', className)} {...rest}>\n      <div className=\"twind-mb-1\">{label}</div>\n      <div>{children}</div>\n      {error ? (\n        <div className=\"twind-text-red-500 twind-mt-1 twind-text-xs\">\n          {error}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React from 'react';\n\nexport const DropdownArrowDown = (props) => (\n  <svg\n    width=\"12\"\n    height=\"7\"\n    viewBox=\"0 0 12 7\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M1.37378 0.739731L6.11885 5.4848L10.8639 0.739731\"\n      stroke=\"white\"\n      strokeWidth=\"1.5\"\n    />\n  </svg>\n);\n","import React, {useState} from 'react';\nimport {DropdownArrowDown} from '../../icons/DropdownArrowDown';\nimport classNames from 'classnames';\nimport {RadioButton, DropdownOpener, DropdownMenu, DropdownMenuItem} from '..';\n\nexport function FilterOptionWithCounter({count, option}) {\n  return (\n    <span>\n      {option}{' '}\n      <span className=\"twind-text-gray twind-font-normal\">{count}</span>\n    </span>\n  );\n}\n\nexport function Filter({\n  label,\n  options,\n  renderOption,\n  renderActive,\n  active,\n  minimal,\n  onChange,\n  className,\n}) {\n  const [opened, setOpened] = useState(false);\n\n  return (\n    <div\n      className={classNames(\n        'twind-inline-flex twind-items-center twind-relative',\n        className,\n      )}\n    >\n      <div className=\"twind-text-gray twind-mr-2\">{label}</div>\n      <DropdownOpener\n        minimal={minimal}\n        rounded\n        onClick={() => setOpened(!opened)}\n      >\n        {renderActive ? renderActive(active) : active}\n      </DropdownOpener>\n\n      <DropdownMenu opened={opened} className=\"twind-right-0\">\n        {options.map((option, i) => (\n          <DropdownMenuItem key={i}>\n            <RadioButton\n              label={\n                renderOption ? renderOption(option, active === option) : option\n              }\n              active={active === option}\n              value={option}\n              onChange={onChange}\n            />\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenu>\n    </div>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nexport function DropdownMenu({opened, children, className}) {\n  return (\n    <div\n      className={classNames(\n        className,\n        'twind-absolute twind-top-full twind-pt-2',\n        opened ? 'twind-flex' : 'twind-hidden',\n      )}\n    >\n      <div\n        className={classNames(\n          'twind-w-full twind-bg-hover twind-rounded-2xl twind-py-2',\n        )}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport function DropdownMenuItem({children, className, ...rest}) {\n  return (\n    <div\n      className={classNames(\n        'twind-px-5 twind-py-1 twind-font-semibold twind-text-sm hover:twind-font-bold',\n        className,\n      )}\n      {...rest}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function DropdownMenuDivider() {\n  return (\n    <div className=\"twind-border-dark twind-border-t twind-w-full twind-my-2\" />\n  );\n}\n","import React from 'react';\nimport {DropdownArrowDown} from '../../icons/DropdownArrowDown';\nimport classNames from 'classnames';\n\n/**\n * @param {minimal} Boolean remove outline and padding if true\n * @param {rounded} Boolean set to true to change shape to pill\n * @returns\n */\nexport function DropdownOpener({\n  opened,\n  className,\n  children,\n  onClick,\n  rounded,\n  minimal,\n  ...rest\n}) {\n  const minimalClasses = minimal\n    ? ''\n    : 'twind-px-4 twind-py-3 twind-border twind-border-border twind-w-36 hover:twind-bg-hover hover:twind-border-hover';\n\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={classNames(\n        'twind-cursor-pointer twind-flex twind-items-center',\n        className,\n        minimalClasses,\n        rounded ? 'twind-rounded-full' : 'twind-rounded-lg',\n      )}\n      {...rest}\n    >\n      {children}\n      <div className=\"twind-flex-grow\"></div>\n      <DropdownArrowDown\n        className={classNames(\n          'twind-ml-2',\n          'twind-transform',\n          opened ? 'twind-rotate-180' : '',\n        )}\n      />\n    </button>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nexport function RadioButton({active, label, value, onChange}) {\n  return (\n    <label className=\"twind-inline-flex twind-items-center twind-whitespace-nowrap\">\n      <input\n        type=\"radio\"\n        className=\"twind-invisible twind-w-0 twind-h-0 twind-absolute\"\n        checked={active}\n        onChange={() => onChange(value)}\n      />\n      <div\n        className={classNames(\n          active\n            ? 'twind-border-blue twind-border-4'\n            : 'twind-border-border twind-border-2',\n          'twind-border-full twind-w-3 twind-h-3 twind-rounded-full',\n        )}\n      ></div>\n\n      <div\n        className={classNames(\n          active ? 'twind-font-semibold' : '',\n          'twind-ml-3',\n        )}\n      >\n        {label}\n      </div>\n    </label>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport {\n  CircularProgressbar,\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from 'react-circular-progressbar';\n\nconst GRADIENT_STOP = [\n  ['#4743FB', '#C750FF'],\n  ['#FFCC69', '#FF8469'],\n];\nconst GRADIENTS = [\n  `linear-gradient(270deg, ${GRADIENT_STOP[0][0]} 0%, ${GRADIENT_STOP[0][1]} 100%)`,\n  `linear-gradient(270deg, ${GRADIENT_STOP[1][0]} 0%, ${GRADIENT_STOP[1][1]} 100%)`,\n];\n\nexport function ProgressBar({progresses, className, ...rest}) {\n  let p = [...progresses];\n  p.sort((a, b) => b - a);\n\n  return (\n    <div\n      className={classNames(\n        'twind-relative twind-h-3 twind-rounded-r-md twind-rounded-l-lg twind-bg-progressBar',\n        className,\n      )}\n      {...rest}\n    >\n      {p.map((progress, i) => (\n        <div\n          key={i}\n          className=\"twind-absolute twind-left-0 twind-h-full twind-rounded-lg\"\n          style={{\n            width: progress * 100 + '%',\n            background: GRADIENTS[i],\n          }}\n        ></div>\n      ))}\n    </div>\n  );\n}\n\nfunction GradientSVG({endColor, startColor, progressValue, idCSS, rotation}) {\n  let gradientTransform = `rotate(${rotation})`;\n\n  return (\n    <svg style={{height: 0}}>\n      <defs>\n        <linearGradient id={idCSS} gradientTransform={gradientTransform}>\n          <stop offset=\"0%\" stopColor={startColor} />\n          {progressValue > 0 && progressValue < 100 ? (\n            <stop offset={`${progressValue}%\"`} stopColor={endColor} />\n          ) : null}\n          <stop offset=\"100%\" stopColor={endColor} />\n        </linearGradient>\n      </defs>\n    </svg>\n  );\n}\n\nexport function ArcProgressBar({progresses, className}) {\n  progresses.sort((a, b) => b - a);\n  const rotation = 3 / 4;\n\n  return (\n    <div className={classNames(className)}>\n      <CircularProgressbarWithChildren\n        circleRatio={0.5}\n        styles={buildStyles({\n          rotation,\n          pathColor: '#0D0B26',\n          strokeLinecap: 'round',\n        })}\n        value={1}\n        minValue={0}\n        maxValue={1}\n      >\n        {GRADIENT_STOP.map((colors, i) => (\n          <GradientSVG\n            idCSS={`__arcProgressBar_grad_${i}`}\n            rotation={i === 0 ? 90 : 90}\n            startColor={colors[0]}\n            endColor={colors[1]}\n          />\n        ))}\n        {progresses.map((progress, i) => (\n          <CircularProgressbar\n            circleRatio={0.5}\n            className=\"twind-absolute twind-inset-0\"\n            value={progress}\n            styles={buildStyles({\n              rotation,\n              trailColor: 'transparent',\n              pathColor: `url(#__arcProgressBar_grad_${i})`,\n              strokeLinecap: 'round',\n            })}\n            minValue={0}\n            maxValue={1}\n          />\n        ))}\n      </CircularProgressbarWithChildren>\n    </div>\n  );\n}\n","import React from 'react';\nconst NearTokenImage = (props) => (\n  <svg\n    version=\"1.0\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20pt\"\n    height=\"20pt\"\n    viewBox=\"0 0 864.000000 864.000000\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    {...props}\n  >\n    <g\n      transform=\"translate(0.000000,864.000000) scale(0.100000,-0.100000)\"\n      fill=\"#000000\"\n      stroke=\"none\"\n    >\n      <path d=\"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z\" />\n    </g>\n  </svg>\n);\n\nconst FallbackTokenIamge = (props) => (\n  <svg\n    version=\"1.0\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20pt\"\n    height=\"20pt\"\n    viewBox=\"0 0 864.000000 864.000000\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    {...props}\n  >\n    <g\n      transform=\"translate(0.000000,864.000000) scale(0.100000,-0.100000)\"\n      fill=\"#000000\"\n      stroke=\"none\"\n    >\n      <path d=\"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z\" />\n    </g>\n  </svg>\n);\n\nexport function Tokens({tokenName, className, ...rest}) {\n  const tokens = {\n    NEAR: NearTokenImage,\n    fallback: FallbackTokenIamge,\n  };\n  const Component = tokens[tokenName] || tokens['fallback'];\n  return <Component className={className} {...rest}></Component>;\n}\n","import React from 'react';\nimport {Tokens} from '../../icons/Tokens';\nimport classNames from 'classnames';\nexport function TokenImage({tokenName, size = 8, className, ...rest}) {\n  return (\n    <div\n      className={classNames(\n        'twind-p-1 twind-flex-shrink-0 twind-rounded-lg twind-bg-card2 twind-inline-flex twind-items-center twind-justify-center',\n        `twind-w-${size} twind-h-${size}`,\n        className,\n      )}\n      {...rest}\n    >\n      <Tokens className=\"twind-w-full twind-h-full\" tokenName={tokenName} />\n    </div>\n  );\n}\n","import React from 'react';\n\nexport const Copy = () => (\n  <svg\n    width=\"17\"\n    height=\"16\"\n    viewBox=\"0 0 17 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M12.1884 4.70767H13.2423C14.6173 4.70767 15.7319 5.82227 15.7319 7.1972V12.6244C15.7319 13.9994 14.6173 15.114 13.2423 15.114H7.81509C6.44016 15.114 5.32556 13.9994 5.32556 12.6244V11.5705\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1.65968\"\n    />\n    <rect\n      x=\"1.46289\"\n      y=\"1.3735\"\n      width=\"10.4063\"\n      height=\"10.4063\"\n      rx=\"2.48952\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1.65968\"\n    />\n  </svg>\n);\n","import React from 'react';\nexport const Send = () => (\n  <svg\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.5309 10.5238L1.9707 1.96368M1.9707 1.96368V10.5238M1.9707 1.96368H10.5308\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2.5\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\nexport const Streams = () => (\n  <svg\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 14 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"2.08925\" cy=\"2.03994\" r=\"2.03994\" fill=\"currentColor\" />\n    <circle cx=\"11.1691\" cy=\"2.03994\" r=\"2.03994\" fill=\"currentColor\" />\n    <circle cx=\"2.08925\" cy=\"11.1198\" r=\"2.03994\" fill=\"currentColor\" />\n    <circle cx=\"11.1691\" cy=\"11.1198\" r=\"2.03994\" fill=\"currentColor\" />\n  </svg>\n);\n","import React from 'react';\nexport const StreamIn = () => (\n  <svg\n    width=\"16\"\n    height=\"17\"\n    viewBox=\"0 0 16 17\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M0.999991 1.84371L8.23523 9.07889M8.23523 9.07889V1.84371M8.23523 9.07889H1.00004\"\n      stroke=\"#2EDDD9\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n    <path\n      d=\"M12.1637 6.27124C13.5911 7.14289 14.5438 8.71524 14.5438 10.5101C14.5438 13.2512 12.3218 15.4733 9.58068 15.4733C7.7858 15.4733 6.21344 14.5205 5.3418 13.0931\"\n      stroke=\"#2EDDD9\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\nexport const StreamOut = () => (\n  <svg\n    width=\"16\"\n    height=\"17\"\n    viewBox=\"0 0 16 17\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M8.23528 9.07894L1 1.8437M1 1.8437V9.07894M1 1.8437H8.23523\"\n      stroke=\"#F56173\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n    <path\n      d=\"M12.1637 6.27117C13.591 7.14282 14.5438 8.71519 14.5438 10.5101C14.5438 13.2512 12.3217 15.4733 9.58065 15.4733C7.78575 15.4733 6.21339 14.5205 5.34174 13.0931\"\n      stroke=\"#F56173\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const Account = () => (\n  <svg\n    width=\"17\"\n    height=\"17\"\n    viewBox=\"0 0 17 17\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1.35828 8.21811C1.35828 7.03631 1.88087 5.91501 2.78586 5.15499L6.96214 1.64773C7.70587 1.02314 8.79082 1.02314 9.53456 1.64773L13.7108 5.15499C14.6158 5.91501 15.1384 7.03631 15.1384 8.2181V12.4077C15.1384 14.0646 13.7953 15.4077 12.1384 15.4077H4.35827C2.70142 15.4077 1.35828 14.0646 1.35828 12.4077V8.21811Z\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const StreamWithdraw = () => (\n  <svg\n    width=\"20\"\n    height=\"24\"\n    viewBox=\"0 0 20 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.0818 9.73921L10.0818 21.718M10.0818 21.718L18.5945 13.2589M10.0818 21.718L1.5691 13.2589M10.0823 4.3827L10.0823 1.78194\"\n      stroke=\"#8DA6FF\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const History = () => (\n  <svg\n    width=\"17\"\n    height=\"17\"\n    viewBox=\"0 0 17 17\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M8.56036 0.603882C6.45869 0.609876 4.4396 1.4228 2.9201 2.87474V1.42369C2.9201 1.20626 2.83373 0.997741 2.67998 0.843997C2.52624 0.690254 2.31772 0.603882 2.10029 0.603882C1.88287 0.603882 1.67435 0.690254 1.5206 0.843997C1.36686 0.997741 1.28049 1.20626 1.28049 1.42369V5.11281C1.28049 5.33024 1.36686 5.53876 1.5206 5.6925C1.67435 5.84625 1.88287 5.93262 2.10029 5.93262H5.78942C6.00684 5.93262 6.21536 5.84625 6.36911 5.6925C6.52285 5.53876 6.60922 5.33024 6.60922 5.11281C6.60922 4.89539 6.52285 4.68687 6.36911 4.53312C6.21536 4.37938 6.00684 4.29301 5.78942 4.29301H3.82188C4.87597 3.19148 6.2809 2.49161 7.7951 2.31373C9.3093 2.13584 10.8382 2.49105 12.1189 3.31829C13.3995 4.14554 14.352 5.39311 14.8125 6.84653C15.2729 8.29994 15.2127 9.86838 14.642 11.2822C14.0714 12.696 13.026 13.8668 11.6856 14.5933C10.3452 15.3198 8.79358 15.5567 7.2975 15.2631C5.80141 14.9695 4.45434 14.1639 3.48789 12.9847C2.52144 11.8056 1.996 10.3265 2.00192 8.80194C2.00192 8.58451 1.91554 8.37599 1.7618 8.22225C1.60806 8.0685 1.39954 7.98213 1.18211 7.98213C0.964684 7.98213 0.756164 8.0685 0.60242 8.22225C0.448677 8.37599 0.362305 8.58451 0.362305 8.80194C0.362305 10.4234 0.843112 12.0084 1.74393 13.3565C2.64474 14.7047 3.9251 15.7555 5.4231 16.376C6.9211 16.9964 8.56945 17.1588 10.1597 16.8425C11.75 16.5261 13.2107 15.7454 14.3573 14.5988C15.5038 13.4523 16.2846 11.9916 16.6009 10.4013C16.9172 8.81103 16.7549 7.16268 16.1344 5.66468C15.5139 4.16668 14.4631 2.88632 13.115 1.9855C11.7668 1.08469 10.1818 0.603882 8.56036 0.603882ZM8.56036 5.52272C8.34293 5.52272 8.13441 5.60909 7.98067 5.76283C7.82693 5.91657 7.74055 6.12509 7.74055 6.34252V8.80194C7.74055 9.01936 7.82693 9.22788 7.98067 9.38163C8.13441 9.53537 8.34293 9.62174 8.56036 9.62174H11.8396C12.057 9.62174 12.2655 9.53537 12.4193 9.38163C12.573 9.22788 12.6594 9.01936 12.6594 8.80194C12.6594 8.58451 12.573 8.37599 12.4193 8.22225C12.2655 8.0685 12.057 7.98213 11.8396 7.98213H9.38017V6.34252C9.38017 6.12509 9.29379 5.91657 9.14005 5.76283C8.98631 5.60909 8.77779 5.52272 8.56036 5.52272Z\"\n      fill=\"#9794B6\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const Cron = () => (\n  <svg\n    width=\"19\"\n    height=\"20\"\n    viewBox=\"0 0 19 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M12.7791 5.19588C11.8893 4.62312 10.83 4.29083 9.69317 4.29083C6.54008 4.29083 3.98401 6.84691 3.98401 9.99999C3.98401 13.1531 6.54008 15.7092 9.69317 15.7092C10.7261 15.7092 11.695 15.4348 12.5309 14.9551L15.0815 17.5057C13.5648 18.5965 11.704 19.2389 9.69317 19.2389C4.59064 19.2389 0.454224 15.1025 0.454224 9.99999C0.454224 4.89746 4.59064 0.761047 9.69317 0.761047C11.8064 0.761047 13.754 1.47057 15.3106 2.66438L12.7791 5.19588Z\"\n      fill=\"white\"\n    />\n    <path\n      d=\"M17.6556 5.31123L15.0215 7.94539C15.2675 8.58293 15.4023 9.27571 15.4023 9.99999C15.4023 10.8324 15.2242 11.6232 14.904 12.3363L17.5041 14.9365C18.4085 13.5084 18.9321 11.8154 18.9321 9.99999C18.9321 8.2885 18.4667 6.6857 17.6556 5.31123Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const Plus = (props) => (\n  <svg\n    width=\"13\"\n    height=\"13\"\n    viewBox=\"0 0 13 13\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M6.62713 1.5929L6.62709 6.50002M6.62705 11.4071L6.62709 6.50002M6.62709 6.50002L11.5342 6.50002M6.62709 6.50002L1.72001 6.50002\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const Start = (props) => (\n  <svg\n    width=\"8\"\n    height=\"8\"\n    viewBox=\"0 0 8 8\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M7.17026 3.36901C7.72501 3.6893 7.72501 4.49002 7.17026 4.81031L2.10367 7.7355C1.54891 8.05579 0.855469 7.65543 0.855469 7.01486L0.85547 1.16446C0.85547 0.523887 1.54891 0.123526 2.10367 0.443814L7.17026 3.36901Z\"\n      fill=\"#2EDDD9\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const Stop = (props) => (\n  <svg\n    width=\"11\"\n    height=\"11\"\n    viewBox=\"0 0 11 11\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <rect\n      x=\"0.429626\"\n      y=\"0.930298\"\n      width=\"9.58382\"\n      height=\"9.58382\"\n      rx=\"2\"\n      fill=\"#F56173\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const Pause = (props) => (\n  <svg\n    width=\"11\"\n    height=\"11\"\n    viewBox=\"0 0 11 11\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M2.42963 2.28638V8.60681\"\n      stroke=\"#FFAB6A\"\n      strokeWidth=\"3\"\n      strokeLinecap=\"round\"\n    />\n    <path\n      d=\"M8.76996 2.28638V8.60681\"\n      stroke=\"#FFAB6A\"\n      strokeWidth=\"3\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const PlusGradient = (props) => (\n  <svg\n    width=\"30\"\n    height=\"30\"\n    viewBox=\"0 0 30 30\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <circle cx=\"14.5566\" cy=\"14.7314\" r=\"14.5\" fill=\"url(#paint0_linear)\" />\n    <path\n      d=\"M14.7506 10.7635L14.7506 14.7314M14.7506 18.6993L14.7506 14.7314M14.7506 14.7314L18.7185 14.7314M14.7506 14.7314L10.7827 14.7314\"\n      stroke=\"#1F1D37\"\n      strokeWidth=\"2.5\"\n      strokeLinecap=\"round\"\n    />\n    <defs>\n      <linearGradient\n        id=\"paint0_linear\"\n        x1=\"-2.34261\"\n        y1=\"7.84647\"\n        x2=\"34.6054\"\n        y2=\"32.139\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stop-color=\"#FF856A\" />\n        <stop offset=\"1\" stop-color=\"#FFCD6A\" />\n      </linearGradient>\n    </defs>\n  </svg>\n);\n","import React from 'react';\n\nexport const Link = (props) => (\n  <svg\n    width=\"20\"\n    height=\"21\"\n    viewBox=\"0 0 20 21\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <g clipPath=\"url(#clip0)\">\n      <path\n        d=\"M8.31055 11.6724C8.66342 12.1442 9.11362 12.5345 9.63062 12.817C10.1476 13.0994 10.7193 13.2674 11.3069 13.3095C11.8945 13.3516 12.4843 13.2668 13.0363 13.0609C13.5883 12.855 14.0895 12.5328 14.506 12.1161L16.9711 9.65109C17.7194 8.87624 18.1335 7.83845 18.1242 6.76124C18.1148 5.68403 17.6827 4.65359 16.921 3.89186C16.1593 3.13013 15.1288 2.69805 14.0516 2.68869C12.9744 2.67933 11.9366 3.09344 11.1618 3.84181L9.74849 5.24689\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.64336\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M11.5972 10.0291C11.2444 9.55731 10.7942 9.16697 10.2772 8.88451C9.76017 8.60205 9.18847 8.43408 8.60085 8.392C8.01323 8.34991 7.42344 8.4347 6.87147 8.6406C6.3195 8.8465 5.81826 9.1687 5.40176 9.58535L2.93672 12.0504C2.18835 12.8252 1.77424 13.863 1.7836 14.9402C1.79296 16.0175 2.22504 17.0479 2.98677 17.8096C3.7485 18.5714 4.77894 19.0034 5.85615 19.0128C6.93336 19.0222 7.97115 18.608 8.746 17.8597L10.1511 16.4546\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.64336\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0\">\n        <rect\n          width=\"19.7203\"\n          height=\"19.7203\"\n          fill=\"white\"\n          transform=\"translate(0.09375 0.990601)\"\n        />\n      </clipPath>\n    </defs>\n  </svg>\n);\n","import React from 'react';\n\nexport const ArrowLeft = () => (\n  <svg\n    width=\"9\"\n    height=\"14\"\n    viewBox=\"0 0 9 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M7.44798 12.8541L1.86072 7.26685L7.44798 1.67958\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import {useEffect, useState} from 'react';\nimport {TokenFormatter} from '../../lib/formatting';\nimport {usePrev} from '../../lib/usePrev';\n\nexport function StreamSpeedCalcField({onChange, deposit = 0, token}) {\n  const formatter = TokenFormatter(token);\n\n  const [days, setDays] = useState(0.0);\n  const [minutes, setMinutes] = useState(0);\n  const [hours, setHours] = useState(0);\n\n  const SECONDS_IN_MINUTE = 60;\n  const SECONDS_IN_HOUR = SECONDS_IN_MINUTE * 60;\n  const SECONDS_IN_DAY = SECONDS_IN_HOUR * 24;\n\n  const durationInSeconds =\n    days * SECONDS_IN_DAY +\n    minutes * SECONDS_IN_MINUTE +\n    hours * SECONDS_IN_HOUR;\n\n  let tokensPerTick = Math.round(\n    deposit / formatter.secondsToTicks(durationInSeconds),\n  );\n\n  if (isNaN(tokensPerTick)) {\n    tokensPerTick = 0;\n  } else if (tokensPerTick === Infinity) {\n    tokensPerTick = 0;\n  }\n\n  const prevSpeed = usePrev(tokensPerTick);\n\n  useEffect(() => {\n    if (prevSpeed !== tokensPerTick) {\n      onChange(tokensPerTick);\n    }\n  }, [tokensPerTick, onChange, prevSpeed]);\n\n  return (\n    <div className=\"twind-flex\" label=\"Stream duration\">\n      <label className=\"twind-w-1/3 input twind-font-semibold twind-flex twind-p-4 twind-rounded-l-lg twind-border-border twind-border twind-bg-input twind-text-white focus-within:twind-border-blue hover:twind-border-blue\">\n        <input\n          className=\"focus:twind-outline-none input twind-bg-input twind-w-1/3\"\n          placeholder=\"0\"\n          value={days}\n          onChange={(e) => {\n            setDays(e.target.value);\n          }}\n        />\n        <div className=\"twind-right-2 twind-opacity-100 twind-w-1/3\">days</div>\n      </label>\n      <label className=\"twind-w-1/3 input twind-font-semibold twind-flex twind-p-4 twind-border-border twind-border twind-bg-input twind-text-white focus-within:twind-border-blue hover:twind-border-blue\">\n        <input\n          className=\"focus:twind-outline-none input twind-bg-input twind-w-1/3\"\n          placeholder=\"0\"\n          value={hours}\n          onChange={(e) => setHours(e.target.value)}\n        />\n        <div className=\"twind-right-2 twind-opacity-100 twind-w-1/3\">hours</div>\n      </label>\n      <label className=\"twind-w-1/3 input twind-font-semibold twind-flex twind-p-4 twind-rounded-r-lg twind-border-border twind-border twind-bg-input twind-text-white focus-within:twind-border-blue hover:twind-border-blue\">\n        <input\n          className=\"focus:twind-outline-none input twind-bg-input twind-w-1/3\"\n          placeholder=\"0\"\n          value={minutes}\n          onChange={(e) => setMinutes(e.target.value)}\n        />\n        <div className=\"twind-right-2 twind-opacity-100 twind-w-1/3\">mins</div>\n      </label>\n    </div>\n  );\n}\n","import {useRef, useEffect} from 'react';\n\nexport function usePrev(value) {\n  const ref = useRef(null);\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n","import React, {useState} from 'react';\nimport {Formik, Field} from 'formik';\nimport * as Yup from 'yup';\n\nimport {FormField, Input, Button} from '../../components/kit';\nimport {useNear} from '../near-connect/useNear';\nimport {\n  DropdownMenu,\n  DropdownMenuItem,\n  DropdownOpener,\n  RadioButton,\n} from '../../components/kit';\nimport {Tokens} from '../../components/icons';\nimport {tokens, TokenFormatter} from '../../lib/formatting';\nimport {StreamSpeedCalcField} from './StreamSpeedCalcField';\n\nconst CreateStreamFormSchema = Yup.object().shape({\n  owner: Yup.string().required('Owner is a required'),\n  receiver: Yup.string().required('Receiver is a required'),\n  token: Yup.string().required(),\n  deposit: Yup.number().required().moreThan(0, 'Deposit should be more than 0'),\n  speed: Yup.number().required().moreThan(0, 'Choose stream duration'),\n  autoDeposit: Yup.boolean(),\n  comment: Yup.string().max(255),\n});\n\nexport function CreateStreamForm({account, onSubmit}) {\n  const near = useNear();\n  const profileId = near.auth.signedAccountId;\n\n  const [dropdownOpened, setDropdownOpened] = useState(false);\n\n  const [submitError, setError] = useState(null);\n\n  const tokensNames = Object.keys(tokens).filter((item) => item !== 'fallback');\n\n  const formikOnSubmit = async (...args) => {\n    try {\n      let res = await onSubmit(...args);\n      return res;\n    } catch (error) {\n      setError(error);\n    }\n  };\n  return (\n    <Formik\n      initialValues={{\n        owner: profileId,\n        receiver: '',\n        token: 'NEAR',\n        speed: 0,\n        deposit: 0,\n        autoDeposit: false,\n        comment: '',\n      }}\n      validationSchema={CreateStreamFormSchema}\n      onSubmit={formikOnSubmit}\n      validateOnBlur={false}\n      validateOnChange={false}\n      validateOnMount={false}\n    >\n      {({\n        values,\n        setFieldValue,\n        setFieldTouched,\n        handleSubmit,\n        isSubmitting,\n      }) => {\n        const formatter = TokenFormatter(values.token);\n        return (\n          <form\n            className=\"twind-max-w-lg twind-mx-auto twind-w-full\"\n            onSubmit={handleSubmit}\n          >\n            <Field name=\"owner\">\n              {({\n                field, // { name, value, onChange, onBlur }\n                form: {touched, errors}, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n                meta,\n              }) => (\n                <FormField\n                  label=\"Owner:\"\n                  className=\"twind-mb-4\"\n                  error={meta.error}\n                >\n                  <Input>\n                    <input\n                      placeholder=\"owner.near\"\n                      id=\"ownerInput\"\n                      {...field}\n                    />\n                  </Input>\n                </FormField>\n              )}\n            </Field>\n\n            <Field name=\"receiver\">\n              {({\n                field, // { name, value, onChange, onBlur }\n                form: {touched, errors}, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n                meta,\n              }) => (\n                <FormField\n                  label=\"Receiver:\"\n                  className=\"twind-mb-4\"\n                  error={meta.error}\n                >\n                  <Input>\n                    <input\n                      placeholder=\"owner.near\"\n                      id=\"ownerInput\"\n                      {...field}\n                    />\n                  </Input>\n                </FormField>\n              )}\n            </Field>\n\n            <div className=\"twind-flex twind-mb-4\">\n              <Field name=\"token\">\n                {({\n                  field, // { name, value, onChange, onBlur }\n                  form: {touched, errors}, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n                  meta,\n                }) => (\n                  <FormField\n                    label=\"Token:\"\n                    className=\"twind-w-1/3 twind-items-center twind-relative\"\n                    error={meta.error}\n                  >\n                    <DropdownOpener\n                      minimal\n                      className=\"twind-bg-input twind-text-white focus-within:twind-border-blue hover:twind-border-blue twind-text-xl twind-h-14 twind-px-4 twind-py-3 twind-border twind-border-border twind-w-36\"\n                      onClick={() => {\n                        setDropdownOpened(!dropdownOpened);\n                      }}\n                    >\n                      <div className=\"twind-inline-flex\">\n                        {<Tokens tokenName={field.value} />}{' '}\n                        <span>{field.value}</span>\n                      </div>\n                    </DropdownOpener>\n\n                    <DropdownMenu\n                      opened={dropdownOpened}\n                      className=\"twind-z-10\"\n                    >\n                      {tokensNames.map((option) => (\n                        <DropdownMenuItem\n                          className=\"focus-within:twind-border-blue\"\n                          key={option}\n                        >\n                          <RadioButton\n                            label={\n                              <div className=\"twind-inline-flex\">\n                                {<Tokens tokenName={option} />}{' '}\n                                <span>{option}</span>\n                              </div>\n                            }\n                            active={field.value === option}\n                            value={option}\n                            onChange={(value) => {\n                              setDropdownOpened(false);\n                              setFieldValue(field.name, value, false);\n                              setFieldTouched(field.name, true, false);\n                            }}\n                          />\n                        </DropdownMenuItem>\n                      ))}\n                    </DropdownMenu>\n                  </FormField>\n                )}\n              </Field>\n\n              <Field name=\"deposit\">\n                {({\n                  field, // { name, value, onChange, onBlur }\n                  form: {touched, errors}, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n                  meta,\n                }) => (\n                  <FormField\n                    label=\"Amount to stream:\"\n                    className=\"twind-w-2/3\"\n                    error={meta.error}\n                  >\n                    <Input>\n                      <input placeholder=\"0.00\" {...field} />\n                    </Input>\n                  </FormField>\n                )}\n              </Field>\n            </div>\n\n            <div className=\"twind-block twind-mb-4\">\n              <Field name=\"speed\">\n                {({\n                  field, // { name, value, onChange, onBlur }\n                  form: {touched, errors}, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n                  meta,\n                }) => (\n                  <FormField\n                    label={\n                      <div className=\"twind-relative\">\n                        <div>Stream duration:</div>\n                        <div className=\"twind-text-xs twind-text-gray twind-absolute twind-right-0 twind-top-1\">\n                          Streaming speed: {formatter.tokensPerS(field.value)}{' '}\n                          {values.token} / sec\n                        </div>\n                      </div>\n                    }\n                    error={meta.error}\n                  >\n                    {' '}\n                    <StreamSpeedCalcField\n                      token={values.token}\n                      deposit={formatter.toInt(values.deposit)}\n                      onChange={(speed) => {\n                        setFieldValue(field.name, speed, false);\n                        setFieldTouched(field.name, true, false);\n                      }}\n                    />\n                  </FormField>\n                )}\n              </Field>\n            </div>\n\n            <Field name=\"comment\">\n              {({\n                field, // { name, value, onChange, onBlur }\n                form: {touched, errors}, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n                meta,\n              }) => (\n                <FormField\n                  className=\"twind-mb-6\"\n                  error={meta.error}\n                  label={\n                    <div className=\"twind-flex twind-justify-between twind-items-center\">\n                      <div className=\"twind-mb-1\">Comment:</div>\n                      <div className=\"twind-text-xs twind-text-gray\">\n                        {(field.value && field.value.length) || 0}/255\n                      </div>\n                    </div>\n                  }\n                >\n                  <label className=\"twind-h-40 Input twind-font-semibold twind-flex twind-p-4 twind-pt-0 twind-rounded-lg twind-border  twind-bg-input twind-text-white focus-within:twind-border-blue hover:twind-border-blue twind-border-border\">\n                    <textarea\n                      id=\"commentInput\"\n                      className=\" twind-bg-input  twind-w-full twind-h-full twind-pt-2 focus:twind-outline-none twind-resize-none\"\n                      placeholder=\"Enter comment\"\n                      maxLength=\"255\"\n                      {...field}\n                    />\n                  </label>\n                </FormField>\n              )}\n            </Field>\n\n            {submitError && (\n              <p className=\"twind-text-special-inactive twind-my-4\">\n                Submit error: {submitError.message}\n              </p>\n            )}\n            <div className=\"twind-flex twind-relaitive\">\n              <div>\n                <label className=\"twind-flex\">\n                  <Field\n                    name=\"autoDeposit\"\n                    className=\"twind-mr-1\"\n                    type=\"checkbox\"\n                  />\n                  <span>Enable auto deposit?</span>\n                </label>\n\n                <p className=\"twind-text-left twind-text-gray twind-w-2/3 twind-text-sm\">\n                  You will be charged 0.1 NEAR fee for that stream\n                </p>\n              </div>\n\n              <Button\n                disabled={isSubmitting}\n                variant=\"main\"\n                size=\"big\"\n                className=\"twind-rounded-lg\"\n              >\n                Create Stream\n              </Button>\n            </div>\n          </form>\n        );\n      }}\n    </Formik>\n  );\n}\n","import React from 'react';\nimport useSWR from 'swr';\n\nimport {useNear} from '../features/near-connect/useNear';\nimport {TokenFormatter} from '../lib/formatting.js';\nimport {CreateStreamForm} from '../features/create-stream/CreateStreamForm';\n\nfunction SendPage() {\n  const near = useNear();\n  const profileId = near.auth.signedAccountId;\n\n  async function createStreamClick(values) {\n    const {owner, receiver, autoDeposit, comment, deposit, speed, token} =\n      values;\n    const formatter = TokenFormatter(token);\n\n    console.log('creating', token);\n    console.log('token', near.near.fts[token]);\n    const res =\n      token === 'NEAR'\n        ? await near.contractApi.createStream({\n            deposit: formatter.toInt(deposit),\n            description: comment,\n            ownerId: owner,\n            receiverId: receiver,\n            token: token,\n            speed: String(speed),\n            autoDepositEnabled: autoDeposit,\n          })\n        : await near.near.fts[token].contract.ft_transfer_call(\n            {\n              receiver_id: near.near.contractName,\n              amount: deposit,\n              memo: 'xyiming transfer',\n              msg: JSON.stringify({\n                Create: {\n                  description: comment,\n                  owner_id: owner,\n                  receiver_id: receiver,\n                  token_name: token,\n                  balance: formatter.toInt(deposit),\n                  tokens_per_tick: String(speed),\n                  auto_deposit_enabled: autoDeposit,\n                },\n              }),\n            },\n            '200000000000000',\n            1,\n          );\n  }\n\n  const fetchAccount = async (...args) => {\n    try {\n      if (!profileId) {\n        return [];\n      }\n      return await near.near.contract.get_account({account_id: profileId});\n    } catch (e) {\n      console.log('near error', e);\n    }\n    return [];\n  };\n\n  const {data: account} = useSWR(['account', profileId], fetchAccount, {\n    errorRetryInterval: 250,\n  });\n\n  return (\n    <div className=\"twind-container twind-m-auto twind-px-5 twind-py-12\">\n      <div className=\"twind-text-center\">\n        <h1 className=\"twind-text-5xl twind-mb-4 twind-text-center\">\n          Create a stream\n        </h1>\n        <p className=\"twind-text-gray\">\n          Stream your tokens to the receiver directly\n        </p>\n      </div>\n      <CreateStreamForm onSubmit={createStreamClick} />\n    </div>\n  );\n}\n\nexport default SendPage;\n","import React from 'react';\nimport {Button} from '../../components/kit';\nimport {useNearAuth} from './useNearAuth';\nimport {Tokens} from '../../components/icons';\n\nexport function NearAuthButton(props) {\n  const {inited, logout, login, accountId, signedIn} = useNearAuth();\n\n  if (!inited) {\n    return (\n      <Button {...props}>\n        Connecting...{' '}\n        <span\n          className=\"spinner-grow spinner-grow-sm\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        />\n      </Button>\n    );\n  }\n\n  return signedIn ? (\n    <Button onClick={logout} {...props}>\n      Sign out ({accountId})\n    </Button>\n  ) : (\n    <Button onClick={login} {...props}>\n      Sign in with NEAR Wallet\n    </Button>\n  );\n}\n","import {useNear} from '../near-connect/useNear';\n\nexport function useNearAuth() {\n  const near = useNear();\n\n  async function login(e) {\n    e && e.preventDefault();\n    await near.login();\n    return false;\n  }\n\n  async function logout(e) {\n    await near.logout();\n  }\n  return {\n    accountId: near.auth.signedAccountId,\n    signedIn: near.auth.signedIn,\n    inited: near.inited,\n    login,\n    logout,\n  };\n}\n","export const routes = {\n  authorize: '/authorize',\n  account: '/account',\n  myStreams: '/my_streams',\n  send: '/',\n  receive: '/receive',\n  stream: (id) => `/my_streams/${id}`,\n};\n","export default __webpack_public_path__ + \"static/media/logo_stream_with_text.765f9ae8.svg\";","import React from 'react';\n\nexport function useBool(initial) {\n  const [on, setOn] = React.useState(initial);\n\n  return {\n    on,\n    off: !on,\n    toggle: () => setOn(!on),\n    turnOff: () => setOn(false),\n    turnOn: () => setOn(true),\n  };\n}\n","import React from 'react';\nimport * as icons from './icons';\nimport {NavLink} from './kit';\nimport {NearAuthButton} from '../features/near-auth/NearAuthButton';\nimport classNames from 'classnames';\nimport {routes} from '../lib/routing';\nimport LogoText from '../images/logo_stream_with_text.svg';\nimport {useBool} from '../lib/useBool';\n\nexport function Header({signedIn}) {\n  const menuControl = useBool(false);\n\n  const navigation = signedIn ? (\n    <ul className=\"twind-flex-col lg:twind-flex-row twind-flex twind-justify-center \">\n      <li className=\"twind-mb-2 lg:twind-mr-2 lg:twind-mb-0\">\n        <NavLink\n          onClick={menuControl.turnOff}\n          to={routes.account}\n          icon={<icons.Account />}\n        >\n          Account\n        </NavLink>\n      </li>\n      <li className=\"twind-mb-2 lg:twind-mr-2 lg:twind-mb-0\">\n        <NavLink\n          onClick={menuControl.turnOff}\n          to={routes.myStreams}\n          icon={<icons.Streams />}\n        >\n          My Streams\n        </NavLink>\n      </li>\n      <li className=\"twind-mb-2 lg:twind-mr-2 lg:twind-mb-0\">\n        <NavLink\n          onClick={menuControl.turnOff}\n          to={routes.send}\n          icon={<icons.Send />}\n        >\n          Send\n        </NavLink>\n      </li>\n    </ul>\n  ) : (\n    ''\n  );\n\n  const logo = (\n    <div className=\"twind-flex twind-justify-start twind-items-center\">\n      <img src={LogoText} alt=\"xyiming logo\" />\n    </div>\n  );\n\n  return (\n    <div\n      className={\n        'twind-py-4 twind-px-6 ' +\n        (!signedIn ? 'twind-absolute twind-w-full twind-pt-8' : '')\n      }\n    >\n      <div\n        className={classNames(\n          signedIn\n            ? 'twind-hidden lg:twind-grid twind-items-center twind-grid-cols-3 twind-gap-3 '\n            : 'twind-hidden lg:twind-flex twind-justify-center',\n        )}\n      >\n        {logo}\n        {navigation}\n\n        {signedIn ? (\n          <div className=\"twind-flex twind-justify-end\">\n            <NearAuthButton />\n          </div>\n        ) : (\n          ''\n        )}\n      </div>\n\n      <div className={classNames('lg:twind-hidden')}>\n        <div\n          className={\n            signedIn\n              ? 'twind-flex twind-justify-between'\n              : 'twind-flex twind-justify-center'\n          }\n        >\n          {logo}\n\n          {signedIn ? (\n            <button\n              className=\"twind-p-1\"\n              onClick={menuControl.toggle}\n              type=\"button\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target=\"#navbarSupportedContent\"\n              aria-controls=\"navbarSupportedContent\"\n              aria-expanded=\"false\"\n              aria-label=\"Toggle navigation\"\n            >\n              <div\n                className={classNames(\n                  'burger-menu',\n                  menuControl.on ? 'burger-menu--active' : '',\n                )}\n              />\n            </button>\n          ) : (\n            ''\n          )}\n        </div>\n        <div\n          className={classNames(\n            menuControl.on ? 'twind-block' : 'twind-hidden',\n            'twind-mt-4',\n          )}\n          id=\"navbarSupportedContent\"\n        >\n          {navigation}\n          <NearAuthButton className=\"mt-4\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {streamViewData} from '.';\nimport {StreamIn, StreamOut} from '../../components/icons';\nimport classNames from 'classnames';\n\nexport function StreamingSpeed({stream, direction, className, ...rest}) {\n  const {tf} = streamViewData(stream);\n\n  const speedInfo = tf.tokensPerMeaningfulPeriod(stream.tokens_per_tick);\n\n  return (\n    <div\n      className={classNames(\n        'twind-inline-flex twind-items-center twind-whitespace-nowrap',\n        className,\n      )}\n      {...rest}\n    >\n      {direction === 'out' ? (\n        <StreamOut />\n      ) : direction === 'in' ? (\n        <StreamIn />\n      ) : (\n        ''\n      )}\n      <span className=\"twind-ml-2\">\n        <span>@{speedInfo.formattedValue}</span>\n        <span>\n          {' '}\n          {stream.token_name} / {speedInfo.unit}\n        </span>\n      </span>\n    </div>\n  );\n}\n","import React from 'react';\nimport {useNear} from '../near-connect/useNear';\n\nconst STREAM_CONTROL_ID_NOT_PROVIDED = new Error(\n  'Provide stream id to use stream methods',\n);\n\nexport function useStreamControl(streamId) {\n  const ensureMethodHasStreamId = () => {\n    if (!streamId) throw STREAM_CONTROL_ID_NOT_PROVIDED;\n  };\n  const near = useNear();\n  const [loading, setLoading] = React.useState(false);\n\n  async function updateAllAndWithdraw() {\n    console.log('updating all account');\n\n    await near.contractApi.updateAccount({});\n    console.log('update completed');\n  }\n\n  async function enable() {\n    ensureMethodHasStreamId();\n    console.log('enable', streamId);\n    const res = await near.contractApi.changeAutoDeposit({\n      streamId,\n      autoDeposit: true,\n    });\n  }\n\n  async function disable() {\n    ensureMethodHasStreamId();\n    console.log('disabling', streamId);\n    const res = await near.contractApi.changeAutoDeposit({\n      streamId,\n      autoDeposit: false,\n    });\n  }\n\n  async function deposit({token, deposit}) {\n    ensureMethodHasStreamId();\n    console.log('depositing', token, streamId);\n    token === 'NEAR'\n      ? await near.contractApi.depositStream({\n          streamId,\n          deposit,\n        })\n      : await near.near.fts[token].ft_transfer_call(\n          {\n            receiver_id: near.near.contractName,\n            amount: deposit,\n            memo: 'xyiming transfer',\n            msg: streamId,\n          },\n          '200000000000000',\n          1,\n        );\n  }\n\n  async function pause() {\n    ensureMethodHasStreamId();\n    console.log('pausing', streamId);\n    const res = await near.contractApi.pauseStream({\n      streamId,\n    });\n    console.log('pausing res', res);\n\n    return res;\n  }\n\n  async function restart() {\n    ensureMethodHasStreamId();\n    console.log('restarting', streamId);\n    const res = await near.contractApi.startStream({streamId: streamId});\n    console.log('restarting res', res);\n\n    return res;\n  }\n\n  async function stop() {\n    ensureMethodHasStreamId();\n    console.log('Stop called stopping', streamId);\n    const res = await near.contractApi.stopStream({streamId: streamId});\n    console.log('stopping res', res);\n    return res;\n  }\n\n  function wrapped(fn) {\n    return async (...args) => {\n      if (loading) return;\n\n      setLoading(true);\n\n      try {\n        return await fn(...args);\n      } finally {\n        setLoading(false);\n      }\n    };\n  }\n\n  return {\n    loading,\n    updateAllAndWithdraw: wrapped(updateAllAndWithdraw),\n    pause: wrapped(pause),\n    restart: wrapped(restart),\n    stop: wrapped(stop),\n    deposit: wrapped(deposit),\n    enable: wrapped(enable),\n    disable: wrapped(disable),\n  };\n}\n","export const STREAM_STATUS = {\n  INITIALIZED: 'INITIALIZED',\n  ACTIVE: 'ACTIVE',\n  PAUSED: 'PAUSED',\n  FINISHED: 'FINISHED',\n  INTERRUPTED: 'INTERRUPTED',\n};\nexport const STREAM_DIRECTION = {\n  IN: 'in',\n  OUT: 'out',\n};\nexport const STREAM_AUTODEPOSIT_STATUS = {\n  ENABLED: 'enabled',\n  DISABLED: 'disabled',\n};\n\nexport const STREAM_ACTION_TYPE = {\n  INIT: 'Init',\n  DEPOSIT: 'Deposit',\n  START: 'Start',\n  WITHDRAW: 'Withdraw',\n  PAUSE: 'Pause',\n  STOP: 'Stop',\n};\n","import {STREAM_STATUS} from './lib';\nimport classNames from 'classnames';\n\nexport function StreamStatus({stream, className, ...rest}) {\n  const bindings = {\n    [STREAM_STATUS.INITIALIZED]: {\n      colorClass: 'twind-text-special-active',\n      label: 'Initialized',\n    },\n    [STREAM_STATUS.ACTIVE]: {\n      colorClass: 'twind-text-special-active',\n      label: 'Active',\n    },\n    [STREAM_STATUS.PAUSED]: {\n      colorClass: 'twind-text-special-hold',\n      label: 'Paused',\n    },\n    [STREAM_STATUS.FINISHED]: {\n      colorClass: 'twind-text-special-active',\n      label: 'Finished',\n    },\n    [STREAM_STATUS.INTERRUPTED]: {\n      colorClass: 'twind-text-special-inactive',\n      label: 'Interrupted',\n    },\n  };\n\n  const binding = bindings[stream.status] || {};\n\n  return (\n    <div className={classNames(binding.colorClass, className)} {...rest}>\n      {binding.label}\n    </div>\n  );\n}\n","import React, {useState} from 'react';\nimport {useStreamControl} from './useStreamControl';\nimport {useNear} from '../near-connect/useNear';\nimport {\n  DropdownOpener,\n  DropdownMenu,\n  DropdownMenuDivider,\n  DropdownMenuItem,\n} from '../../components/kit';\nimport {StreamStatus} from './StreamStatus';\nimport {STREAM_STATUS} from './lib';\nimport {Stop, Pause, Start} from '../../components/icons';\nimport classNames from 'classnames';\n\nexport function StreamControls({stream, minimal, className}) {\n  const near = useNear();\n\n  const isOutgoing = near.near.accountId === stream.owner_id;\n  const isDead =\n    stream.status === STREAM_STATUS.INTERRUPTED ||\n    stream.status === STREAM_STATUS.FINISHED;\n  const [menuOpened, setMenuOpened] = useState(false);\n\n  const controls = useStreamControl(stream.stream_id);\n\n  if (isDead) {\n    return <StreamStatus stream={stream} />;\n  }\n\n  return (\n    <div className={classNames(className, 'twind-relative twind-inline-flex')}>\n      <DropdownOpener\n        minimal={minimal}\n        opened={menuOpened || !controls.loading}\n        onClick={() => setMenuOpened(!menuOpened)}\n      >\n        {controls.loading ? 'Loading...' : <StreamStatus stream={stream} />}\n      </DropdownOpener>\n      <DropdownMenu opened={menuOpened} className=\"twind-top-full twind-w-44\">\n        {stream.status !== STREAM_STATUS.ACTIVE && isOutgoing ? (\n          <>\n            <DropdownMenuItem>\n              <button\n                className=\"twind-inline-flex twind-items-center twind-font-semibold\"\n                onClick={controls.restart}\n              >\n                <Start className=\"twind-mr-4 twind-flex-shrink-0\" />\n                <span>Start stream </span>{' '}\n              </button>\n            </DropdownMenuItem>\n            <DropdownMenuDivider />\n          </>\n        ) : null}\n        {stream.status !== STREAM_STATUS.PAUSED ? (\n          <>\n            <DropdownMenuItem>\n              <button\n                className=\"twind-inline-flex twind-items-center twind-font-semibold\"\n                onClick={controls.pause}\n              >\n                <Pause className=\"twind-mr-4 twind-flex-shrink-0\" />\n                <span>Pause stream</span>\n              </button>\n            </DropdownMenuItem>\n            <DropdownMenuDivider />\n          </>\n        ) : null}\n\n        <DropdownMenuItem>\n          <button\n            className=\"twind-inline-flex twind-items-center twind-font-semibold\"\n            onClick={controls.stop}\n          >\n            <Stop className=\"twind-mr-4 twind-flex-shrink-0\" />\n            <span> Stop stream </span>\n          </button>\n        </DropdownMenuItem>\n      </DropdownMenu>\n    </div>\n  );\n}\n","import {STREAM_AUTODEPOSIT_STATUS} from './lib';\nimport classNames from 'classnames';\n\nexport function StreamAutodepositStatus({stream, className, disableMsg, enableMsg,...rest}) {\n  const bindings = {\n    [STREAM_AUTODEPOSIT_STATUS.ENABLED]: {\n      colorClass: 'twind-text-special-hold',\n      label: disableMsg || 'Enabled',\n    },\n    [STREAM_AUTODEPOSIT_STATUS.DISABLED]: {\n      colorClass: 'twind-text-special-active',\n      label: enableMsg || 'Disabled',\n    },\n  };\n\n  const status = stream.auto_deposit_enabled ? 'enabled' : 'disabled';\n  const binding = bindings[status] || {};\n\n  return (\n    <div className={classNames(binding.colorClass, className)} {...rest}>\n      {binding.label}\n    </div>\n  );\n}\n","import React, {useState} from 'react';\nimport {Button, Input} from '../../components/kit';\nimport {useStreamControl} from './useStreamControl';\nimport {TokenFormatter} from '../../lib/formatting';\nimport {useBool} from '../../lib/useBool';\nimport Modal from 'react-modal';\nimport {Plus, PlusGradient} from '../../components/icons';\n\nfunction useDepositButton({stream}) {\n  const controls = useStreamControl(stream.stream_id);\n  const [deposit, setDeposit] = useState('');\n  const tf = TokenFormatter(stream.token_name);\n  const modalControl = useBool(false);\n\n  const modal = (\n    <Modal\n      isOpen={modalControl.on}\n      onRequestClose={modalControl.turnOff}\n      className=\"ModalContent\"\n      overlayClassName=\"ModalOverlay\"\n    >\n      <h2 className=\"twind-text-2xl twind-mb-6\">Amount to deposit</h2>\n      <Input className=\"twind-mb-4\">\n        <input\n          placeholder={`0.00 ${stream.token_name}`}\n          className=\"twind-text-black\"\n          value={deposit}\n          onChange={(e) => setDeposit(e.target.value)}\n        />\n      </Input>\n\n      <Button\n        className=\"twind-w-full\"\n        variant=\"filled\"\n        type=\"button\"\n        onClick={() =>\n          controls.deposit({\n            token: stream.token_name,\n            deposit: tf.toInt(deposit),\n          })\n        }\n      >\n        Add funds\n      </Button>\n    </Modal>\n  );\n\n  return {\n    modal,\n    modalControl,\n  };\n}\nexport function StreamDepositButton({stream}) {\n  const depositButton = useDepositButton({stream});\n  return (\n    <>\n      <Button\n        variant=\"filled\"\n        type=\"button\"\n        onClick={depositButton.modalControl.turnOn}\n      >\n        <Plus className=\"twind-mr-2\" />\n        Add funds\n      </Button>\n      {depositButton.modal}\n    </>\n  );\n}\n\nexport function StreamDepositButtonOutlined({stream, variant = 'filled'}) {\n  const depositButton = useDepositButton({stream});\n  return (\n    <>\n      <Button\n        variant={variant}\n        color=\"dark\"\n        type=\"button\"\n        onClick={depositButton.modalControl.turnOn}\n      >\n        <PlusGradient className=\"twind-mr-2\" />\n        Add funds\n      </Button>\n      {depositButton.modal}\n    </>\n  );\n}\n","import React, {useState} from 'react';\nimport {useStreamControl} from './useStreamControl';\nimport {useNear} from '../near-connect/useNear';\nimport {Button, Input} from '../../components/kit';\nimport {StreamAutodepositStatus} from './StreamAutodepositStatus';\nimport {STREAM_STATUS} from './lib';\nimport classNames from 'classnames';\n\n\nexport function StreamAutodepositButton({stream, className, disableMsg, enableMsg}) {\n  const controls = useStreamControl(stream.stream_id);\n  return (\n    <>\n      <Button\n        variant=\"filled\"\n        type=\"button\"\n        className={className}\n        enabled\n        onClick={() =>\n          stream.auto_deposit_enabled ? controls.disable() : controls.enable()\n        }\n      >\n        {stream.auto_deposit_enabled ? disableMsg || 'Disable': enableMsg || 'Enable'}\n      </Button>\n    </>\n  );\n}\n\n\nexport function StreamAutodepositControls({stream, minimal, className, disableMsg, enableMsg, buttonClassName}) {\n  const near = useNear();\n  const isDead =\n    stream.status === STREAM_STATUS.INTERRUPTED ||\n    stream.status === STREAM_STATUS.FINISHED;\n  const controls = useStreamControl(stream.stream_id);\n\n  if (controls.loading) {\n    return <span>Loading!</span>;\n  }\n\n  if (isDead) {\n    return <StreamAutodepositStatus stream={stream} enableMsg={enableMsg} disableMsg={disableMsg}/>;\n  }\n\n  return (\n    <div className={classNames(className, 'twind-relative twind-inline-flex')}>\n        <StreamAutodepositButton\n          className={classNames(buttonClassName)}\n          stream={stream}\n          enableMsg={enableMsg}\n          disableMsg={disableMsg}\n        />\n    </div>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport {intervalToDuration, formatDuration, isValid} from 'date-fns';\n\nconst formatDistanceLocale = {\n  xYears: '{{count}} years',\n  xMonths: '{{count}} months',\n  xDays: '{{count}}d',\n  xSeconds: '{{count}}s',\n  xMinutes: '{{count}}m',\n  xHours: '{{count}}h',\n};\n\nconst shortEnLocale = {\n  formatDistance: (token, count) => {\n    return formatDistanceLocale[token].replace('{{count}}', count);\n  },\n};\n\nfunction isValidDate(d) {\n  return d instanceof Date && !isNaN(d);\n}\n\nexport function useDurationTimer({untilTimestamp}) {\n  const untilDate = new Date(untilTimestamp);\n  const dateValid = isValidDate(untilDate);\n\n  const [expired, setExpired] = useState(\n    dateValid ? new Date().getTime() > untilDate.getTime() : true,\n  );\n  const [duration, setDuration] = useState(\n    expired ? null : intervalToDuration({start: new Date(), end: untilDate}),\n  );\n\n  useEffect(() => {\n    console.log('USE EFFECT RUN AGAIN', {untilTimestamp});\n    const untilDate = new Date(untilTimestamp);\n\n    if (!isValidDate(untilDate)) return;\n\n    let id = setInterval(() => {\n      const isExpired = new Date().getTime() > untilDate.getTime();\n      setExpired(isExpired);\n      setDuration(null);\n\n      if (isExpired) {\n        return;\n      }\n\n      const duration = intervalToDuration({start: new Date(), end: untilDate});\n      setDuration(duration);\n    }, 1000);\n\n    return () => clearInterval(id);\n  }, [untilTimestamp, expired]);\n\n  return {\n    duration,\n    dateValid,\n    expired,\n  };\n}\n\nexport function DurationTimer({untilTimestamp, suffix, finishedText}) {\n  const {duration, dateValid, expired} = useDurationTimer({\n    untilTimestamp,\n  });\n\n  if (!dateValid) {\n    return <span>Invalid Date</span>;\n  }\n\n  if (!duration || expired) {\n    return <span>{finishedText}</span>;\n  }\n  const formatted =\n    formatDuration(duration, {\n      locale: shortEnLocale,\n    }) + (suffix || '');\n\n  return <span>{formatted}</span>;\n}\n","import {TokenFormatter} from '../../lib/formatting';\nimport {STREAM_STATUS} from '../stream-control/lib';\n\nexport function streamViewData(stream) {\n  const tf = TokenFormatter(stream.token_name);\n\n  // public link\n  const link = `${window.location.origin}/#/my_streams/${stream.stream_id}`;\n\n  // time left calculations\n  const secondsLeft = tf.ticksToMs(\n    Math.round(\n      (stream.balance - stream.available_to_withdraw) / stream.tokens_per_tick,\n    ),\n  );\n\n  const dateEnd = new Date(new Date().getTime() + secondsLeft);\n  const timestampEnd = dateEnd.getTime();\n\n  // progress bar calculations\n  const full = Number(stream.balance) + Number(stream.tokens_total_withdrawn);\n  const withdrawn = Number(stream.tokens_total_withdrawn);\n  const streamed =\n    Number(stream.tokens_total_withdrawn) +\n    Number(stream.available_to_withdraw);\n  const available = Number(stream.available_to_withdraw);\n\n  const left = full - streamed;\n  const progresses = [withdrawn / full, streamed / full];\n\n  const percentages = {\n    left: (full - streamed) / full,\n    streamed: streamed / full,\n    withdrawn: withdrawn / full,\n    available: available / full,\n  };\n\n  const isDead =\n    stream.status === STREAM_STATUS.FINISHED ||\n    stream.status === STREAM_STATUS.INTERRUPTED;\n\n  return {\n    dateEnd,\n    progresses,\n    tf,\n    isDead,\n    percentages,\n    link,\n    timestampEnd,\n    progress: {\n      full,\n      withdrawn,\n      streamed,\n      left,\n      available,\n    },\n  };\n}\n","import classNames from 'classnames';\nimport React from 'react';\nimport copy from 'clipboard-copy';\nimport {Link} from 'react-router-dom';\n\nimport {StreamingSpeed} from './StreamingSpeed';\nimport {ProgressBar, Button, TokenImage} from '../../components/kit';\nimport {\n  StreamControls,\n  StreamAutodepositControls,\n  StreamDepositButton,\n} from '../stream-control';\nimport {DurationTimer} from '../../components/DurationTimer';\nimport {routes} from '../../lib/routing';\nimport {streamViewData} from './streamViewData';\nimport {Link as LinkIcon} from '../../components/icons';\nimport numbro from 'numbro';\nimport {STREAM_STATUS} from '../stream-control/lib';\n\nconst streamType = {\n  stream_id: 'FnVkAYZu4XED3o44pZPvrnghVEMxo3GiHszUT4orjYST',\n  description: 'test stream',\n  owner_id: 'kpr.testnet',\n  receiver_id: 'pinkinice.testnet',\n  token_name: 'NEAR',\n  timestamp_created: '1630964802206727665',\n  balance: '3472735225910300000000000',\n  tokens_per_tick: '100000000000',\n  auto_deposit_enabled: false,\n  status: 'ACTIVE',\n  tokens_total_withdrawn: '27264774089700000000000',\n  available_to_withdraw: '3472735225910300000000000',\n  history: [\n    {\n      actor: 'dev-1630964633889-96006156236045',\n      action_type: 'Deposit',\n      amount: '3500000000000000000000000',\n      timestamp: '1630964802206727665',\n    },\n  ],\n  direction: 'in',\n};\n\nfunction Bullet({className, ...rest}) {\n  return (\n    <div\n      className={classNames(\n        'twind-inline-block twind-w-2 twind-h-2 twind-flex-shrink-9 twind-rounded-full',\n        className,\n      )}\n      {...rest}\n    ></div>\n  );\n}\nexport function StreamCard({stream = streamType, direction, className}) {\n  const {\n    dateEnd,\n    progresses,\n    tf,\n    timestampEnd,\n    percentages,\n    progress: {full, withdrawn, streamed},\n    link,\n  } = streamViewData(stream);\n\n  return (\n    <div\n      className={classNames(\n        'twind-grid twind-grid-cols-12 twind-gap-6 twind-justify-items-center',\n        'twind-p-10 twind-bg-input twind-rounded-3xl',\n        className,\n      )}\n    >\n      <Link\n        to={routes.stream(stream.stream_id)}\n        className=\"twind-w-full twind-col-span-12 xl:twind-col-span-6 twind-justify-self-start\"\n      >\n        <div className=\"twind-flex twind-items-center\">\n          <TokenImage tokenName={stream.token_name} className=\"twind-mr-4\" />\n          <div className=\"twind-w-full twind-gap-4 twind-flex twind-items-end twind-flex-wrap\">\n            <div className=\"twind-text-2xl twind-whitespace-nowrap twind-flex-shrink-0\">\n              {tf.amount(streamed)} of {tf.amount(full)}{' '}\n              <span className=\"twind-uppercase\">{stream.token_name}</span>\n            </div>\n\n            <StreamingSpeed stream={stream} direction={direction} />\n\n            <div className=\"twind-whitespace-nowrap\">\n              {stream.status === STREAM_STATUS.PAUSED ? (\n                ''\n              ) : (\n                <DurationTimer\n                  untilTimestamp={timestampEnd}\n                  suffix=\" remaining\"\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        <ProgressBar className=\"twind-mt-5\" progresses={progresses} />\n        <div className=\"twind-flex twind-text-sm twind-mt-3 twind-mr-3\">\n          <div className=\"twind-mr-4\">\n            <Bullet className=\"twind-bg-streams-withdrawn twind-mr-1\" />\n            <span>\n              Withdrawn:{' '}\n              <span className=\"twind-font-semibold\">\n                {tf.amount(withdrawn)}{' '}\n              </span>\n              <span className=\"twind-text-gray\">\n                {' '}\n                (\n                {numbro(percentages.withdrawn).format({\n                  output: 'percent',\n                  mantissa: 1,\n                })}\n                )\n              </span>\n            </span>\n          </div>\n          <div>\n            <Bullet className=\"twind-bg-streams-streamed twind-mr-1\" />\n            <span>\n              Streamed:{' '}\n              <span className=\"twind-font-semibold\">\n                {tf.amount(streamed)}{' '}\n              </span>\n              <span className=\"twind-text-gray\">\n                {' '}\n                (\n                {numbro(percentages.streamed).format({\n                  output: 'percent',\n                  mantissa: 1,\n                })}\n                )\n              </span>\n            </span>\n          </div>\n        </div>\n      </Link>\n      <div className=\"twind-hidden xl:twind-block\"></div>\n      <div className=\"twind-flex twind-gap-5 twind-justify-between xl:twind-justify-end twind-col-span-12 xl:twind-col-span-5 twind-w-full twind-items-center\">\n        <div className=\"twind-w-44\">\n          <div className=\"twind-text-gray\">Receiver:</div>\n          <div className=\"twind-break-words\">{stream.receiver_id}</div>\n        </div>\n        <div className=\"twind-w-24\">\n          <div className=\"twind-text-gray\">Status:</div>\n          <StreamControls className=\"twind-w-full\" minimal stream={stream} />\n        </div>\n        {direction === 'out' ? (\n          <div className=\"twind-col-span-1 twind-mr-4\">\n            <div className=\"twind-text-gray\">Auto&#8209;dep:</div>\n            <StreamAutodepositControls minimal stream={stream} />\n          </div>\n        ) : null}\n        <div className=\"twind-flex twind-items-start twind-justify-end twind-w-52\">\n          {direction === 'out' ? <StreamDepositButton stream={stream} /> : null}\n          <Button\n            className=\"twind-ml-3\"\n            variant=\"filled\"\n            onClick={() => copy(link)}\n            to={routes.stream(stream.stream_id)}\n          >\n            <LinkIcon />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {StreamingSpeed, streamViewData} from '.';\nimport {DurationTimer} from '../../components/DurationTimer';\nimport classNames from 'classnames';\nimport {format} from 'date-fns';\nimport numbro from 'numbro';\nimport {streamDirection} from '.';\nimport {Copy} from '../../components/icons';\nimport copy from 'clipboard-copy';\nimport {STREAM_STATUS} from '../stream-control/lib';\n\nconst streamType = {\n  stream_id: 'FnVkAYZu4XED3o44pZPvrnghVEMxo3GiHszUT4orjYST',\n  description: 'test stream',\n  owner_id: 'kpr.testnet',\n  receiver_id: 'pinkinice.testnet',\n  token_name: 'NEAR',\n  timestamp_created: '1630964802206727665',\n  balance: '3472735225910300000000000',\n  tokens_per_tick: '100000000000',\n  auto_deposit_enabled: false,\n  status: 'ACTIVE',\n  tokens_total_withdrawn: '27264774089700000000000',\n  available_to_withdraw: '3472735225910300000000000',\n  history: [\n    {\n      actor: 'dev-1630964633889-96006156236045',\n      action_type: 'Deposit',\n      amount: '3500000000000000000000000',\n      timestamp: '1630964802206727665',\n    },\n  ],\n  direction: 'in',\n};\n\nconst VerticalData = ({label, children}) => (\n  <div>\n    <div className=\"twind-text-gray twind-text-sm\">{label}</div>\n    <div className=\"twind-font-semibold twind-text-lg\">{children}</div>\n  </div>\n);\n\nconst HorizontalData = ({label, children}) => (\n  <div className=\"twind-flex twind-justify-between twind-my-3\">\n    <div className=\"twind-text-gray twind-text-sm\">{label}</div>\n    <div className=\"twind-text-sm twind-text-right\">{children}</div>\n  </div>\n);\n\nexport function StreamOverviewCard({\n  stream = streamType,\n  account,\n  className,\n  ...rest\n}) {\n  const {\n    tf,\n    percentages,\n    timestampEnd,\n    progress: {full, streamed, withdrawn, left, available},\n  } = streamViewData(stream);\n\n  let direction = streamDirection({\n    stream,\n    account,\n  });\n\n  return (\n    <div\n      className={classNames(\n        'twind-pt-10 twind-p-9 twind-bg-input twind-rounded-3xl',\n        className,\n      )}\n      {...rest}\n    >\n      <div className=\"twind-flex twind-text-center twind-justify-between\">\n        <VerticalData label=\"Receiver:\">{stream.receiver_id}</VerticalData>\n\n        <VerticalData label=\"Time Remaining:\">\n          {stream.status === STREAM_STATUS.PAUSED ? (\n            'Paused'\n          ) : (\n            <DurationTimer\n              untilTimestamp={timestampEnd}\n              finishedText=\"Finished\"\n            />\n          )}\n        </VerticalData>\n      </div>\n      <div className=\"twind-border-t twind-border-border twind-mt-8 twind-mb-9\" />\n      <HorizontalData label=\"Stream Created:\">\n        {format(new Date(stream.timestamp_created / 1000000), 'Yo')}\n      </HorizontalData>\n      <HorizontalData label=\"Token:\">{stream.token_name}</HorizontalData>\n      <HorizontalData label=\"Total:\">\n        {tf.amount(full)} {stream.token_name}\n      </HorizontalData>\n      <HorizontalData label=\"Tokens Transferred:\">\n        <span>\n          {tf.amount(streamed)} {stream.token_name}{' '}\n          <span className=\"twind-text-gray\">\n            (\n            {numbro(percentages.streamed).format({\n              output: 'percent',\n              mantissa: 2,\n            })}\n            )\n          </span>\n        </span>\n      </HorizontalData>\n      <HorizontalData label=\"Tokens Left:\">\n        <span>\n          {tf.amount(left)} {stream.token_name}{' '}\n          <span className=\"twind-text-gray\">\n            (\n            {numbro(percentages.left).format({\n              output: 'percent',\n              mantissa: 2,\n            })}\n            )\n          </span>\n        </span>\n      </HorizontalData>\n      <HorizontalData label=\"Tokens Available:\">\n        {tf.amount(available)} {stream.token_name}\n      </HorizontalData>\n      <HorizontalData label=\"Speed:\">\n        <StreamingSpeed stream={stream} direction={null} />\n      </HorizontalData>\n\n      {direction === 'in' ? (\n        <HorizontalData label=\"Latest Withdrawal:\">\n          {format(new Date(account.last_action / 1000000), 'MMM dd, Yo  H:m')}\n        </HorizontalData>\n      ) : (\n        ''\n      )}\n      <HorizontalData label=\"Auto-deposit:\">\n        {stream.auto_deposit_enabled ? 'Enabled': 'Disabled'}\n      </HorizontalData>\n\n      <HorizontalData label=\"Stream ID:\">\n        <div className=\"twind-inline-block twind-w-24 twind-overflow-ellipsis twind-overflow-hidden\">\n          {stream.stream_id}\n        </div>\n        <button\n          onClick={() => copy(stream.stream_id)}\n          className=\"hover:twind-text-blue\"\n        >\n          <Copy />\n        </button>\n      </HorizontalData>\n    </div>\n  );\n}\n","export function streamDirection({stream, account}) {\n  if (!account) return '';\n\n  if (stream.owner_id === account.account_id) {\n    return 'out';\n  } else if (stream.receiver_id === account.account_id) {\n    return 'in';\n  } else {\n    return '';\n  }\n}\n","import {useSWRConfig} from 'swr';\nimport {useNear} from '../near-connect/useNear';\nimport {useStreamControl} from './useStreamControl';\nimport {Button} from '../../components/kit';\n\nexport function StreamWithdrawButton(props) {\n  const near = useNear();\n  const streamControl = useStreamControl();\n\n  const {mutate} = useSWRConfig();\n\n  async function updateAllAndWithdraw() {\n    await streamControl.updateAllAndWithdraw();\n\n    mutate(['account', near.near.accountId]);\n  }\n\n  return (\n    <Button\n      loadingText=\"Updating account...\"\n      {...props}\n      loading={streamControl.loading}\n      onClick={updateAllAndWithdraw}\n    ></Button>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport {TokenImage, ArcProgressBar} from '../../components/kit';\nimport {streamViewData, StreamingSpeed, streamDirection} from '.';\nimport {\n  StreamControls,\n  StreamAutodepositControls,\n  StreamDepositButtonOutlined,\n} from '../stream-control';\nimport {StreamWithdrawButton} from '../stream-control/StreamWithdrawButton';\n\nexport function StreamDashboard({stream, account}) {\n  const {\n    tf,\n    progresses,\n    isDead,\n    progress: {full, withdrawn, streamed},\n  } = streamViewData(stream);\n  const direction = streamDirection({stream, account});\n\n  return (\n    <div\n      className={classNames(\n        'twind-flex',\n        'twind-flex-col',\n        'twind-items-center',\n      )}\n    >\n      <div className=\"twind--mb-32\">\n        <ArcProgressBar\n          className=\"twind-w-96 twind-h-48\"\n          progresses={progresses}\n        />\n        <div className=\"twind-flex twind-justify-between twind-pt-5 twind--mx-2 twind-text-gray\">\n          <div className=\"twind-w-10 twind-text-center\"> 0%</div>\n          <div className=\"twind-w-10 twind-text-center\"> 100%</div>\n        </div>\n      </div>\n\n      <TokenImage\n        size={14}\n        tokenName={stream.token_name}\n        className=\"twind-mb-8\"\n      />\n      <div className=\"twind-text-6xl twind-font-semibold\">\n        {tf.amount(streamed)}\n      </div>\n      <div className=\"twind-text-gray twind-font-semibold\">\n        of {tf.amount(full)} {stream.token_name}\n      </div>\n      <StreamingSpeed\n        stream={stream}\n        direction={direction}\n        className=\"twind-mt-6 twind-mb-6\"\n      />\n      {isDead ? (\n        ''\n      ) : (\n        <div className=\"twind-flex twind-relative twind-z-10\">\n          <StreamControls stream={stream} className=\"twind-mr-2\" />\n          {direction === 'out' ? (\n            <div className=\"twind-col-span-1 twind-mr-2\">\n              <StreamAutodepositControls\n                minimal\n                stream={stream}\n                enableMsg=\"Enable auto-deposit\"\n                disableMsg=\"Disable auto-deposit\"\n                buttonClassName=\"twind-border twind-border-border twind-p-4 twind-mr-0\"\n              />\n            </div>\n          ) : null}\n          {direction === 'out' ? (\n            <StreamDepositButtonOutlined variant=\"outlined\" stream={stream} />\n          ) : (\n            <StreamWithdrawButton\n              loadingText=\"Withdrawing...\"\n              variant=\"outlined\"\n              color=\"dark\"\n            >\n              Withdraw from all streams\n            </StreamWithdrawButton>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import {TokenFormatter, timestamp} from '../../lib/formatting';\nimport {format} from 'date-fns';\nimport classNames from 'classnames';\nimport {STREAM_ACTION_TYPE} from '../stream-control/lib';\n\nfunction ThCell({children, className, ...rest}) {\n  return (\n    <th\n      className={classNames(\n        'twind-text-gray twind-font-normal twind-text-left twind-p-4',\n        className,\n      )}\n      {...rest}\n    >\n      {children}\n    </th>\n  );\n}\n\nfunction TdCell({children, className, ...rest}) {\n  return (\n    <td\n      className={classNames(\n        'first:twind-rounded-l-xl last:twind-rounded-r-xl twind-p-4 twind-font-normal twind-text-left twind-h-14 twind-bg-input',\n        className,\n      )}\n      {...rest}\n    >\n      {children}\n    </td>\n  );\n}\n\nconst ACTION_TYPE_COLOR = {\n  [STREAM_ACTION_TYPE.INIT]: 'twind-text-special-active',\n  [STREAM_ACTION_TYPE.DEPOSIT]: 'twind-text-special-active',\n  [STREAM_ACTION_TYPE.START]: 'twind-text-special-active',\n  [STREAM_ACTION_TYPE.WITHDRAW]: 'twind-text-special-hold',\n  [STREAM_ACTION_TYPE.PAUSE]: 'twind-text-special-inactive',\n  [STREAM_ACTION_TYPE.STOP]: 'twind-text-special-inactive',\n};\n\nfunction ActionType({actionType, className, ...rest}) {\n  return (\n    <span\n      className={classNames(ACTION_TYPE_COLOR[actionType], className)}\n      {...rest}\n    >\n      {actionType}\n    </span>\n  );\n}\nexport function StreamActionHistory({\n  stream,\n  history,\n  currentPage,\n  onNextPageClick,\n  onPrevPageClick,\n  maxPage,\n  pageSize,\n  loading,\n  className,\n  ...rest\n}) {\n  const tf = TokenFormatter(stream.token_name);\n\n  return (\n    <div\n      className={classNames('twind-border-separate Table', className)}\n      {...rest}\n    >\n      <table className=\"twind-border-separate Table twind-w-full\">\n        <thead>\n          <tr>\n            <ThCell>Actor</ThCell>\n            <ThCell>Action Type</ThCell>\n            <ThCell>Amount</ThCell>\n            <ThCell>Timestamp</ThCell>\n          </tr>\n        </thead>\n        <tbody>\n          {loading\n            ? Array(pageSize)\n                .fill(null)\n                .map((_, i) => {\n                  return (\n                    <tr className=\"twind-mb-2\" key={i}>\n                      <TdCell></TdCell>\n                      <TdCell></TdCell>\n                      <TdCell></TdCell>\n                      <TdCell></TdCell>\n                    </tr>\n                  );\n                })\n            : history.map((entry) => (\n                <tr\n                  className=\"twind-mb-2\"\n                  key={entry.timestamp + entry.action_type}\n                >\n                  <TdCell className=\"twind-break-all twind-w-42\">\n                    {entry.actor}\n                  </TdCell>\n                  <TdCell>\n                    <ActionType actionType={entry.action_type} />\n                  </TdCell>\n                  <TdCell>\n                    {entry.amount\n                      ? `${tf.amount(entry.amount)} ${stream.token_name}`\n                      : ''}\n                  </TdCell>\n                  <TdCell>\n                    {format(\n                      timestamp(entry.timestamp).fromNanosec(),\n                      'yyyy MMM dd HH:mm:ss',\n                    )}\n                  </TdCell>\n                </tr>\n              ))}\n        </tbody>\n      </table>\n      <div\n        className={classNames(\n          'twind-flex twind-justify-between',\n          maxPage === 0 ? 'twind-invisible' : '',\n        )}\n      >\n        <button\n          className={classNames(\n            'twind-p-2 hover:twind-bg-hover hover:twind-border-hover twind-border twind-border-border twind-rounded-xl',\n            currentPage <= 0 ? 'twind-invisible' : '',\n          )}\n          onClick={onPrevPageClick}\n        >\n          Prev Page\n        </button>\n        <div\n          className={classNames(\n            'twind-rounded-full twind-border-border twind-border twind-w-10 twindh-10 twind-inline-flex twind-items-center twind-justify-center',\n          )}\n        >\n          {currentPage + 1}\n        </div>\n        <button\n          className={classNames(\n            'twind-p-2 hover:twind-bg-hover hover:twind-border-hover twind-border twind-border-border twind-rounded-xl',\n            currentPage >= maxPage ? 'twind-invisible' : '',\n          )}\n          onClick={onNextPageClick}\n        >\n          Next Page\n        </button>\n      </div>\n    </div>\n  );\n}\n","import {useState, useEffect, useMemo} from 'react';\n\nexport function useFilter({options}) {\n  let keys = Object.keys(options);\n\n  const [option, selectOption] = useState(keys[0]);\n  const currentFilterFunction = options[option];\n\n  const filter = useMemo(\n    () => ({\n      option,\n      selectOption,\n      options,\n      optionsArray: keys,\n      currentFilterFunction,\n    }),\n    [options, option],\n  );\n\n  return filter;\n}\n\nexport function useFilters({items, filters}) {\n  const [filteredItems, setFilteredItems] = useState([]);\n  const [filterCounts, setFilterCounts] = useState([]);\n\n  useEffect(() => {\n    let filteredItems = items;\n    let filterCounts = [];\n\n    filters.forEach((filter) => {\n      const filterRunResult = {};\n      // run filter for every possible function\n      Object.keys(filter.options).forEach((option) => {\n        const filtered = filteredItems.filter(filter.options[option]);\n\n        filterRunResult[option] = filtered;\n      });\n\n      // calc counts for every option in filter\n      const currentFilterCount = {};\n      Object.keys(filterRunResult).forEach(\n        (option) =>\n          (currentFilterCount[option] = filterRunResult[option].length),\n      );\n\n      filterCounts.push(currentFilterCount);\n      // set items to selected filter\n      filteredItems = filterRunResult[filter.option];\n    });\n\n    setFilterCounts(filterCounts);\n    setFilteredItems(filteredItems);\n  }, [items, filters]);\n\n  return {\n    filterCounts,\n    filteredItems,\n  };\n}\n","import {useMemo} from 'react';\nimport {useFilter, useFilters} from '../lib';\nimport {STREAM_STATUS, STREAM_DIRECTION} from '../../stream-control/lib';\n\nconst STREAM_TYPE_FILTER = {\n  ALL: 'All',\n  INCOMING: 'Incoming',\n  OUTGOING: 'Outgoing',\n};\n\nconst STREAM_STATUS_FILTER = {\n  ALL: 'All',\n  ACTIVE: 'Active',\n  PAUSED: 'Paused',\n  ARCHIVED: 'Archived',\n  [STREAM_STATUS.FINISHED]: 'Finished',\n  [STREAM_STATUS.INTERRUPTED]: 'Interrupted',\n};\n\nexport function useStreamFilters(streams) {\n  const statusOptions = useMemo(\n    () => ({\n      [STREAM_STATUS_FILTER.ALL]: () => true,\n      [STREAM_STATUS_FILTER.ACTIVE]: (stream) =>\n        stream.status === STREAM_STATUS.ACTIVE,\n      [STREAM_STATUS_FILTER.PAUSED]: (stream) =>\n        stream.status === STREAM_STATUS.PAUSED,\n      [STREAM_STATUS_FILTER.ARCHIVED]: (stream) =>\n        stream.status === STREAM_STATUS.ARCHIVED,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.INTERRUPTED]]: (stream) =>\n        stream.status === STREAM_STATUS.INTERRUPTED,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.FINISHED]]: (stream) =>\n        stream.status === STREAM_STATUS.FINISHED,\n    }),\n    [],\n  );\n  const directionOptions = useMemo(\n    () => ({\n      [STREAM_TYPE_FILTER.ALL]: () => true,\n      [STREAM_TYPE_FILTER.INCOMING]: (stream) =>\n        STREAM_DIRECTION.IN === stream.direction,\n      [STREAM_TYPE_FILTER.OUTGOING]: (stream) =>\n        STREAM_DIRECTION.OUT === stream.direction,\n    }),\n    [],\n  );\n\n  const statusFilter = useFilter({\n    options: statusOptions,\n  });\n\n  const directionFilter = useFilter({\n    options: directionOptions,\n  });\n\n  const combinedFilters = useMemo(\n    () => [directionFilter, statusFilter, directionFilter],\n    [directionFilter, statusFilter],\n  );\n\n  const result = useFilters({\n    items: streams,\n    filters: combinedFilters,\n  });\n\n  return {\n    statusFilter,\n    directionFilter,\n    result,\n  };\n}\n","import React, {useEffect, useState} from 'react';\nimport classNames from 'classnames';\nimport {useStreamFilters} from './useStreamFilters';\nimport {Filter, FilterOptionWithCounter} from '../../../components/kit';\nimport {STREAM_STATUS} from '../../stream-control/lib';\n\nfunction compareBy(a, b, key) {\n  if (Number(a[key]) > Number(b[key])) {\n    return -1;\n  } else if (Number(a[key]) < Number(b[key])) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nconst sorts = {\n  bigBalanceFirst: {\n    label: 'With big balances',\n    fn: (a, b) => compareBy(a, b, 'balance'),\n  },\n  highSpeedFirst: {\n    label: 'With high speed',\n    fn: (a, b) => compareBy(a, b, 'tokens_per_tick'),\n  },\n  highSpeedLast: {\n    label: 'With low speed',\n    fn: (a, b) => compareBy(a, b, 'tokens_per_tick') * -1,\n  },\n  mostRecent: {\n    label: 'Most recent',\n    fn: (a, b) => compareBy(a, b, 'timestamp_created'),\n  },\n};\nconst statusPriority = [\n  STREAM_STATUS.INITIALIZED,\n  STREAM_STATUS.ACTIVE,\n  STREAM_STATUS.PAUSED,\n  STREAM_STATUS.INTERRUPTED,\n  STREAM_STATUS.FINISHED,\n];\nfunction defaultStreamSort(a, b) {\n  return statusPriority.indexOf(a.status) - statusPriority.indexOf(b.status);\n}\n\nexport function StreamFilters({items, onFilterDone, className}) {\n  const filter = useStreamFilters(items);\n  const [sorting, setSorting] = useState(sorts.mostRecent);\n  const sortOptions = Object.values(sorts);\n\n  useEffect(() => {\n    const sorted = [...filter.result.filteredItems];\n    sorted.sort(defaultStreamSort);\n    sorted.sort(sorting.fn);\n    onFilterDone(sorted);\n  }, [filter.result.filteredItems, onFilterDone, sorting.fn]);\n\n  return (\n    <div className={classNames('md:twind-flex', className)}>\n      <Filter\n        className=\"twind-mr-5 twind-z-10\"\n        options={filter.directionFilter.optionsArray}\n        label=\"Type:\"\n        active={filter.directionFilter.option}\n        onChange={filter.directionFilter.selectOption}\n        renderOption={(option) => {\n          const counts = filter.result.filterCounts[0];\n          return (\n            <FilterOptionWithCounter\n              option={option}\n              count={counts ? counts[option] : ''}\n            />\n          );\n        }}\n      />\n      <Filter\n        className=\"twind-z-10\"\n        options={filter.statusFilter.optionsArray}\n        label=\"Status:\"\n        active={filter.statusFilter.option}\n        onChange={filter.statusFilter.selectOption}\n        renderOption={(option) => {\n          const counts = filter.result.filterCounts[1];\n          return (\n            <FilterOptionWithCounter\n              option={option}\n              count={counts ? counts[option] : ''}\n            />\n          );\n        }}\n      />\n      <div className=\"twind-flex-grow\"></div>\n      <Filter\n        className=\"twind-mt-3 md:twind-mt-0\"\n        minimal\n        options={sortOptions}\n        label=\"Show first:\"\n        active={sorting}\n        onChange={setSorting}\n        renderOption={(option) => {\n          return <span>{option.label}</span>;\n        }}\n        renderActive={(option) => {\n          return <span>{option.label}</span>;\n        }}\n      />\n    </div>\n  );\n}\n","import {useState} from 'react';\nimport useSWR from 'swr';\n\nasync function fetchStream({streamId}, {near}) {\n  let stream = await near.contractApi.getStream({streamId});\n\n  return stream;\n}\n\nasync function fetchStreamHistory({streamId, from, to}, {near}) {\n  let streamHistory = await near.contractApi.getStreamHistory({\n    streamId,\n    from,\n    to,\n  });\n\n  return streamHistory;\n}\n\nasync function fetchStreams({inputs, outputs}, {near}) {\n  let inputStreams = await Promise.all(\n    inputs.map((streamId) => near.contractApi.getStream({streamId})),\n  );\n\n  let outputStreams = await Promise.all(\n    outputs.map((streamId) => near.contractApi.getStream({streamId})),\n  );\n\n  return {\n    inputs: inputStreams.map((stream) => ({...stream, direction: 'in'})),\n    outputs: outputStreams.map((stream) => ({...stream, direction: 'out'})),\n  };\n}\n\nexport function useAccount({near}) {\n  const swr = useSWR(\n    ['account', near.near.accountId],\n    near.contractApi.getCurrentAccount,\n    {\n      errorRetryInterval: 250,\n    },\n  );\n\n  return swr;\n}\n\nexport function useStreams({near, accountSWR}) {\n  const account = accountSWR.data;\n  const swr = useSWR(\n    () => {\n      const key = account\n        ? ['streams', account.account_id, account.last_action]\n        : false;\n\n      return key;\n    },\n    () =>\n      fetchStreams(\n        {inputs: account.inputs, outputs: account.outputs},\n        {\n          near,\n        },\n      ),\n  );\n\n  return swr;\n}\n\nexport function useSingleStream({streamId}, {near, accountSWR}) {\n  const account = accountSWR.data;\n  const swr = useSWR(\n    () => {\n      const key = account\n        ? ['stream', streamId, account.id, account.last_action]\n        : false;\n      return key;\n    },\n    async () => {\n      let stream = await fetchStream(\n        {streamId: streamId},\n        {\n          near,\n        },\n      );\n\n      return stream;\n    },\n  );\n\n  return swr;\n}\n\nexport function useSingleStreamHistory(\n  {pageSize = 3},\n  {near, accountSWR, streamSWR},\n) {\n  const PAGE_SIZE = pageSize;\n  const account = accountSWR.data;\n  const stream = streamSWR.data;\n  const streamId = stream ? stream.stream_id : null;\n  const [page, setPage] = useState(0);\n  const ready = !!stream;\n\n  const maxPage = ready ? Math.ceil(stream.history_len / PAGE_SIZE) - 1 : 0;\n\n  const nextPage = () => {\n    setPage(page + 1);\n  };\n  const prevPage = () => {\n    setPage(page - 1);\n  };\n  const canGoBack = page > 1;\n\n  const swr = useSWR(\n    () => {\n      const key = stream\n        ? ['stream_history', stream.stream_id, account.last_action, page]\n        : false;\n\n      return key;\n    },\n    async () => {\n      let streamHistory = await fetchStreamHistory(\n        {\n          streamId: streamId,\n          from: page * PAGE_SIZE,\n          to: (page + 1) * PAGE_SIZE,\n        },\n        {\n          near,\n        },\n      );\n      return streamHistory;\n    },\n    {\n      onError: (error, key) => {\n        console.log('useSingleStreamHistory error', error);\n      },\n    },\n  );\n\n  // ebanuty hack to prefetch next page\n  const swr2 = useSWR(\n    () => {\n      const key = stream\n        ? ['stream_history', stream.stream_id, account.last_action, page + 1]\n        : false;\n\n      return key;\n    },\n\n    async () => {\n      const params = {\n        streamId: streamId,\n        from: (page + 1) * PAGE_SIZE,\n        to: (page + 2) * PAGE_SIZE,\n      };\n\n      let streamHistory = await fetchStreamHistory(params, {\n        near,\n      });\n\n      return streamHistory;\n    },\n  );\n\n  return {swr, canGoBack, nextPage, prevPage, maxPage, currentPage: page};\n}\n","export default __webpack_public_path__ + \"static/media/RUSSIANS_HACK.83d68466.gif\";","export default __webpack_public_path__ + \"static/media/crab.3fbdb8f2.gif\";","import classNames from 'classnames';\nimport React from 'react';\nimport {Button} from './kit';\nimport hackImage from '../images/RUSSIANS_HACK.gif';\nimport crabImage from '../images/crab.gif';\n\nexport function PageError({message, onRetry, className, ...rest}) {\n  const rand = React.useRef(Math.random());\n\n  return (\n    <div className={classNames('twind-text-center', className)}>\n      {rand.current > 0.5 ? (\n        <img\n          src={hackImage}\n          className=\"twind-mx-auto\"\n          alt=\"funny hackers gif with bird dancing around\"\n        />\n      ) : (\n        <img\n          src={crabImage}\n          className=\"twind-mx-auto\"\n          alt=\"crab with a knife tries to hurt people\"\n        />\n      )}\n\n      <h1 className=\"twind-text-4xl twind-font-semibold twind-mb-6\">\n        Something is broken! Thanks you!\n      </h1>\n      <p className=\"twind-text-gray twind-mb-4\">\n        Finally we have something to fix!\n      </p>\n      {message && (\n        <code className=\"twind-p-4 twind-border-special-inactive twind-border twind-block twind-text-special-inactive twind-text-xs twind-mb-4\">\n          {message}\n        </code>\n      )}\n      <Button\n        variant=\"outlined\"\n        color=\"dark\"\n        className=\"twind-mt-10\"\n        onClick={onRetry}\n      >\n        Try again!\n      </Button>\n      <p className=\"twind-text-xs twind-text-gray twind-mt-2\">\n        (that probably wont help)\n      </p>\n    </div>\n  );\n}\n","import React, {useMemo, useState} from 'react';\nimport {useNear} from '../features/near-connect/useNear';\nimport {StreamCard} from '../features/stream-view';\nimport {StreamFilters} from '../features/filtering/streams';\nimport {Button} from '../components/kit';\nimport {routes} from '../lib/routing';\nimport {useAccount, useStreams} from '../features/xyiming-resources';\nimport {StreamWithdrawButton} from '../features/stream-control/StreamWithdrawButton';\nimport {PageError} from '../components/PageError';\nimport {STREAM_STATUS} from '../features/stream-control/lib';\n\nconst __INPUTS = [];\nconst __OUTPUTS = [];\n\nexport function MyStreamsPage() {\n  const near = useNear();\n  const [filteredItems, setFiltered] = useState([]);\n  const accountSWR = useAccount({near});\n  const streamsSWR = useStreams({near, accountSWR});\n\n  const isIncomingStream = (stream) => {\n    if (stream.owner_id === near.near.accountId) {\n      return false;\n    }\n    return true;\n  };\n\n  const streams = streamsSWR.data;\n\n  const inputs = streams ? streams.inputs : __INPUTS;\n  const outputs = streams ? streams.outputs : __OUTPUTS;\n  const allStreams = useMemo(() => {\n    const concatted = inputs.concat(outputs);\n    return concatted;\n  }, [inputs, outputs]);\n  const error = accountSWR.error || streamsSWR.error;\n\n  return (\n    <div className=\"twind-container twind-mx-auto twind-p-12\">\n      <div className=\"twind-flex twind-mb-12\">\n        <h1 className=\"twind-text-3xl \">All Streams</h1>\n        <div className=\"twind-flex-grow\"></div>\n        <StreamWithdrawButton variant=\"main\" size=\"normal\">\n          Update streams and withdraw\n        </StreamWithdrawButton>\n      </div>\n      <StreamFilters\n        items={allStreams}\n        onFilterDone={setFiltered}\n        className=\"twind-mb-10 twind-relative twind-z-10\"\n      />\n\n      {error ? (\n        <PageError\n          className=\"twind-max-w-2xl twind-mx-auto twind-my-32\"\n          message={error.message}\n          onRetry={() => {\n            accountSWR.mutate();\n            streamsSWR.mutate();\n          }}\n        />\n      ) : !streams ? (\n        <div>Loading</div>\n      ) : allStreams.length === 0 ? (\n        <div className=\"twind-flex twind-flex-col twind-w-80 twind-mx-auto\">\n          <h3 className=\"twind-text-3xl twind-text-center twind-my-12 \">\n            You dont have any streams yet.\n          </h3>\n          <Button variant=\"main\" link to={routes.send}>\n            Create First Stream\n          </Button>\n        </div>\n      ) : filteredItems.length === 0 ? (\n        <h3 className=\"twind-text-3xl twind-text-center twind-my-12 twind-w-80 twind-mx-auto\">\n          No streams matching your filters. <br />\n          Try selecting different filters!\n        </h3>\n      ) : (\n        filteredItems.map((stream) => (\n          <StreamCard\n            key={stream.stream_id}\n            stream={stream}\n            className=\"twind-mb-4\"\n            direction={isIncomingStream(stream) ? 'in' : 'out'}\n          />\n        ))\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport {tokens, TokenFormatter} from '../lib/formatting';\nimport {utils} from 'near-api-js';\nimport numbro from 'numbro';\nimport {Tokens} from './icons';\n\nexport function AccountStreamCard({\n  token,\n  balance,\n  streamsLength,\n  period = '',\n  showPeriod = true,\n}) {\n  const formatter = TokenFormatter(token);\n\n  let multiplier = 1;\n  switch (period) {\n    case 'min':\n      multiplier = 60;\n      break;\n    case 'hour':\n      multiplier = 60 * 60;\n      break;\n    case 'day':\n      multiplier = 60 * 60 * 24;\n      break;\n  }\n\n  balance = utils.format.formatNearAmount(balance);\n\n  balance = balance * multiplier;\n\n  return (\n    <div className=\"twind-w-full twind-h-24 twind-rounded-lg twind-bg-input twind-flex twind-items-center twind-width-full twind-p-6 twind-mr-4\">\n      <div className=\"twind-w-full twind-flex twind-items-center\">\n        <div className=\"twind-w-12 twind-mr-12\">\n          <span className=\"twind-flex-shrink-0 twind-rounded-full twind-bg-card2 twind-inline-flex twind-items-center twind-justify-center twind-w-12 twind-h-12\">\n            {Tokens(token)}\n          </span>\n        </div>\n        <div className=\"\">\n          <div className=\"twind-font-bold\">\n            {tokens[token].name}, {token}\n          </div>\n          {streamsLength > 0 ? (\n            <div className=\"twind-text-gray twind-text-sm\">\n              from {streamsLength} steams\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n        <div className=\"twind-ml-auto\">\n          <span className=\" twind-text-3xl\">\n            {balance < 0.001 ? '<0.001' : numbro(balance).format({mantissa: 3})}\n          </span>\n          {showPeriod ? <span>{period !== '' ? '/' + period : ''}</span> : ''}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, {useMemo, useState} from 'react';\nimport {AccountStreamCard} from './AccountStreamCard';\nimport useSWR from 'swr';\nimport {useNear} from '../features/near-connect';\nimport {\n  DropdownMenu,\n  DropdownMenuItem,\n  DropdownOpener,\n  Filter,\n  FilterOptionWithCounter,\n  RadioButton,\n} from './kit';\nimport classNames from 'classnames';\nimport {useFilter} from '../features/filtering/lib';\nimport {STREAM_STATUS} from '../features/stream-control/lib';\nimport {useAccount, useStreams} from '../features/xyiming-resources';\n\nconst _STREAMS = [];\n\nconst PERIODS = {\n  sec: '/sec',\n  min: '/min',\n  hour: '/hour',\n  day: '/day',\n};\n\nexport function AccountColumn({\n  account,\n  header,\n  icon,\n  tokensField,\n  streamsType,\n  period,\n  showPeriod = true,\n}) {\n  const near = useNear();\n  const accountSWR = useAccount({near});\n  const streamsSWR = useStreams({near, accountSWR});\n\n  const allStreams = streamsSWR.data;\n\n  let streams = [];\n  if (streamsType === 'inputs') {\n    streams = allStreams ? allStreams.inputs : [];\n  } else if (streamsType === 'outputs') {\n    streams = allStreams ? allStreams.outputs : [];\n  }\n\n  let streamGroups = {};\n  if (streams !== undefined) {\n    streamGroups = streams.reduce((groups, item) => {\n      const group = groups[item.token_name] || [];\n      group.push(item);\n      groups[item.token_name] = group;\n      return groups;\n    }, {});\n  }\n\n  console.log('AccountColumn', {\n    streamsType,\n    tokensField,\n    streams,\n    allStreams,\n    streamGroups,\n  });\n  const tokensData = account !== undefined ? account[tokensField] : [];\n\n  const periodsOptions = useFilter({options: PERIODS});\n  const [opened, setOpened] = useState(false);\n  const selectedPeriod = periodsOptions.option;\n\n  return (\n    <div>\n      <h2 className=\"twind-text-xl twind-mb-6 twind-flex twind-items-center\">\n        <span className=\"twind-mr-3\">{icon}</span>\n        {header}\n        <span className=\"twind-ml-2\">\n          {showPeriod ? (\n            <div className=\"twind-inline-flex twind-items-center twind-relative\">\n              <DropdownOpener\n                minimal={true}\n                rounded\n                onClick={() => setOpened(!opened)}\n              >\n                {periodsOptions.options[selectedPeriod]}\n              </DropdownOpener>\n              <DropdownMenu opened={opened} className=\"twind-right-0\">\n                {periodsOptions.optionsArray.map((option, i) => (\n                  <DropdownMenuItem key={i}>\n                    <RadioButton\n                      label={option}\n                      active={selectedPeriod === option}\n                      value={option}\n                      onChange={periodsOptions.selectOption}\n                    />\n                  </DropdownMenuItem>\n                ))}\n              </DropdownMenu>\n            </div>\n          ) : (\n            ''\n          )}\n        </span>\n      </h2>\n      <div>\n        {tokensData.map((item) => (\n          <AccountStreamCard\n            token={item[0]}\n            balance={item[1]}\n            streamsLength={\n              streamGroups[item[0]] ? streamGroups[item[0]].length : 0\n            }\n            period={selectedPeriod}\n            showPeriod={showPeriod}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {useNear} from '../features/near-connect/useNear';\nimport {AccountColumn} from '../components/AccountColumn';\nimport {\n  StreamIn,\n  StreamOut,\n  StreamWithdraw,\n  History,\n  Cron,\n} from '../components/icons';\nimport {Button} from '../components/kit';\nimport {useAccount} from '../features/xyiming-resources';\nimport {formatDistance} from 'date-fns';\nimport {PageError} from '../components/PageError';\n\nconst __INPUTS = [];\nconst __OUTPUTS = [];\n\nexport function AccountPage() {\n  const near = useNear();\n  const accountSWR = useAccount({near});\n\n  async function cronSubscribeClick(e) {\n    e.preventDefault();\n    await near.contractApi.startCron();\n  }\n\n  const account = accountSWR.data;\n\n  const inputs = (account && account.inputs) || __INPUTS;\n  const outputs = (account && account.outputs) || __OUTPUTS;\n\n  console.log('ACCOUNT', account);\n  console.log('INPUTS', inputs);\n  console.log('OUTPUTS', outputs);\n\n  const pageError = accountSWR.error;\n\n  return (\n    <div className=\"twind-container twind-mx-auto twind-p-12\">\n      <div className=\"twind-flex twind-justify-between twind-items-center twind-mb-10\">\n        <h1 className=\"twind-text-3xl\">My Account</h1>\n        <div className=\"twind-flex twind-items-center\">\n          <div className=\"twind-mr-12 twind-text-gray twind-flex twind-items-center\">\n            <span className=\"twind-mr-2\">\n              <History />\n            </span>\n            {account !== undefined ? (\n              <span>\n                Last updated&nbsp;\n                {formatDistance(\n                  new Date(account.last_action / 1000 / 1000),\n                  new Date(),\n                  {\n                    addSuffix: true,\n                  },\n                )}\n              </span>\n            ) : (\n              ''\n            )}\n          </div>\n          <div>\n            <Button\n              variant=\"main\"\n              size=\"normal\"\n              className=\"twind-p-0\"\n              onClick={(e) => cronSubscribeClick(e)}\n            >\n              <span className=\"twind-mr-2\">\n                <Cron />\n              </span>\n              Subscribe to CRON\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {pageError ? (\n        <PageError\n          className=\"twind-max-w-2xl twind-mx-auto twind-my-32\"\n          message={pageError.message}\n          messaonClick={accountSWR.mutate}\n        />\n      ) : (\n        <div className=\"twind-grid twind-grid-cols-3 twind-gap-4\">\n          <AccountColumn\n            icon={<StreamIn />}\n            header=\"Receiving\"\n            account={account}\n            tokensField=\"total_incoming\"\n            streamsType=\"inputs\"\n            key=\"AccountInputs\"\n            period=\"sec\"\n          />\n          <AccountColumn\n            icon={<StreamOut />}\n            header=\"Sending\"\n            account={account}\n            tokensField=\"total_outgoing\"\n            streamsType=\"outputs\"\n            key=\"AccountOutputs\"\n            period=\"sec\"\n          />\n          <AccountColumn\n            icon={<StreamWithdraw />}\n            header=\"Withdrawn\"\n            account={account}\n            tokensField=\"total_received\"\n            key=\"AccountWithdrawn\"\n            showPeriod={false}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport {NearAuthButton} from '../features/near-auth/NearAuthButton';\nimport {useNear} from '../features/near-connect/useNear';\nimport {Redirect} from 'react-router-dom';\n\nexport function AuthorizePage() {\n  const near = useNear();\n\n  return (\n    <div className=\"twind-flex twind-h-screen\">\n      <div\n        className=\"lg:twind-m-auto twind-mx-4 twind-my-auto lg:twind-w-2/5 twind-bg-gray-90 twind-rounded-3xl twind-p-5\"\n        style={{'background-color': '#0D0B26'}}\n      >\n        <div className=\"twind-my-24 twind-text-center\">\n          <h1 className=\"twind-text-3xl twind-mb-4 twind-font-semibold\">\n            {' '}\n            Login via NEAR Network{' '}\n          </h1>\n          <p className=\"twind-text-gray\">\n            Click button below to login or create new account\n          </p>\n          <NearAuthButton\n            variant=\"main\"\n            className=\"twind-mt-10 twind-rounded-lg twind-py-4 twind-px-8\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {useParams} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport {useNear} from '../features/near-connect/useNear';\nimport {\n  streamViewData,\n  StreamOverviewCard,\n  streamDirection,\n  StreamActionHistory,\n} from '../features/stream-view';\nimport {\n  useAccount,\n  useSingleStream,\n  useSingleStreamHistory,\n} from '../features/xyiming-resources';\nimport {StreamDashboard} from '../features/stream-view/StreamDashboard';\nimport copy from 'clipboard-copy';\nimport {Link as LinkIcon, ArrowLeft} from '../components/icons';\nimport {routes} from '../lib/routing';\nimport classNames from 'classnames';\nimport {PageError} from '../components/PageError';\n\nfunction BackButton({to, className, ...rest}) {\n  return (\n    <Link\n      to={to}\n      className={classNames(\n        'twind-group twind-flex twind-items-center',\n        className,\n      )}\n      {...rest}\n    >\n      <div className=\"twind-flex twind-items-center twind-justify-center twind-h-11 twind-w-11 twind-rounded-full twind-border-border twind-border group-hover:twind-bg-border twind-mr-4\">\n        <ArrowLeft />\n      </div>\n      <span className=\"twind-uppercase twind-text-gray twind-text-xs\">\n        {' '}\n        Back{' '}\n      </span>\n    </Link>\n  );\n}\nfunction StreamCopyUrlBlock({className, link, ...rest}) {\n  return (\n    <div className={className} {...rest}>\n      <div className=\"twind-mb-4 twind-text-gray twind-text-center\">\n        Public link to view the stream:\n      </div>\n      <div className=\"twind-border twind-border-border twind-bg-input twind-py-4 twind-px-5 twind-rounded-2xl twind-flex twind-items-center\">\n        <div className=\"twind-break-all twind-select-all\">{link}</div>\n        <div className=\"twind-w-px twind-bg-border twind-mx-6 twind-self-stretch twind-flex-shrink-0\"></div>\n        <button\n          className=\"twind-whitespace-nowrap twind-text-blue twind-py-2 twind-px-3 twind-font-semibold twind-text-sm twind-inline-flex twind-bg-transparent hover:twind-bg-hover active:twind-bg-input twind-rounded-lg twind-transition\"\n          onClick={() => copy(link)}\n          variant=\"filled\"\n        >\n          <LinkIcon className=\"twind-mr-2\" />\n          Copy Link\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport function StreamPage() {\n  const near = useNear();\n  const params = useParams();\n\n  const accountSWR = useAccount({near});\n  const streamSWR = useSingleStream(\n    {streamId: params.id},\n    {\n      near,\n      accountSWR,\n    },\n  );\n  const PAGE_SIZE = 10;\n\n  const {\n    swr: streamHistorySWR,\n    nextPage,\n    prevPage,\n    maxPage,\n    currentPage,\n  } = useSingleStreamHistory(\n    {pageSize: 10},\n    {\n      near,\n      accountSWR,\n      streamSWR,\n    },\n  );\n\n  const account = accountSWR.data;\n  const stream = streamSWR.data;\n  let streamHistory = streamHistorySWR.data || [];\n\n  const pageError = streamSWR.error || accountSWR.error;\n\n  if (!stream || !account) {\n    return <div>Loading</div>;\n  }\n  const {link} = streamViewData(stream);\n\n  return (\n    <div className=\"twind-container twind-mx-auto twind-p-12\">\n      <div className=\"twind-mb-10\">\n        <BackButton to={routes.myStreams} />\n      </div>\n\n      {pageError ? (\n        <PageError\n          className=\"twind-max-w-2xl twind-mx-auto twind-my-32\"\n          message={pageError.message}\n          onRetry={() => {\n            accountSWR.mutate();\n            streamSWR.mutate();\n          }}\n        />\n      ) : (\n        <>\n          <div className=\"twind-flex twind-flex-col lg:twind-flex-row twind-justify-between\">\n            <div className=\"twind-flex twind-flex-col twind-items-center twind-flex-grow\">\n              <StreamDashboard stream={stream} account={account} />\n              <StreamCopyUrlBlock\n                link={link}\n                className=\"twind-max-w-xl twind-w-full twind-mt-28\"\n              />\n            </div>\n            <StreamOverviewCard\n              className=\"twind-mt-10 lg:twind-mt-0 lg:twind-w-1/3 twind-self-start\"\n              stream={stream}\n              account={account}\n            />\n          </div>\n\n          <StreamActionHistory\n            pageSize={PAGE_SIZE}\n            loading={!streamHistorySWR.data}\n            stream={stream}\n            history={streamHistory}\n            className=\"twind-mx-auto twind-max-w-6xl twind-my-24 twind-w-full\"\n            onPrevPageClick={prevPage}\n            onNextPageClick={nextPage}\n            maxPage={maxPage}\n            currentPage={currentPage}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport 'error-polyfill';\n// import 'bootstrap/dist/js/bootstrap.bundle';\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.scss';\nimport {\n  HashRouter as Router,\n  Link,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport SendPage from './pages/Send';\nimport {Header} from './components/Header';\nimport {NearContext, useCreateNear} from './features/near-connect/useNear';\nimport {MyStreamsPage} from './pages/MyStreams';\nimport {AccountPage} from './pages/Account';\nimport {AuthorizePage} from './pages/Authorize';\nimport {StreamPage} from './pages/StreamPage';\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\nfunction PrivateRoute({children, allowed, redirect, ...rest}) {\n  return (\n    <Route\n      {...rest}\n      render={({location}) => {\n        return allowed ? children : redirect;\n      }}\n    />\n  );\n}\n\nfunction AppFn() {\n  const near = useCreateNear();\n\n  return (\n    <NearContext.Provider value={near}>\n      <div className=\"twind-bg-dark twind-text-white\">\n        {near.inited ? (\n          <Router basename={process.env.PUBLIC_URL}>\n            <Header signedIn={near.auth.signedIn} />\n\n            <Switch>\n              <PrivateRoute\n                exact\n                redirect={<Redirect to=\"/\" />}\n                allowed={!near.auth.signedIn}\n                path=\"/authorize\"\n              >\n                <AuthorizePage />\n              </PrivateRoute>\n              <PrivateRoute\n                exact\n                redirect={<Redirect to=\"/authorize\" />}\n                allowed={near.auth.signedIn}\n                path=\"/\"\n              >\n                <SendPage />\n              </PrivateRoute>\n              <PrivateRoute\n                exact\n                redirect={<Redirect to=\"/authorize\" />}\n                allowed={near.auth.signedIn}\n                path=\"/account\"\n              >\n                <AccountPage />\n              </PrivateRoute>\n\n              <Route exact path=\"/my_streams/:id\">\n                <StreamPage />\n              </Route>\n              <PrivateRoute\n                exact\n                redirect={<Redirect to=\"/authorize\" />}\n                allowed={near.auth.signedIn}\n                path=\"/my_streams\"\n              >\n                <MyStreamsPage />\n              </PrivateRoute>\n            </Switch>\n          </Router>\n        ) : null}\n      </div>\n    </NearContext.Provider>\n  );\n}\n\nexport default AppFn;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.scss';\nimport Modal from 'react-modal';\n\nconst rootEl = document.getElementById('root');\n\nModal.setAppElement(rootEl);\nReactDOM.render(<App />, rootEl);\n"],"sourceRoot":""}