{"version":3,"sources":["components/Helpers.js","components/kit/Button/Button.jsx","components/kit/NavLink.jsx","components/kit/Input/Input.jsx","components/kit/FormField/FormField.jsx","features/near-connect/near-contract-api.js","features/near-connect/useNear.js","pages/Send.js","pages/Receive.js","components/icons/XyimingLogo.jsx","components/icons/Copy.jsx","components/icons/Receive.jsx","components/icons/Send.jsx","components/icons/Streams.jsx","features/near-auth/NearAuthButton.jsx","features/near-auth/useNearAuth.js","lib/routing.js","components/Header.jsx","features/stream-control/StreamControls.jsx","features/stream-control/useStreamControl.js","pages/MyStreams.js","pages/Authorize.js","App.js","index.js"],"names":["fromNear","s","parseFloat","fromTaras","variants","Button","icon","children","className","variant","rest","variantStyles","classNames","NavLink","to","match","useRouteMatch","isActive","isExact","Input","error","borderColor","FormField","label","NearContractApi","near","console","log","contract","getAccount","accountId","a","get_account","account_id","getCurrentAccount","walletConnection","getAccountId","NearConfig","window","location","hostname","accountSuffix","networkId","nodeUrl","contractName","walletUrl","ft","NearContext","React","createContext","inited","keyStore","auth","signedIn","signedAccountId","contractApi","refreshAllowance","login","logout","createNearInstance","nearAPI","BrowserLocalStorageKeyStore","Object","assign","deps","_near","account","viewMethods","changeMethods","ERR_NOT_IN_NEAR_CONTEXT","Error","useNear","useContext","SendPage","profileId","useState","token","setToken","radioClick","e","preventDefault","ownerId","document","getElementById","value","receiverId","deposit","String","parseInt","speed","create_stream","description","owner_id","receiver_id","token_name","tokens_per_tick","auto_deposit_enabled","res","fetchAccount","useSWR","errorRetryInterval","data","outputs","depositList","map","output","id","stream_id","onSubmit","createStreamClick","required","placeholder","type","name","onClick","checked","htmlFor","requried","describedby","ReceivePage","showButtons","setShowButtons","pause_stream","input","withdraw","stop_stream","inputs","style","width","margin","backgroundColor","substr","balance","toFixed","tokens_available","tokens_transferred","status","disabled","withdrawStreamClick","pauseStreamClick","stopStreamClick","XyimingLogo","height","viewBox","fill","xmlns","d","Receive","stroke","strokeWidth","strokeLinecap","Send","Streams","cx","cy","r","NearAuthButton","props","useNearAuth","role","routes","Header","navigation","logo","StreamControls","controls","streamId","loading","setLoading","restart_stream","wrapped","fn","pause","restart","stop","useStreamControl","MyStreamsPage","selectBox","selectedIndex","stream","ft_transfer_call","config","amount","memo","msg","outputsTable","depositClick","onChange","selectClick","selected","color","fontSize","AuthorizePage","PrivateRoute","allowed","redirect","render","path","AppFn","apiRef","useRef","setInited","setNear","requestSignIn","signOut","alert","useEffect","current","init","useCreateNear","Provider","basename","process","exact","ReactDOM"],"mappings":"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","file":"static/js/main.67daf8b1.chunk.js","sourcesContent":["import React from 'react'\n\nconst NEAR = '\\u24C3\\u202F'\nconst TARAS = '\\uD83C\\uDD43'\n\nconst fromNear = (s) => parseFloat(s) / 1e24 || 0\nconst fromTaras = (s) => parseFloat(s) / 1e18 || 0\n\nfunction loader () {\n  return (\n  // key='1' is needed by InfiniteScroll\n    <div className='d-flex justify-content-center' key='1'>\n      <div className='spinner-grow' role='status'>\n        <span className='visually-hidden'>Loading...</span>\n      </div>\n    </div>\n  )\n}\n\nexport { NEAR, TARAS, fromNear, fromTaras, loader }\n","import React from 'react';\nimport classNames from 'classnames';\nimport './Button.scss';\n\nconst variants = {\n  main: 'main',\n  outlined: 'outlined',\n};\nexport function Button({\n  icon,\n  children,\n  className,\n  variant = 'outlined',\n  ...rest\n}) {\n  let variantStyles = '';\n  if (variant === variants.main) {\n    variantStyles =\n      'twind-px-12 twind-py-6 twind-font-bold Button--main twind-rounded-3xl';\n  } else if (variant === variants.outlined) {\n    variantStyles =\n      'twind-border-solid twind-border twind-border-blue hover:twind-bg-blue twind-font-semibold twind-rounded-lg';\n  }\n\n  return (\n    <button\n      className={classNames(\n        'twind-inline-flex twind-items-center twind-justify-center twind-p-3  twind-whitespace-nowrap',\n        variantStyles,\n        'twind-transition-all',\n        className,\n      )}\n      {...rest}\n    >\n      {icon ? <div className=\"twind-mr-2\">{icon}</div> : null}\n      {children}\n    </button>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Link, useRouteMatch } from 'react-router-dom';\nexport function NavLink({ icon, children, className, to, ...rest }) {\n  const activeClassname = 'twind-bg-hover';\n  const match = useRouteMatch(to);\n  const isActive = match && match.isExact;\n\n  return (\n    <Link\n      to={to}\n      className={classNames(\n        className,\n        'twind-text-white twind-font-semibold',\n        'twind-flex twind-items-center twind-px-5 twind-py-4 twind-rounded-xl ',\n        'twind-group twind-cursor-pointer twind-whitespace-nowrap',\n        isActive ? activeClassname : '',\n        'twind-transition-all',\n        'hover:twind-bg-hover',\n      )}\n      {...rest}\n    >\n      <div\n        className={classNames(\n          'group-hover:twind-text-blue',\n          isActive ? 'twind-text-blue' : '',\n        )}\n      >\n        {icon}\n      </div>\n      <div className=\"twind-ml-2\">{children}</div>\n    </Link>\n  );\n}\n","import React from 'react';\nimport './Input.scss';\nimport classNames from 'classnames';\n\nexport function Input({ children, error, ...rest }) {\n  const borderColor = error ? 'twind-border-red-400' : 'twind-border-border';\n  return (\n    <label\n      className={classNames(\n        'Input twind-font-semibold twind-flex twind-p-4 twind-rounded-lg twind-border  twind-bg-input twind-text-white focus-within:twind-border-blue hover:twind-border-blue',\n        borderColor,\n      )}\n      {...rest}\n    >\n      {children}\n    </label>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\nexport function FormField({ children, label, error, className, ...rest }) {\n  return (\n    <label className={classNames('twind-block', className)} {...rest}>\n      <div className=\"twind-mb-1\">{label}</div>\n      <div>{children}</div>\n      {error ? (\n        <div className=\"twind-text-red-500 twind-mt-1 twind-text-xs\">\n          {error}\n        </div>\n      ) : null}\n    </label>\n  );\n}\n","export function NearContractApi(near) {\n  console.log('NearContractApi', near);\n\n  const contract = near.contract;\n\n  const getAccount = async (accountId) => {\n    try {\n      if (!accountId) {\n        return [];\n      }\n      return await contract.get_account({ account_id: accountId });\n    } catch (e) {\n      console.log('near error', e);\n    }\n    return [];\n  };\n\n  const getCurrentAccount = () =>\n    getAccount(near.walletConnection.getAccountId());\n\n  return {\n    getCurrentAccount,\n    getAccount,\n  };\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport * as nearAPI from 'near-api-js'\nimport { NearContractApi } from './near-contract-api'\n\nconst IsMainnet = window.location.hostname === '(xyiming)' // TODO\nconst TestNearConfig = {\n  accountSuffix: 'testnet',\n  networkId: 'testnet',\n  nodeUrl: 'https://rpc.testnet.near.org',\n  contractName: 'dev-1630866505805-59948878430656',\n  walletUrl: 'https://wallet.testnet.near.org',\n  ft: 'dev-1630798753809-34755859843881'\n}\nconst MainNearConfig = {\n  accountSuffix: 'near',\n  networkId: 'mainnet',\n  nodeUrl: 'https://rpc.mainnet.near.org',\n  contractName: 'dev-1630866505805-59948878430656',\n  walletUrl: 'https://wallet.near.org'\n}\n\nexport const NearConfig = IsMainnet ? MainNearConfig : TestNearConfig\n\nexport const NearContext = React.createContext({\n  inited: false,\n  near: {\n    keyStore: null,\n    near: null,\n    walletConnection: null,\n    accountId: null,\n    contract: null,\n    ft: null\n  },\n  auth: {\n    signedIn: false,\n    signedAccountId: null\n  },\n  contractApi: NearContractApi({}),\n  refreshAllowance: () => {},\n  login: () => {},\n  logout: () => {}\n})\n\nasync function createNearInstance () {\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore()\n  const near = await nearAPI.connect(\n    Object.assign({ deps: { keyStore } }, NearConfig)\n  )\n\n  const _near = {\n    keyStore: null,\n    near: null,\n    walletConnection: null,\n    accountId: null,\n    contract: null,\n    ft: null\n  }\n\n  _near.keyStore = keyStore\n  _near.near = near\n\n  _near.walletConnection = new nearAPI.WalletConnection(\n    near,\n    NearConfig.contractName\n  )\n  _near.accountId = _near.walletConnection.getAccountId()\n\n  _near.account = _near.walletConnection.account()\n  _near.contract = new nearAPI.Contract(\n    _near.account,\n    NearConfig.contractName,\n    {\n      viewMethods: ['get_account', 'get_stream'],\n      changeMethods: [\n        'create_stream',\n        'deposit',\n        'withdraw',\n        'pause_stream',\n        'restart_stream',\n        'create_bridge',\n        'delete_bridge',\n        'push_flow',\n        'stop_stream'\n      ]\n    }\n  )\n\n  // TODO set multiple\n  _near.ft = new nearAPI.Contract(_near.account, NearConfig.ft, {\n    viewMethods: ['ft_balance_of'],\n    changeMethods: ['ft_transfer', 'ft_transfer_call']\n  })\n\n  return _near\n}\n\nexport function useCreateNear () {\n  const apiRef = React.useRef(null)\n\n  const [inited, setInited] = useState(false)\n  const [near, setNear] = useState({\n    keyStore: null,\n    near: null,\n    walletConnection: null,\n    accountId: null,\n    contract: null,\n    ft: null\n  })\n\n  const auth = {\n    signedIn: !!near.accountId,\n    signedAccountId: near.accountId\n  }\n\n  async function login () {\n    const appTitle = 'Streaming Xyiming'\n\n    await near.walletConnection.requestSignIn(\n      NearConfig.contractName,\n      appTitle\n    )\n  }\n\n  function logout () {\n    near.walletConnection.signOut()\n\n    setNear({\n      ...near,\n      accountId: null\n    })\n  }\n\n  async function refreshAllowance () {\n    alert(\n      \"You're out of access key allowance. Need sign in again to refresh it\"\n    )\n    await logout()\n    // await requestSignIn();\n  }\n\n  useEffect(() => {\n    const init = async () => {\n      const _near = await createNearInstance()\n\n      apiRef.current = NearContractApi(_near)\n      setNear(_near)\n      setInited(true)\n    }\n\n    init()\n  }, [])\n\n  return {\n    auth,\n    near,\n    contractApi: apiRef.current,\n    inited,\n    login,\n    logout,\n    refreshAllowance\n  }\n}\n\nconst ERR_NOT_IN_NEAR_CONTEXT = new Error('Near context is not found')\n\nexport function useNear () {\n  const near = useContext(NearContext)\n  const insideContext = !!near\n\n  if (!insideContext) {\n    throw ERR_NOT_IN_NEAR_CONTEXT\n  }\n\n  return near\n}\n","import React, { useState } from 'react'\nimport useSWR from 'swr'\n\nimport { NEAR, loader, TARAS } from '../components/Helpers'\nimport { FormField, Input, Button } from '../components/kit'\nimport { useNear } from '../features/near-connect/useNear'\n\nfunction SendPage () {\n  const near = useNear()\n  const profileId = near.auth.signedAccountId\n\n  const [token, setToken] = useState('NEAR')\n\n  function radioClick (e, token) {\n    setToken(token)\n  }\n\n  async function createStreamClick (e) {\n    e.preventDefault()\n    const ownerId = document.getElementById('ownerInput').value\n    const receiverId = document.getElementById('receiverInput').value\n    // TODO\n    const deposit =\n      token === 'NEAR'\n        ? String(\n          parseInt(\n            (parseFloat(document.getElementById('depositInput').value) +\n                1e-1) *\n                1e9\n          )\n        ) + '000000000000000'\n        : '100000000000000000000000'\n    const speed =\n      token === 'NEAR'\n        ? String(\n          parseInt(\n            (parseFloat(document.getElementById('speedInput').value) + 0) *\n                1e9\n          )\n        ) + '000000'\n        : String(\n          parseInt(\n            (parseFloat(document.getElementById('speedInput').value) + 0) *\n                1e9\n          )\n        )\n    const res = await near.near.contract.create_stream(\n      {\n        description: 'blabla',\n        owner_id: ownerId,\n        receiver_id: receiverId,\n        token_name: token,\n        tokens_per_tick: speed,\n        auto_deposit_enabled: false\n      },\n      '200000000000000',\n      deposit\n    )\n    console.log('create res', res)\n  }\n\n  const fetchAccount = async (...args) => {\n    try {\n      if (!profileId) {\n        return []\n      }\n      return await near.near.contract.get_account({ account_id: profileId })\n    } catch (e) {\n      console.log('near error', e)\n    }\n    return []\n  }\n\n  const { data: account } = useSWR(['account', profileId], fetchAccount, {\n    errorRetryInterval: 250\n  })\n  const outputs = account && account.outputs ? account.outputs : []\n  let depositList = outputs\n\n  if (near.inited && account) {\n    depositList = outputs.map((output, id) => {\n      return (\n        <option key={id} value={id}>\n          {output.stream_id}\n        </option>\n      )\n    })\n  }\n\n  console.log('!!', depositList)\n\n  return (\n    <div className='twind-container twind-m-auto twind-px-5 twind-py-12'>\n      <div className='twind-text-center'>\n        <h1 className='twind-text-5xl twind-mb-4 twind-text-center'>\n          Create a stream\n        </h1>\n        <p className='twind-text-gray'>\n          Stream your tokens to the receiver directly\n        </p>\n      </div>\n\n      <form\n        className='twind-max-w-lg twind-mx-auto twind-w-full'\n        onSubmit={(e) => createStreamClick(e)}\n      >\n        <FormField label='Owner:' className='twind-mb-4'>\n          <Input>\n            <input\n              required\n              placeholder='owner.near'\n              id='ownerInput'\n              value={near.near.accountId}\n            />\n          </Input>\n        </FormField>\n\n        <FormField label='Receiver:' className='twind-mb-4'>\n          <Input>\n            <input required id='receiverInput' placeholder='root.near' />\n          </Input>\n        </FormField>\n\n        <FormField label='Token' className='twind-mb-4'>\n          <div className='form-check mb-2'>\n            <input\n              className='form-check-input'\n              type='radio'\n              name='flexToken'\n              id='flexToken1'\n              onClick={(e) => radioClick(e, 'NEAR')}\n              checked={token === 'NEAR'}\n            />\n            <label className='form-check-label' htmlFor='flexToken1'>\n              NEAR tokens\n            </label>\n          </div>\n          <div className='form-check mb-2'>\n            <input\n              className='form-check-input'\n              type='radio'\n              name='flexToken'\n              id='flexToken2'\n              onClick={(e) => radioClick(e, 'TARAS')}\n              checked={token === 'TARAS'}\n            />\n            <label className='form-check-label' htmlFor='flexToken2'>\n              TARAS Supremacy Tokens\n            </label>\n          </div>\n        </FormField>\n\n        {token === 'NEAR' ? (\n          <FormField label='Initial deposit:' className='twind-mb-4'>\n            <Input>\n              <input requried placeholder='0.00' id='depositInput' />\n            </Input>\n          </FormField>\n        ) : null}\n\n        <FormField label='Streaming speed, tokens per second'>\n          <Input>\n            <input\n              required\n              id='speedInput'\n              placeholder='0.03'\n              describedby='basic-addon2'\n            />\n          </Input>\n        </FormField>\n\n        <div className='twind-flex'>\n          <Button variant='main' className='twind-mt-12 twind-mx-auto'>\n            Create Stream\n          </Button>\n        </div>\n        <p className='twind-text-center twind-text-gray twind-my-6'>\n          You will be charged 0.006 ETH fee for that stream\n        </p>\n      </form>\n    </div>\n  )\n}\n\nexport default SendPage\n","import React, { useState } from 'react';\nimport useSWR from 'swr';\n\nimport { fromNear } from '../components/Helpers';\nimport { useNear } from '../features/near-connect/useNear';\n\nfunction ReceivingStremsTable({\n  inputs,\n  signedIn,\n  connected,\n  showButtons,\n  onWithdraw,\n  onPause,\n  onStop,\n}) {\n  return (\n    <table>\n      <thead>\n        <th className=\"\">From owner</th>\n        <th className=\"\">Stream ID</th>\n        <th className=\"\">Tokens left</th>\n        <th className=\"\">Token name</th>\n        <th className=\"\">Stream speed</th>\n        <th className=\"\">Tokens unlocked</th>\n        <th className=\"\">Tokens transferred</th>\n        <th className=\"\">Stream status</th>\n        <th className=\"\" />\n      </thead>\n      <tbody>\n        {inputs.map((input, id) => (\n          <tr>\n            <td className=\"\">{input.owner_id}</td>\n            <td className=\"col-1 m-1\">\n              <small>\n                <samp className=\"text-secondary\">\n                  {input.stream_id.substr(0, 6)}...\n                </samp>\n              </small>\n            </td>\n            <td className=\"col-1 m-1\">{fromNear(input.balance).toFixed(2)}</td>\n            <td className=\"col-1 m-1\">{input.token_name}</td>\n            <td className=\"col-1 m-1\">\n              {(fromNear(input.tokens_per_tick) * 1e9).toFixed(2)}{' '}\n              {input.token_name}/s\n            </td>\n            <td className=\"col-1 m-1\">\n              {fromNear(input.tokens_available).toFixed(2)}\n            </td>\n            <td className=\"col-1 m-1\">\n              {fromNear(input.tokens_transferred).toFixed(2)}\n            </td>\n            <td className=\"col-1 m-1\">{input.status}</td>\n            <td className=\"col-2 m-1\">\n              {connected && showButtons && input.status === 'ACTIVE' ? (\n                <div className=\"d-flex flex-row\">\n                  <button\n                    disabled={!signedIn}\n                    className=\"btn btn-success btn-sm m-1\"\n                    onClick={(e) => onWithdraw(e, input)}\n                  >\n                    Withdraw\n                  </button>\n                  <button\n                    disabled={!signedIn}\n                    className=\"btn btn-warning btn-sm m-1\"\n                    onClick={(e) => onPause(e, input)}\n                  >\n                    Pause\n                  </button>\n                  <button\n                    disabled={!signedIn}\n                    className=\"btn btn-danger btn-sm m-1\"\n                    onClick={(e) => onStop(e, input)}\n                  >\n                    Stop\n                  </button>\n                </div>\n              ) : (\n                <div />\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nconst mockInputs = [\n  {\n    owner_id: 'йцуйцQWEQWE',\n    stream_id: 'QWEQWE',\n    balance: 'QWEQWE',\n    token_name: 'NAR',\n    tokens_per_tick: 'QWEQWE',\n    tokens_available: 'QWEQWE',\n    tokens_transferred: 'QWEQWE',\n    status: 'QWEQWE',\n  },\n  {\n    owner_id: 'йцуйцQWEQWE',\n    stream_id: 'QWEQWE',\n    balance: 'QWEQWwqeqweqweqweqweqweE',\n    token_name: 'NIR',\n    tokens_per_tick: 'QWEQWE',\n    tokens_available: 'QWEQWE',\n    tokens_transferred: 'QWEQWE',\n    status: 'ACTIVE',\n  },\n  {\n    owner_id: 'йцуйцQWEQWE',\n    stream_id: 'QWEQWEqwewe',\n    balance: 'QWEQWEqweqw',\n    token_name: 'NEAR',\n    tokens_per_tick: 'QWEQWEqwe',\n    tokens_available: 'QWEQWEqwe',\n    tokens_transferred: 'QWEQWqweE',\n    status: 'ACTIVE',\n  },\n];\n\nfunction ReceivePage() {\n  const near = useNear();\n\n  const signedIn = near.auth.signedIn;\n  const profileId = near.near.accountId;\n\n  const [showButtons, setShowButtons] = useState(true);\n\n  async function pauseStreamClick(e, output) {\n    e.preventDefault();\n    setShowButtons(false);\n    console.log('pausing', output);\n    const res = await near.near.contract.pause_stream(\n      { stream_id: output.stream_id },\n      '200000000000000',\n      1,\n    );\n    console.log('pausing res', res);\n  }\n\n  async function withdrawStreamClick(e, input) {\n    e.preventDefault();\n    setShowButtons(false);\n    console.log('withdraw', input);\n    const res = await near.near.contract.withdraw(\n      { stream_id: input.stream_id },\n      '200000000000000',\n      0,\n    );\n    console.log('withdraw res', res);\n    // TODO update the page instantly\n    setShowButtons(true);\n  }\n\n  async function stopStreamClick(e, input) {\n    e.preventDefault();\n    setShowButtons(false);\n    console.log('stopping', input);\n    const res = await near.near.contract.stop_stream(\n      { stream_id: input.stream_id },\n      '200000000000000',\n      1,\n    );\n    console.log('stopping res', res);\n  }\n\n  const fetchAccount = async (...args) => {\n    try {\n      if (!profileId) {\n        return [];\n      }\n      return await near.near.contract.get_account({ account_id: profileId });\n    } catch (e) {\n      console.log('near error', e);\n    }\n    return [];\n  };\n\n  const { data: account } = useSWR(['account', profileId], fetchAccount, {\n    errorRetryInterval: 250,\n  });\n  let inputs = account && account.inputs ? account.inputs : [];\n\n  if (near.inited && account) {\n    inputs = inputs.map((input, id) => {\n      return (\n        <div\n          className=\"card\"\n          style={{ width: '90%', margin: '15px', backgroundColor: '#141414' }}\n          key={id}\n        >\n          <div className=\"card-body\">\n            <div className=\"d-flex flex-row justify-content-between w-100\">\n              <div className=\"col-2 m-1\">{input.owner_id}</div>\n              <small className=\"col-1 m-1\">\n                <small>\n                  <samp className=\"text-secondary\">\n                    {input.stream_id.substr(0, 6)}...\n                  </samp>\n                </small>\n              </small>\n              <small className=\"col-1 m-1\">\n                {fromNear(input.balance).toFixed(2)}\n              </small>\n              <small className=\"col-1 m-1\">{input.token_name}</small>\n              <small className=\"col-1 m-1\">\n                {(fromNear(input.tokens_per_tick) * 1e9).toFixed(2)}{' '}\n                {input.token_name}/s\n              </small>\n              <small className=\"col-1 m-1\">\n                {fromNear(input.tokens_available).toFixed(2)}\n              </small>\n              <small className=\"col-1 m-1\">\n                {fromNear(input.tokens_transferred).toFixed(2)}\n              </small>\n              <small className=\"col-1 m-1\">{input.status}</small>\n              <div className=\"col-2 m-1\">\n                {near.inited && showButtons && input.status === 'ACTIVE' ? (\n                  <div className=\"d-flex flex-row\">\n                    <button\n                      disabled={!signedIn}\n                      className=\"btn btn-success btn-sm m-1\"\n                      onClick={(e) => withdrawStreamClick(e, input)}\n                    >\n                      Withdraw\n                    </button>\n                    <button\n                      disabled={!signedIn}\n                      className=\"btn btn-warning btn-sm m-1\"\n                      onClick={(e) => pauseStreamClick(e, input)}\n                    >\n                      Pause\n                    </button>\n                    <button\n                      disabled={!signedIn}\n                      className=\"btn btn-danger btn-sm m-1\"\n                      onClick={(e) => stopStreamClick(e, input)}\n                    >\n                      Stop\n                    </button>\n                  </div>\n                ) : (\n                  <div />\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  return !near.inited ? (\n    <div className=\"container g-0 px-5\">\n      Please connect your NEAR Account first\n    </div>\n  ) : (\n    <div className=\"twcontainer g-0 px-5\">\n      <h4 className=\"twtext-2xl twmb-6\">Your receiving streams</h4>\n      <div className=\"card tww-full twbg-gray-700\">\n        <div className=\"card-body\">\n          <div className=\"d-flex flex-row justify-content-between w-100\">\n            <div className=\"col-2 m-1\">From owner</div>\n            <div className=\"col-1 m-1\">Stream ID</div>\n            <div className=\"col-1 m-1\">Tokens left</div>\n            <div className=\"col-1 m-1\">Token name</div>\n            <div className=\"col-1 m-1\">Stream speed</div>\n            <div className=\"col-1 m-1\">Tokens unlocked</div>\n            <div className=\"col-1 m-1\">Tokens transferred</div>\n            <div className=\"col-1 m-1\">Stream status</div>\n            <div className=\"col-2 m-1\" />\n          </div>\n        </div>\n      </div>\n      {inputs}\n    </div>\n  );\n}\n\nexport default ReceivePage;\n","export function XyimingLogo() {\n  return (\n    <svg\n      width=\"31\"\n      height=\"26\"\n      viewBox=\"0 0 31 26\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M2.21044 3.01963C1.44551 1.68631 2.40806 0.0243835 3.94522 0.0243835H15.2557L28.301 22.7632C29.0659 24.0965 28.1033 25.7585 26.5662 25.7585H15.2557L2.21044 3.01963Z\"\n        fill=\"white\"\n      />\n      <path\n        d=\"M15.2556 25.7585H26.5661C28.1033 25.7585 29.0658 24.0965 28.3009 22.7632L22.6374 12.8914L15.2556 25.7585Z\"\n        fill=\"#9692BB\"\n      />\n      <path\n        d=\"M30.0193 0.0243835L15.2556 0.0243881L0.491936 25.7585L15.2556 25.7585L30.0193 0.0243835Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport const Copy = () => (\n  <svg\n    width=\"17\"\n    height=\"16\"\n    viewBox=\"0 0 17 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M12.1884 4.70767H13.2423C14.6173 4.70767 15.7319 5.82227 15.7319 7.1972V12.6244C15.7319 13.9994 14.6173 15.114 13.2423 15.114H7.81509C6.44016 15.114 5.32556 13.9994 5.32556 12.6244V11.5705\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1.65968\"\n    />\n    <rect\n      x=\"1.46289\"\n      y=\"1.3735\"\n      width=\"10.4063\"\n      height=\"10.4063\"\n      rx=\"2.48952\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1.65968\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const Receive = () => (\n  <svg\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1.99536 1.96368L10.5555 10.5238M10.5555 10.5238V1.96368M10.5555 10.5238H1.99542\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2.5\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\nexport const Send = () => (\n  <svg\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.5309 10.5238L1.9707 1.96368M1.9707 1.96368V10.5238M1.9707 1.96368H10.5308\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2.5\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n","import React from 'react';\nexport const Streams = () => (\n  <svg\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 14 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"2.08925\" cy=\"2.03994\" r=\"2.03994\" fill=\"currentColor\" />\n    <circle cx=\"11.1691\" cy=\"2.03994\" r=\"2.03994\" fill=\"currentColor\" />\n    <circle cx=\"2.08925\" cy=\"11.1198\" r=\"2.03994\" fill=\"currentColor\" />\n    <circle cx=\"11.1691\" cy=\"11.1198\" r=\"2.03994\" fill=\"currentColor\" />\n  </svg>\n);\n","import React from 'react';\nimport { Button } from '../../components/kit';\nimport { useNearAuth } from './useNearAuth';\n\nexport function NearAuthButton(props) {\n  const { inited, logout, login, accountId, signedIn } = useNearAuth();\n\n  if (!inited) {\n    return (\n      <Button {...props}>\n        Connecting...{' '}\n        <span\n          className=\"spinner-grow spinner-grow-sm\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        />\n      </Button>\n    );\n  }\n\n  return signedIn ? (\n    <Button onClick={logout} {...props}>\n      Sign out ({accountId})\n    </Button>\n  ) : (\n    <Button onClick={login} {...props}>\n      Sign in with NEAR Wallet\n    </Button>\n  );\n}\n","import { useNear, NearConfig } from '../near-connect/useNear';\n\nexport function useNearAuth() {\n  const near = useNear();\n\n  async function login(e) {\n    e && e.preventDefault();\n    await near.login();\n    return false;\n  }\n\n  async function logout(e) {\n    await near.logout();\n  }\n  return {\n    accountId: near.auth.signedAccountId,\n    signedIn: near.auth.signedIn,\n    inited: near.inited,\n    login,\n    logout,\n  };\n}\n","export const routes = {\n  authorize: '/authorize',\n  myStreams: '/my_streams',\n  send: '/',\n  receive: '/receive',\n};\n","import React from 'react';\nimport { XyimingLogo } from './icons/XyimingLogo';\nimport * as icons from './icons';\nimport { NavLink } from './kit';\nimport { NearAuthButton } from '../features/near-auth/NearAuthButton';\nimport classNames from 'classnames';\nimport { routes } from '../lib/routing';\n\nfunction tailwindResponsive(size, classNames) {\n  return classNames.map((className) => `${size}:${className}`);\n}\n\nexport function Header() {\n  const navigation = (\n    <ul className=\"twind-flex-col lg:twind-flex-row twind-flex twind-justify-center \">\n      <li className=\"twind-mb-2 lg:twind-mr-2 lg:twind-mb-0\">\n        <NavLink to={routes.myStreams} icon={<icons.Streams />}>\n          My Streams\n        </NavLink>\n      </li>\n      <li className=\"twind-mb-2 lg:twind-mr-2 lg:twind-mb-0\">\n        <NavLink to={routes.send} icon={<icons.Send />}>\n          Send\n        </NavLink>\n      </li>\n      <li>\n        <NavLink icon={<icons.Receive />} to={routes.receive}>\n          Receive\n        </NavLink>\n      </li>\n    </ul>\n  );\n\n  const logo = (\n    <div className=\"twind-flex twind-justify-start twind-items-center\">\n      <XyimingLogo></XyimingLogo>\n      <div className=\"twind-px-1\"></div>\n      <pre>\n        Streaming <br />\n        Xyiming\n      </pre>\n    </div>\n  );\n  return (\n    <div className=\"twind-py-4 twind-px-6\">\n      <div\n        className={classNames(\n          'twind-hidden lg:twind-grid twind-items-center twind-grid-cols-3 twind-gap-3 ',\n        )}\n      >\n        {logo}\n        {navigation}\n        <div className=\"twind-flex twind-justify-end\">\n          <NearAuthButton />\n        </div>\n      </div>\n\n      <div className={classNames('lg:twind-hidden', 'navbar-dark')}>\n        <div className=\"twind-flex twind-justify-between\">\n          {logo}\n\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarSupportedContent\"\n            aria-controls=\"navbarSupportedContent\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\" />\n          </button>\n        </div>\n        <div\n          className=\"collapse navbar-collapse twind-mt-4\"\n          id=\"navbarSupportedContent\"\n        >\n          {navigation}\n          <NearAuthButton className=\"mt-4\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useStreamControl } from './useStreamControl';\n\nexport function StreamControls({ output }) {\n  const controls = useStreamControl(output.stream_id);\n\n  if (controls.loading) {\n    // TODO: cool loader\n    return <span>Loading!</span>;\n  }\n\n  return output.status === 'ACTIVE' || output.status === 'PAUSED' ? (\n    <div className=\"d-flex flex-row\">\n      <div>\n        {output.status === 'ACTIVE' ? (\n          <button\n            type=\"button\"\n            className=\"btn btn-warning btn-sm m-1\"\n            onClick={controls.pause}\n          >\n            Pause\n          </button>\n        ) : (\n          <button\n            type=\"button\"\n            className=\"btn btn-warning btn-sm m-1\"\n            onClick={controls.restart}\n          >\n            Restart\n          </button>\n        )}\n      </div>\n      <button\n        type=\"button\"\n        className=\"btn btn-danger btn-sm m-1\"\n        onClick={controls.stop}\n      >\n        Stop\n      </button>\n    </div>\n  ) : (\n    <div />\n  );\n}\n","import React from 'react';\nimport { useNear } from '../near-connect/useNear';\n\nexport function useStreamControl(streamId) {\n  const near = useNear();\n  const [loading, setLoading] = React.useState(false);\n\n  async function pause(output) {\n    console.log('pausing', output);\n    const res = await near.near.contract.pause_stream(\n      { stream_id: streamId },\n      '200000000000000',\n      1,\n    );\n    console.log('pausing res', res);\n\n    return res;\n  }\n\n  async function restart(output) {\n    console.log('restarting', output);\n    const res = await near.near.contract.restart_stream(\n      { stream_id: streamId },\n      '200000000000000',\n      1,\n    );\n    console.log('restarting res', res);\n\n    return res;\n  }\n\n  async function stop(output) {\n    console.log('stopping', output);\n    const res = await near.near.contract.stop_stream(\n      { stream_id: streamId },\n      '200000000000000',\n      1,\n    );\n    console.log('stopping res', res);\n    return res;\n  }\n\n  function wrapped(fn) {\n    return (...args) => {\n      if (loading) return;\n\n      setLoading(true);\n\n      try {\n        return fn(...args);\n      } finally {\n        setLoading(false);\n      }\n    };\n  }\n  return {\n    loading,\n    pause: wrapped(pause),\n    restart: wrapped(restart),\n    stop: wrapped(stop),\n  };\n}\n","import React, { useState } from 'react';\nimport { useNear } from '../features/near-connect/useNear';\nimport useSWR from 'swr';\nimport { fromNear, fromTaras } from '../components/Helpers';\nimport { StreamControls } from '../features/stream-control/StreamControls';\nimport { NEAR, loader, TARAS } from '../components/Helpers';\n\nexport function MyStreamsPage() {\n  const near = useNear();\n  const [token, setToken] = useState('NEAR');\n  const [showButtons, setShowButtons] = useState(true);\n\n  const { data: account } = useSWR(\n    ['account', near.near.accountId],\n    near.contractApi.getCurrentAccount,\n    {\n      errorRetryInterval: 250,\n    },\n  );\n\n  const outputs = account && account.outputs ? account.outputs : [];\n\n  const depositList = account\n    ? outputs.map((output, id) => {\n        return (\n          <option key={id} value={id}>\n            {output.stream_id}\n          </option>\n        );\n      })\n    : [];\n\n  function selectClick(e) {\n    var selectBox = document.getElementById('selectBox');\n    if (selectBox.selectedIndex > 0) {\n      setToken(outputs[selectBox.selectedIndex - 1].token_name);\n    }\n  }\n  async function depositClick(e) {\n    e.preventDefault();\n    setShowButtons(false);\n    var selectBox = document.getElementById('selectBox');\n    if (selectBox.selectedIndex > 0) {\n      const stream = outputs[selectBox.selectedIndex - 1];\n      if (token === 'NEAR') {\n        const deposit =\n          String(\n            parseInt(\n              parseFloat(document.getElementById('depositTokensInput').value) *\n                1e9,\n            ),\n          ) + '000000000000000';\n        const res = await near.near.contract.deposit(\n          { stream_id: stream.stream_id },\n          '200000000000000',\n          deposit,\n        );\n        console.log('deposit NEAR res', res);\n      } else {\n        const deposit =\n          String(\n            parseInt(\n              parseFloat(document.getElementById('depositTokensInput').value) *\n                1e9,\n            ),\n          ) + '000000000'; // get decimals per each ft contract\n        const res = await near.near.ft.ft_transfer_call(\n          {\n            receiver_id: near.near.near.config.contractName,\n            amount: deposit,\n            memo: 'xyiming transfer',\n            msg: stream.stream_id,\n          },\n          '200000000000000',\n          1,\n        );\n        console.log('deposit TARAS res', res);\n      }\n    }\n    setShowButtons(true);\n  }\n\n  const outputsTable = outputs.map((output, id) => {\n    return (\n      <div\n        className=\"card\"\n        style={{ width: '90%', margin: '15px', backgroundColor: '#141414' }}\n        key={id}\n      >\n        <div className=\"card-body\">\n          <div className=\"d-flex flex-row justify-content-between w-100\">\n            <div className=\"col-2 m-1\">{output.receiver_id}</div>\n            <small className=\"col-1 m-1\">\n              <small>\n                <samp className=\"text-secondary\">\n                  {output.stream_id.substr(0, 6)}...\n                </samp>\n              </small>\n            </small>\n            <small className=\"col-1 m-1\">\n              {output.token_name === 'NEAR'\n                ? fromNear(output.balance).toFixed(2)\n                : fromTaras(output.balance).toFixed(2)}\n            </small>\n            <small className=\"col-1 m-1\">{output.token_name}</small>\n            <small className=\"col-1 m-1\">\n              {output.token_name === 'NEAR'\n                ? (fromNear(output.tokens_per_tick) * 1e9).toFixed(2)\n                : (fromTaras(output.tokens_per_tick) * 1e9).toFixed(2)}{' '}\n              {output.token_name}/s\n            </small>\n            <small className=\"col-1 m-1\">\n              {output.token_name === 'NEAR'\n                ? fromNear(output.tokens_available).toFixed(2)\n                : fromTaras(output.tokens_available).toFixed(2)}\n            </small>\n            <small className=\"col-1 m-1\">\n              {output.token_name === 'NEAR'\n                ? fromNear(output.tokens_transferred).toFixed(2)\n                : fromTaras(output.tokens_transferred).toFixed(2)}\n            </small>\n            <small className=\"col-1 m-1\">{output.status}</small>\n            <div className=\"col-2 m-1\">\n              <StreamControls output={output} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"twind-container\">\n      <div>\n        <h4>Streams owned by you</h4>\n        <div\n          className=\"card\"\n          style={{ width: '90%', margin: '15px', backgroundColor: '#181818' }}\n        >\n          <div className=\"card-body\">\n            <div className=\"d-flex flex-row justify-content-between w-100\">\n              <div className=\"col-2 m-1\">Receiver</div>\n              <div className=\"col-1 m-1\">Stream ID</div>\n              <div className=\"col-1 m-1\">Tokens left</div>\n              <div className=\"col-1 m-1\">Token name</div>\n              <div className=\"col-1 m-1\">Stream speed</div>\n              <div className=\"col-1 m-1\">Tokens unlocked</div>\n              <div className=\"col-1 m-1\">Tokens transferred</div>\n              <div className=\"col-1 m-1\">Stream status</div>\n              <div className=\"col-2 m-1\" />\n            </div>\n          </div>\n        </div>\n        {outputsTable}\n      </div>\n\n      <div\n        className=\"card\"\n        style={{ width: '90%', margin: '15px', backgroundColor: '#141414' }}\n      >\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">Deposit tokens</h5>\n          <h6 className=\"card-subtitle mb-3 text-muted\">\n            Extend your existing stream\n          </h6>\n          <form onSubmit={(e) => depositClick(e)}>\n            <div className=\"form-group mb-2\">\n              <label htmlFor=\"ownerInput\" className=\"mb-2\">\n                Stream\n              </label>\n              <select\n                id=\"selectBox\"\n                className=\"form-control custom-select\"\n                onChange={(e) => selectClick(e)}\n              >\n                <option selected>Open this select menu</option>\n                {depositList}\n              </select>\n            </div>\n            <label htmlFor=\"depositTokensInput\" className=\"mb-2\">\n              Amount of tokens to deposit\n            </label>\n            <div className=\"input-group mb-2\">\n              <div className=\"input-group-prepend\">\n                <span\n                  className=\"input-group-text\"\n                  id=\"basic-addon2\"\n                  style={{\n                    backgroundColor: '#303030',\n                    color: '#e0e0e0',\n                    fontSize: '150%',\n                  }}\n                >\n                  {token === 'NEAR' ? NEAR : TARAS}\n                </span>\n              </div>\n              <input\n                className=\"form-control\"\n                id=\"depositTokensInput\"\n                placeholder=\"0.03\"\n                describedby=\"basic-addon2\"\n                style={{ backgroundColor: '#101010', color: '#e0e0e0' }}\n              />\n            </div>\n\n            {near.inited && showButtons ? (\n              <button\n                disabled={!near.auth.signedIn}\n                className=\"btn btn-primary mt-4\"\n              >\n                Deposit\n              </button>\n            ) : (\n              <div className=\"mt-4\">{loader()}</div>\n            )}\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { NearAuthButton } from '../features/near-auth/NearAuthButton';\nimport { useNear } from '../features/near-connect/useNear';\nimport { Redirect } from 'react-router-dom';\n\nexport function AuthorizePage() {\n  const near = useNear();\n\n  return (\n    <div className=\"twind-my-24 twind-text-center\">\n      <h1 className=\"twind-text-3xl twind-mb-4 twind-font-semibold\">\n        {' '}\n        Login via NEAR Network{' '}\n      </h1>\n      <p className=\"twind-text-gray\">\n        Click button below to login or create new account\n      </p>\n      <NearAuthButton className=\"twind-mt-10\" />\n    </div>\n  );\n}\n","import React from 'react'\nimport 'error-polyfill'\nimport 'bootstrap/dist/js/bootstrap.bundle'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.scss'\nimport {\n  HashRouter as Router,\n  Link,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom'\nimport SendPage from './pages/Send'\nimport ReceivePage from './pages/Receive'\nimport { Header } from './components/Header'\nimport { NearContext, useCreateNear } from './features/near-connect/useNear'\nimport { MyStreamsPage } from './pages/MyStreams'\nimport { AuthorizePage } from './pages/Authorize'\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\nfunction PrivateRoute ({ children, allowed, redirect, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        console.log(`Render ${rest.path}, allowed? ${allowed}`)\n        return allowed ? children : redirect\n      }}\n    />\n  )\n}\n\nfunction AppFn () {\n  const near = useCreateNear()\n\n  return (\n    <NearContext.Provider value={near}>\n      <div className='twind-bg-dark text-white'>\n        {near.inited ? (\n          <Router basename={process.env.PUBLIC_URL}>\n            <Header />\n\n            <Switch>\n              <PrivateRoute\n                exact\n                redirect={<Redirect to='/' />}\n                allowed={!near.auth.signedIn}\n                path='/authorize'\n              >\n                <AuthorizePage />\n              </PrivateRoute>\n\n              <PrivateRoute\n                exact\n                redirect={<Redirect to='/authorize' />}\n                allowed={near.auth.signedIn}\n                path='/'\n              >\n                <SendPage />\n              </PrivateRoute>\n              <PrivateRoute\n                exact\n                redirect={<Redirect to='/authorize' />}\n                allowed={near.auth.signedIn}\n                path='/my_streams'\n              >\n                <MyStreamsPage />\n              </PrivateRoute>\n              <PrivateRoute\n                exact\n                redirect={<Redirect to='/authorize' />}\n                allowed={near.auth.signedIn}\n                path='/receive'\n              >\n                <ReceivePage />\n              </PrivateRoute>\n            </Switch>\n          </Router>\n        ) : null}\n      </div>\n    </NearContext.Provider>\n  )\n}\n\nexport default AppFn\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}