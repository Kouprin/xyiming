{"version":3,"sources":["images/logo.png","components/Helpers.js","pages/Send.js","pages/Receive.js","App.js","index.js"],"names":["NEAR","TARAS","fromNear","s","parseFloat","fromTaras","loader","className","role","SendPage","props","profileId","signedAccountId","useState","showButtons","setShowButtons","token","setToken","radioClick","e","output","a","preventDefault","console","log","_near","contract","pause_stream","stream_id","res","restart_stream","stop_stream","ownerId","document","getElementById","value","receiverId","deposit","String","parseInt","speed","create_stream","description","owner_id","receiver_id","token_name","tokens_per_tick","selectBox","selectedIndex","stream","outputs","ft","ft_transfer_call","near","config","contractName","amount","memo","msg","fetchAccount","get_account","account_id","account","useSWR","errorRetryInterval","data","outputsTable","depositList","connected","map","id","style","width","margin","backgroundColor","substr","balance","toFixed","tokens_available","tokens_transferred","status","disabled","signedIn","onClick","pauseStreamClick","restartStreamClick","stopStreamClick","onSubmit","createStreamClick","htmlFor","placeholder","color","type","name","checked","fontSize","describedby","depositClick","onChange","selectClick","selected","ReceivePage","input","withdraw","inputs","withdrawStreamClick","NearConfig","window","location","hostname","accountSuffix","networkId","nodeUrl","walletUrl","App","state","_initNear","then","setState","accountId","keyStore","nearAPI","BrowserLocalStorageKeyStore","Object","assign","deps","this","walletConnection","getAccountId","viewMethods","changeMethods","logOut","signOut","_accountId","refreshAllowance","alert","requestSignIn","passProps","header","basename","process","to","title","src","Logo","alt","opacity","exact","path","Send","Receive","React","Component","ReactDOM","render"],"mappings":"gXAAe,MAA0B,iC,sCCEnCA,EAAO,eACPC,EAAQ,eAERC,EAAW,SAACC,GAAD,OAAOC,WAAWD,GAAK,MAAQ,GAC1CE,EAAY,SAACF,GAAD,OAAOC,WAAWD,GAAK,MAAQ,GAEjD,SAASG,IACP,OAEE,aADF,CACE,OAAKC,UAAU,gCAAf,SACE,qBAAKA,UAAU,eAAeC,KAAK,SAAnC,SACE,sBAAMD,UAAU,kBAAhB,2BAF+C,KCuQxCE,MA7Qf,SAAmBC,GACjB,IAAMC,EAAYD,EAAME,gBACxB,EAAsCC,oBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA0BF,mBAAS,QAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAEA,SAASC,EAAYC,EAAGH,GACtBC,EAASD,GANa,4CAgBxB,WAAiCG,EAAGC,GAApC,eAAAC,EAAA,6DACEF,EAAEG,iBACFP,GAAe,GACfQ,QAAQC,IAAI,UAAWJ,GAHzB,SAIoBV,EAAMe,MAAMC,SAASC,aAAa,CAAEC,UAAWR,EAAOQ,WAAa,kBAAmB,GAJ1G,OAIQC,EAJR,OAKEN,QAAQC,IAAI,cAAeK,GAL7B,4CAhBwB,kEAwBxB,WAAmCV,EAAGC,GAAtC,eAAAC,EAAA,6DACEF,EAAEG,iBACFP,GAAe,GACfQ,QAAQC,IAAI,aAAcJ,GAH5B,SAIoBV,EAAMe,MAAMC,SAASI,eAAe,CAAEF,UAAWR,EAAOQ,WAAa,kBAAmB,GAJ5G,OAIQC,EAJR,OAKEN,QAAQC,IAAI,iBAAkBK,GALhC,4CAxBwB,kEAgCxB,WAAgCV,EAAGC,GAAnC,eAAAC,EAAA,6DACEF,EAAEG,iBACFP,GAAe,GACfQ,QAAQC,IAAI,WAAYJ,GAH1B,SAIoBV,EAAMe,MAAMC,SAASK,YAAY,CAAEH,UAAWR,EAAOQ,WAAa,kBAAmB,GAJzG,OAIQC,EAJR,OAKEN,QAAQC,IAAI,eAAgBK,GAL9B,4CAhCwB,kEAwCxB,WAAkCV,GAAlC,uBAAAE,EAAA,6DACEF,EAAEG,iBACFP,GAAe,GACTiB,EAAUC,SAASC,eAAe,cAAcC,MAChDC,EAAaH,SAASC,eAAe,iBAAiBC,MAEtDE,EAAoB,SAAVrB,EAAmBsB,OAAOC,SAA8E,KAApEnC,WAAW6B,SAASC,eAAe,gBAAgBC,OAAS,MAAgB,kBAAoB,2BAC9IK,EAAkB,SAAVxB,EAAmBsB,OAAOC,SAAyE,KAA/DnC,WAAW6B,SAASC,eAAe,cAAcC,OAAS,KAAa,SAAWG,OAAOC,SAAyE,KAA/DnC,WAAW6B,SAASC,eAAe,cAAcC,OAAS,KAPjN,SAQoBzB,EAAMe,MAAMC,SAASe,cAAc,CAAEC,YAAa,SAAUC,SAAUX,EAASY,YAAaR,EAAYS,WAAY7B,EAAO8B,gBAAiBN,GAAS,kBAAmBH,GAR5L,OAQQR,EARR,OASEN,QAAQC,IAAI,aAAcK,GAT5B,6CAxCwB,kEAoDxB,WAA6BV,GAA7B,yBAAAE,EAAA,yDACEF,EAAEG,iBACFP,GAAe,MACXgC,EAAYd,SAASC,eAAe,cAC1Bc,cAAgB,GAJhC,oBAKUC,EAASC,EAAQH,EAAUC,cAAgB,GACnC,SAAVhC,EANR,wBAOYqB,EAAUC,OAAOC,SAA2E,IAAlEnC,WAAW6B,SAASC,eAAe,sBAAsBC,SAAiB,kBAPhH,SAQwBzB,EAAMe,MAAMC,SAASW,QAAQ,CAAET,UAAWqB,EAAOrB,WAAa,kBAAmBS,GARzG,OAQYR,EARZ,OASMN,QAAQC,IAAI,mBAAoBK,GATtC,+BAWYQ,EAAUC,OAAOC,SAA2E,IAAlEnC,WAAW6B,SAASC,eAAe,sBAAsBC,SAAiB,YAXhH,UAYwBzB,EAAMe,MAAM0B,GAAGC,iBAAiB,CAAER,YAAalC,EAAMe,MAAM4B,KAAKC,OAAOC,aAAcC,OAAQnB,EAASoB,KAAM,mBAAoBC,IAAKT,EAAOrB,WAAa,kBAAmB,GAZpM,QAYYC,EAZZ,OAaMN,QAAQC,IAAI,oBAAqBK,GAbvC,QAgBEd,GAAe,GAhBjB,6CApDwB,sBAuExB,IAAM4C,EAAY,uCAAG,sBAAAtC,EAAA,kEAEZV,EAFY,yCAGR,IAHQ,uBAKJD,EAAMe,MAAMC,SAASkC,YAAY,CAAEC,WAAYlD,IAL3C,wEAOjBY,QAAQC,IAAI,aAAZ,MAPiB,iCASZ,IATY,yDAAH,qDAYJsC,EAAYC,YAAO,CAAC,UAAWpD,GAAYgD,EAAc,CAAEK,mBAAoB,MAArFC,KACFf,EAAWY,GAAWA,EAAQZ,QAAWY,EAAQZ,QAAU,GAC7DgB,EAAehB,EACfiB,EAAcjB,EA+DlB,OA7DIxC,EAAM0D,WAAaN,IACrBvC,QAAQC,IAAI,UAAWsC,GACvBK,EAAcjB,EAAQmB,KAAI,SAACjD,EAAQkD,GACjC,OACE,wBAAiBnC,MAAOmC,EAAxB,SAA6BlD,EAAOQ,WAAvB0C,MAGjBJ,EAAehB,EAAQmB,KAAI,SAACjD,EAAQkD,GAClC,OACE,qBAAK/D,UAAU,OAAOgE,MAAO,CAAEC,MAAO,MAAOC,OAAQ,OAAQC,gBAAiB,WAA9E,SACE,qBAAKnE,UAAU,YAAf,SACE,sBAAKA,UAAU,gDAAf,UACE,qBAAKA,UAAU,YAAf,SACGa,EAAOwB,cAEV,uBAAOrC,UAAU,YAAjB,SACE,gCAAO,uBAAMA,UAAU,iBAAhB,UAAkCa,EAAOQ,UAAU+C,OAAO,EAAG,GAA7D,aAET,uBAAOpE,UAAU,YAAjB,SACyB,SAAtBa,EAAOyB,WAAwB3C,EAASkB,EAAOwD,SAASC,QAAQ,GAAKxE,EAAUe,EAAOwD,SAASC,QAAQ,KAE1G,uBAAOtE,UAAU,YAAjB,SACGa,EAAOyB,aAEV,wBAAOtC,UAAU,YAAjB,UACyB,SAAtBa,EAAOyB,YAA4D,IAAnC3C,EAASkB,EAAO0B,kBAAwB+B,QAAQ,IAA0C,IAApCxE,EAAUe,EAAO0B,kBAAwB+B,QAAQ,GAD1I,IAC+IzD,EAAOyB,WADtJ,QAGA,uBAAOtC,UAAU,YAAjB,SACyB,SAAtBa,EAAOyB,WAAwB3C,EAASkB,EAAO0D,kBAAkBD,QAAQ,GAAKxE,EAAUe,EAAO0D,kBAAkBD,QAAQ,KAE5H,uBAAOtE,UAAU,YAAjB,SACyB,SAAtBa,EAAOyB,WAAwB3C,EAASkB,EAAO2D,oBAAoBF,QAAQ,GAAKxE,EAAUe,EAAO2D,oBAAoBF,QAAQ,KAEhI,uBAAOtE,UAAU,YAAjB,SACGa,EAAO4D,SAEV,qBAAKzE,UAAU,YAAf,SACGG,EAAM0D,WAAatD,IAAkC,WAAlBM,EAAO4D,QAAyC,WAAlB5D,EAAO4D,QACvE,sBAAKzE,UAAU,kBAAf,UACE,8BACqB,WAAlBa,EAAO4D,OACN,wBAAQC,UAAWvE,EAAMwE,SAAU3E,UAAU,6BAA6B4E,QAAS,SAAChE,GAAD,OAjIjF,6CAiIwFiE,CAAiBjE,EAAGC,IAA9G,mBAEA,wBAAQ6D,UAAWvE,EAAMwE,SAAU3E,UAAU,6BAA6B4E,QAAS,SAAChE,GAAD,OAnIjF,6CAmIwFkE,CAAmBlE,EAAGC,IAAhH,uBAGJ,wBAAQ6D,UAAWvE,EAAMwE,SAAU3E,UAAU,4BAA4B4E,QAAS,SAAChE,GAAD,OAtI5E,6CAsImFmE,CAAgBnE,EAAGC,IAA5G,qBAGF,gCAxCsFkD,OAiDtG/C,QAAQC,IAAId,GACZa,QAAQC,IAAI,KAAM2C,GAETzD,EAAM0D,UACb,sBAAK7D,UAAU,qBAAf,UACE,qBAAKA,UAAU,OAAOgE,MAAO,CAAEC,MAAO,MAAOC,OAAQ,OAAQC,gBAAiB,WAA9E,SACE,sBAAKnE,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,6BACA,oBAAIA,UAAU,gCAAd,yDACA,uBAAMgF,SAAU,SAACpE,GAAD,OA3JA,2CA2JOqE,CAAkBrE,IAAzC,UACE,sBAAKZ,UAAU,kBAAf,UACE,uBAAOkF,QAAQ,aAAalF,UAAU,OAAtC,mBACA,uBAAOA,UAAU,eAAe+D,GAAG,aAAaoB,YAAahF,EAAME,gBAAiB2D,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,gBAElI,sBAAKpF,UAAU,kBAAf,UACE,uBAAOkF,QAAQ,gBAAgBlF,UAAU,OAAzC,sBACA,uBAAOA,UAAU,eAAe+D,GAAG,gBAAgBoB,YAAY,YAAYnB,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,gBAEzH,sBAAKpF,UAAU,kBAAf,UACE,uBAAOkF,QAAQ,gBAAgBlF,UAAU,OAAzC,mBACA,sBAAKA,UAAU,kBAAf,UACE,uBAAOA,UAAU,mBAAmBqF,KAAK,QAAQC,KAAK,YAAYvB,GAAG,aAAaa,QAAS,SAAChE,GAAD,OAAOD,EAAWC,EAAG,SAAS2E,QAAmB,SAAV9E,IAClI,uBAAOT,UAAU,mBAAmBkF,QAAQ,aAA5C,4BAIF,sBAAKlF,UAAU,kBAAf,UACE,uBAAOA,UAAU,mBAAmBqF,KAAK,QAAQC,KAAK,YAAYvB,GAAG,aAAaa,QAAS,SAAChE,GAAD,OAAOD,EAAWC,EAAG,UAAU2E,QAAmB,UAAV9E,IACnI,uBAAOT,UAAU,mBAAmBkF,QAAQ,aAA5C,0CAKO,SAAVzE,EACC,gCACE,uBAAOyE,QAAQ,eAAelF,UAAU,OAAxC,6BACA,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAmB+D,GAAG,eAAeC,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,UAAWI,SAAU,QAAtH,SAA2I,SAAV/E,EAAmBhB,EAAOC,MAE7J,uBAAOM,UAAU,eAAe+D,GAAG,eAAeoB,YAAY,QAAQM,YAAY,eAAezB,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,mBAG9I,wBACL,uBAAOF,QAAQ,aAAalF,UAAU,OAAtC,gDACA,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAmB+D,GAAG,eAAeC,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,UAAWI,SAAU,QAAtH,SAA2I,SAAV/E,EAAmBhB,EAAOC,MAE7J,uBAAOM,UAAU,eAAe+D,GAAG,aAAaoB,YAAY,OAAOM,YAAY,eAAezB,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,gBAG3IjF,EAAM0D,WAAatD,EAClB,wBAAQmE,UAAWvE,EAAMwE,SAAU3E,UAAU,uBAA7C,6BAEA,qBAAKA,UAAU,OAAf,SAAuBD,cAI/B,qBAAKC,UAAU,OAAOgE,MAAO,CAAEC,MAAO,MAAOC,OAAQ,OAAQC,gBAAiB,WAA9E,SACE,sBAAKnE,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,4BACA,oBAAIA,UAAU,gCAAd,yCACA,uBAAMgF,SAAU,SAACpE,GAAD,OAjNA,2CAiNO8E,CAAa9E,IAApC,UACE,sBAAKZ,UAAU,kBAAf,UACE,uBAAOkF,QAAQ,aAAalF,UAAU,OAAtC,oBACA,yBAAQ+D,GAAG,YAAY/D,UAAU,6BAA6B2F,SAAU,SAAC/E,GAAD,OA3MpF,SAAsBA,GACpB,IAAI4B,EAAYd,SAASC,eAAe,aACpCa,EAAUC,cAAgB,GAC5B/B,EAASiC,EAAQH,EAAUC,cAAgB,GAAGH,YAwMyCsD,IAA/E,UACE,wBAAQC,UAAQ,EAAhB,mCACCjC,QAGL,uBAAOsB,QAAQ,qBAAqBlF,UAAU,OAA9C,yCACA,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAmB+D,GAAG,eAAeC,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,UAAWI,SAAU,QAAtH,SAA2I,SAAV/E,EAAmBhB,EAAOC,MAE7J,uBAAOM,UAAU,eAAe+D,GAAG,qBAAqBoB,YAAY,OAAOM,YAAY,eAAezB,MAAO,CAAEG,gBAAiB,UAAWiB,MAAO,gBAGnJjF,EAAM0D,WAAatD,EAClB,wBAAQmE,UAAWvE,EAAMwE,SAAU3E,UAAU,uBAA7C,qBAEA,qBAAKA,UAAU,OAAf,SAAuBD,cAI/B,sDACA,qBAAKC,UAAU,OAAOgE,MAAO,CAAEC,MAAO,MAAOC,OAAQ,OAAQC,gBAAiB,WAA9E,SACE,qBAAKnE,UAAU,YAAf,SACE,sBAAKA,UAAU,gDAAf,UACE,qBAAKA,UAAU,YAAf,sBAGA,qBAAKA,UAAU,YAAf,uBAGA,qBAAKA,UAAU,YAAf,yBAGA,qBAAKA,UAAU,YAAf,wBAGA,qBAAKA,UAAU,YAAf,0BAGA,qBAAKA,UAAU,YAAf,6BAGA,qBAAKA,UAAU,YAAf,gCAGA,qBAAKA,UAAU,YAAf,2BAGA,qBAAKA,UAAU,qBAIpB2D,KAnHwB,qBAAK3D,UAAU,qBAAf,qDCfhB8F,MAtIf,SAAsB3F,GACpB,IAAMC,EAAYD,EAAME,gBACxB,EAAsCC,oBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAF2B,4CAI3B,WAAiCI,EAAGC,GAApC,eAAAC,EAAA,6DACEF,EAAEG,iBACFP,GAAe,GACfQ,QAAQC,IAAI,UAAWJ,GAHzB,SAIoBV,EAAMe,MAAMC,SAASC,aAAa,CAAEC,UAAWR,EAAOQ,WAAa,kBAAmB,GAJ1G,OAIQC,EAJR,OAKEN,QAAQC,IAAI,cAAeK,GAL7B,4CAJ2B,kEAY3B,WAAoCV,EAAGmF,GAAvC,eAAAjF,EAAA,6DACEF,EAAEG,iBACFP,GAAe,GACfQ,QAAQC,IAAI,WAAY8E,GAH1B,SAIoB5F,EAAMe,MAAMC,SAAS6E,SAAS,CAAE3E,UAAW0E,EAAM1E,WAAa,kBAAmB,GAJrG,OAIQC,EAJR,OAKEN,QAAQC,IAAI,eAAgBK,GAE5Bd,GAAe,GAPjB,4CAZ2B,kEAsB3B,WAAgCI,EAAGmF,GAAnC,eAAAjF,EAAA,6DACEF,EAAEG,iBACFP,GAAe,GACfQ,QAAQC,IAAI,WAAY8E,GAH1B,SAIoB5F,EAAMe,MAAMC,SAASK,YAAY,CAAEH,UAAW0E,EAAM1E,WAAa,kBAAmB,GAJxG,OAIQC,EAJR,OAKEN,QAAQC,IAAI,eAAgBK,GAL9B,4CAtB2B,sBA8B3B,IAAM8B,EAAY,uCAAG,sBAAAtC,EAAA,kEAEZV,EAFY,yCAGR,IAHQ,uBAKJD,EAAMe,MAAMC,SAASkC,YAAY,CAAEC,WAAYlD,IAL3C,wEAOjBY,QAAQC,IAAI,aAAZ,MAPiB,iCASZ,IATY,yDAAH,qDAYJsC,EAAYC,YAAO,CAAC,UAAWpD,GAAYgD,EAAc,CAAEK,mBAAoB,MAArFC,KACJuC,EAAU1C,GAAWA,EAAQ0C,OAAU1C,EAAQ0C,OAAS,GAoD5D,OAlDI9F,EAAM0D,WAAaN,IACrBvC,QAAQC,IAAI,UAAWsC,GACvB0C,EAASA,EAAOnC,KAAI,SAACiC,EAAOhC,GAC1B,OACE,qBAAK/D,UAAU,OAAOgE,MAAO,CAAEC,MAAO,MAAOC,OAAQ,OAAQC,gBAAiB,WAA9E,SACE,qBAAKnE,UAAU,YAAf,SACE,sBAAKA,UAAU,gDAAf,UACE,qBAAKA,UAAU,YAAf,SACG+F,EAAM3D,WAET,uBAAOpC,UAAU,YAAjB,SACE,gCAAO,uBAAMA,UAAU,iBAAhB,UAAkC+F,EAAM1E,UAAU+C,OAAO,EAAG,GAA5D,aAET,uBAAOpE,UAAU,YAAjB,SACGL,EAASoG,EAAM1B,SAASC,QAAQ,KAEnC,uBAAOtE,UAAU,YAAjB,SACG+F,EAAMzD,aAET,wBAAOtC,UAAU,YAAjB,WACsC,IAAlCL,EAASoG,EAAMxD,kBAAwB+B,QAAQ,GADnD,IACwDyB,EAAMzD,WAD9D,QAGA,uBAAOtC,UAAU,YAAjB,SACGL,EAASoG,EAAMxB,kBAAkBD,QAAQ,KAE5C,uBAAOtE,UAAU,YAAjB,SACGL,EAASoG,EAAMvB,oBAAoBF,QAAQ,KAE9C,uBAAOtE,UAAU,YAAjB,SACG+F,EAAMtB,SAET,qBAAKzE,UAAU,YAAf,SACGG,EAAM0D,WAAatD,GAAgC,WAAjBwF,EAAMtB,OACvC,sBAAKzE,UAAU,kBAAf,UACE,wBAAQ0E,UAAWvE,EAAMwE,SAAU3E,UAAU,6BAA6B4E,QAAS,SAAChE,GAAD,OA/E1E,6CA+EiFsF,CAAoBtF,EAAGmF,IAAjH,sBACA,wBAAQrB,UAAWvE,EAAMwE,SAAU3E,UAAU,6BAA6B4E,QAAS,SAAChE,GAAD,OAhF1E,6CAgFiFiE,CAAiBjE,EAAGmF,IAA9G,mBACA,wBAAQrB,UAAWvE,EAAMwE,SAAU3E,UAAU,4BAA4B4E,QAAS,SAAChE,GAAD,OAjFzE,6CAiFgFmE,CAAgBnE,EAAGmF,IAA5G,qBAGF,gCAnCsFhC,OA4CtG/C,QAAQC,IAAId,GAEHA,EAAM0D,UACb,sBAAK7D,UAAU,qBAAf,UACE,wDACA,qBAAKA,UAAU,OAAOgE,MAAO,CAAEC,MAAO,MAAOC,OAAQ,OAAQC,gBAAiB,WAA9E,SACE,qBAAKnE,UAAU,YAAf,SACE,sBAAKA,UAAU,gDAAf,UACE,qBAAKA,UAAU,YAAf,wBAGA,qBAAKA,UAAU,YAAf,uBAGA,qBAAKA,UAAU,YAAf,yBAGA,qBAAKA,UAAU,YAAf,wBAGA,qBAAKA,UAAU,YAAf,0BAGA,qBAAKA,UAAU,YAAf,6BAGA,qBAAKA,UAAU,YAAf,gCAGA,qBAAKA,UAAU,YAAf,2BAGA,qBAAKA,UAAU,qBAIpBiG,KAlCwB,qBAAKjG,UAAU,qBAAf,qDCxEzBmG,EAjByC,cAA7BC,OAAOC,SAASC,SASX,CACrBC,cAAe,OACfC,UAAW,UACXC,QAAS,+BACTzD,aAAc,mCACd0D,UAAW,2BAbU,CACrBH,cAAe,UACfC,UAAW,UACXC,QAAS,+BACTzD,aAAc,mCACd0D,UAAW,kCACX9D,GAAI,oCA2KS+D,E,kDA9Jb,WAAaxG,GAAQ,IAAD,8BAClB,cAAMA,IAEDe,MAAQ,GAEb,EAAK0F,MAAQ,CACX/C,WAAW,EACXN,QAAS,MAGX,EAAKrC,MAAM6B,OAASoD,EAEpB,EAAKU,YAAYC,MAAK,WACpB,EAAKC,SAAS,CACZpC,WAAY,EAAKzD,MAAM8F,UACvB3G,gBAAiB,EAAKa,MAAM8F,UAC5BnD,WAAW,OAhBG,E,oFAqBpB,qCAAA/C,EAAA,6DACQmG,EAAW,IAAIC,YAAkBC,4BADzC,SAEqBD,UAAgBE,OAAOC,OAAO,CAAEC,KAAM,CAAEL,aAAcd,IAF3E,OAEQrD,EAFR,OAGEyE,KAAKrG,MAAM+F,SAAWA,EACtBM,KAAKrG,MAAM4B,KAAOA,EAElByE,KAAKrG,MAAMsG,iBAAmB,IAAIN,mBAAyBpE,EAAMqD,EAAWnD,cAC5EuE,KAAKrG,MAAM8F,UAAYO,KAAKrG,MAAMsG,iBAAiBC,eAEnDF,KAAKrG,MAAMqC,QAAUgE,KAAKrG,MAAMsG,iBAAiBjE,UACjDgE,KAAKrG,MAAMC,SAAW,IAAI+F,WAAiBK,KAAKrG,MAAMqC,QAAS4C,EAAWnD,aAAc,CACtF0E,YAAa,CACX,cACA,cAEFC,cAAe,CACb,gBACA,UACA,WACA,eACA,iBACA,gBACA,gBACA,YACA,iBAKJJ,KAAKrG,MAAM0B,GAAK,IAAIsE,WAAiBK,KAAKrG,MAAMqC,QAAS4C,EAAWvD,GAAI,CACtE8E,YAAa,CACX,iBAEFC,cAAe,CACb,cACA,sBAIJJ,KAAKrG,MAAM0G,OAAS,WAClB,EAAK1G,MAAMsG,iBAAiBK,UAC5B,EAAK3G,MAAM8F,UAAY,KACvB,EAAKD,SAAS,CACZpC,WAAY,EAAKmD,WACjBzH,gBAAiB,EAAKyH,cAI1BP,KAAKrG,MAAM6G,iBAAX,sBAA8B,sBAAAjH,EAAA,6DAC5BkH,MAAM,wEADsB,SAEtB,EAAKJ,SAFiB,uBAGtB,EAAKK,gBAHiB,2CAhDhC,iD,wHAuDA,WAAqBrH,GAArB,SAAAE,EAAA,6DACEF,GAAKA,EAAEG,iBACU,oBAFnB,SAGQwG,KAAKrG,MAAMsG,iBAAiBS,cAChC9B,EAAWnD,aAFI,qBAFnB,iCAOS,GAPT,gD,2EAUA,WAAW,IAAD,OACFkF,EAAS,aACbhH,MAAOqG,KAAKrG,MACZ6G,iBAAkB,kBAAM,EAAK7G,MAAM6G,qBAChCR,KAAKX,OAEJuB,EAAUZ,KAAKX,MAAM/C,UAEtB0D,KAAKX,MAAMjC,SACd,8BACE,yBACE3E,UAAU,4BACV4E,QAAS,kBAAM,EAAK1D,MAAM0G,UAF5B,uBAGYL,KAAKX,MAAMvG,gBAHvB,SAOF,8BACE,wBACEL,UAAU,kBACV4E,QAAS,SAAChE,GAAD,OAAO,EAAKqH,cAAcrH,IAFrC,wCAXF,iDAAmB,sBAAMZ,UAAU,+BAA+BC,KAAK,SAAS,cAAY,YAmB9F,OACE,qBAAKD,UAAU,iBAAiBgE,MAAO,CAAEG,gBAAiB,WAA1D,SACE,eAAC,IAAD,CAAQiE,SAAUC,GAAlB,UACE,qBAAKrI,UAAU,2CAA2CgE,MAAO,CAAEG,gBAAiB,WAApF,SACE,sBAAKnE,UAAU,kBAAf,UACE,eAAC,IAAD,CAAMA,UAAU,eAAesI,GAAG,IAAIC,MAAM,UAA5C,UACE,qBAAKC,IAAKC,EAAMC,IAAI,UAAU1I,UAAU,mCAAmCgE,MAAO,CAAE2E,QAAS,OAD/F,uBAIA,wBACE3I,UAAU,iBAAiBqF,KAAK,SAAS,iBAAe,WACxD,iBAAe,0BAA0B,gBAAc,yBACvD,gBAAc,QAAQ,aAAW,oBAHnC,SAKE,sBAAMrF,UAAU,0BAElB,sBAAKA,UAAU,2BAA2B+D,GAAG,yBAA7C,UACE,qBAAI/D,UAAU,kCAAd,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAW,eAAa,OAAOsI,GAAG,IAAlD,oBAEF,oBAAItI,UAAU,WAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAW,eAAa,OAAOsI,GAAG,WAAlD,0BAGJ,sBAAMtI,UAAU,SAAhB,SACGmI,YAMT,eAAC,IAAD,WACE,cAAC,IAAD,CAAOS,OAAK,EAACC,KAAK,IAAlB,SACE,cAACC,EAAD,eAAcZ,MAEhB,cAAC,IAAD,CAAOU,OAAK,EAACC,KAAK,WAAlB,SACE,cAACE,EAAD,eAAiBb,kB,GAtJbc,IAAMC,WC1BxBC,IAASC,OAAO,cAAC,EAAD,IAASzH,SAASC,eAAe,W","file":"static/js/main.74a7d1ce.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fd13f323.png\";","import React from 'react'\n\nconst NEAR = '\\u24C3\\u202F'\nconst TARAS = '\\uD83C\\uDD43'\n\nconst fromNear = (s) => parseFloat(s) / 1e24 || 0\nconst fromTaras = (s) => parseFloat(s) / 1e18 || 0\n\nfunction loader () {\n  return (\n  // key='1' is needed by InfiniteScroll\n    <div className='d-flex justify-content-center' key='1'>\n      <div className='spinner-grow' role='status'>\n        <span className='visually-hidden'>Loading...</span>\n      </div>\n    </div>\n  )\n}\n\nexport { NEAR, TARAS, fromNear, fromTaras, loader }\n","import React, { useState } from 'react'\nimport useSWR from 'swr'\n\nimport { NEAR, fromNear, fromTaras, loader, TARAS } from '../components/Helpers'\n\nfunction SendPage (props) {\n  const profileId = props.signedAccountId\n  const [showButtons, setShowButtons] = useState(true)\n  const [token, setToken] = useState('NEAR')\n\n  function radioClick (e, token) {\n    setToken(token)\n  }\n\n  function selectClick (e) {\n    var selectBox = document.getElementById('selectBox')\n    if (selectBox.selectedIndex > 0) {\n      setToken(outputs[selectBox.selectedIndex - 1].token_name)\n    }\n  }\n\n  async function pauseStreamClick (e, output) {\n    e.preventDefault()\n    setShowButtons(false)\n    console.log('pausing', output)\n    const res = await props._near.contract.pause_stream({ stream_id: output.stream_id }, '200000000000000', 1)\n    console.log('pausing res', res)\n  }\n\n  async function restartStreamClick (e, output) {\n    e.preventDefault()\n    setShowButtons(false)\n    console.log('restarting', output)\n    const res = await props._near.contract.restart_stream({ stream_id: output.stream_id }, '200000000000000', 1)\n    console.log('restarting res', res)\n  }\n\n  async function stopStreamClick (e, output) {\n    e.preventDefault()\n    setShowButtons(false)\n    console.log('stopping', output)\n    const res = await props._near.contract.stop_stream({ stream_id: output.stream_id }, '200000000000000', 1)\n    console.log('stopping res', res)\n  }\n\n  async function createStreamClick (e) {\n    e.preventDefault()\n    setShowButtons(false)\n    const ownerId = document.getElementById('ownerInput').value\n    const receiverId = document.getElementById('receiverInput').value\n    // TODO\n    const deposit = token === 'NEAR' ? String(parseInt((parseFloat(document.getElementById('depositInput').value) + 1e-1) * 1e9)) + '000000000000000' : '100000000000000000000000'\n    const speed = token === 'NEAR' ? String(parseInt((parseFloat(document.getElementById('speedInput').value) + 0) * 1e9)) + '000000' : String(parseInt((parseFloat(document.getElementById('speedInput').value) + 0) * 1e9))\n    const res = await props._near.contract.create_stream({ description: 'blabla', owner_id: ownerId, receiver_id: receiverId, token_name: token, tokens_per_tick: speed }, '200000000000000', deposit)\n    console.log('create res', res)\n  }\n\n  async function depositClick (e) {\n    e.preventDefault()\n    setShowButtons(false)\n    var selectBox = document.getElementById('selectBox')\n    if (selectBox.selectedIndex > 0) {\n      const stream = outputs[selectBox.selectedIndex - 1]\n      if (token === 'NEAR') {\n        const deposit = String(parseInt(parseFloat(document.getElementById('depositTokensInput').value) * 1e9)) + '000000000000000'\n        const res = await props._near.contract.deposit({ stream_id: stream.stream_id }, '200000000000000', deposit)\n        console.log('deposit NEAR res', res)\n      } else {\n        const deposit = String(parseInt(parseFloat(document.getElementById('depositTokensInput').value) * 1e9)) + '000000000' // get decimals per each ft contract\n        const res = await props._near.ft.ft_transfer_call({ receiver_id: props._near.near.config.contractName, amount: deposit, memo: 'xyiming transfer', msg: stream.stream_id }, '200000000000000', 1)\n        console.log('deposit TARAS res', res)\n      }\n    }\n    setShowButtons(true)\n  }\n\n  const fetchAccount = async (...args) => {\n    try {\n      if (!profileId) {\n        return []\n      }\n      return await props._near.contract.get_account({ account_id: profileId })\n    } catch (e) {\n      console.log('near error', e)\n    }\n    return []\n  }\n\n  const { data: account } = useSWR(['account', profileId], fetchAccount, { errorRetryInterval: 250 })\n  const outputs = (account && account.outputs) ? account.outputs : []\n  let outputsTable = outputs\n  let depositList = outputs\n\n  if (props.connected && account) {\n    console.log('account', account)\n    depositList = outputs.map((output, id) => {\n      return (\n        <option key={id} value={id}>{output.stream_id}</option>\n      )\n    })\n    outputsTable = outputs.map((output, id) => {\n      return (\n        <div className='card' style={{ width: '90%', margin: '15px', backgroundColor: '#141414' }} key={id}>\n          <div className='card-body'>\n            <div className='d-flex flex-row justify-content-between w-100'>\n              <div className='col-2 m-1'>\n                {output.receiver_id}\n              </div>\n              <small className='col-1 m-1'>\n                <small><samp className='text-secondary'>{output.stream_id.substr(0, 6)}...</samp></small>\n              </small>\n              <small className='col-1 m-1'>\n                {output.token_name === 'NEAR' ? fromNear(output.balance).toFixed(2) : fromTaras(output.balance).toFixed(2)}\n              </small>\n              <small className='col-1 m-1'>\n                {output.token_name}\n              </small>\n              <small className='col-1 m-1'>\n                {output.token_name === 'NEAR' ? (fromNear(output.tokens_per_tick) * 1e9).toFixed(2) : (fromTaras(output.tokens_per_tick) * 1e9).toFixed(2)} {output.token_name}/s\n              </small>\n              <small className='col-1 m-1'>\n                {output.token_name === 'NEAR' ? fromNear(output.tokens_available).toFixed(2) : fromTaras(output.tokens_available).toFixed(2)}\n              </small>\n              <small className='col-1 m-1'>\n                {output.token_name === 'NEAR' ? fromNear(output.tokens_transferred).toFixed(2) : fromTaras(output.tokens_transferred).toFixed(2)}\n              </small>\n              <small className='col-1 m-1'>\n                {output.status}\n              </small>\n              <div className='col-2 m-1'>\n                {props.connected && showButtons && (output.status === 'ACTIVE' || output.status === 'PAUSED') ? (\n                  <div className='d-flex flex-row'>\n                    <div>\n                      {output.status === 'ACTIVE' ? (\n                        <button disabled={!props.signedIn} className='btn btn-warning btn-sm m-1' onClick={(e) => pauseStreamClick(e, output)}>Pause</button>\n                      ) : (\n                        <button disabled={!props.signedIn} className='btn btn-warning btn-sm m-1' onClick={(e) => restartStreamClick(e, output)}>Restart</button>\n                      )}\n                    </div>\n                    <button disabled={!props.signedIn} className='btn btn-danger btn-sm m-1' onClick={(e) => stopStreamClick(e, output)}>Stop</button>\n                  </div>\n                ) : (\n                  <div />)}\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    })\n  }\n\n  console.log(props)\n  console.log('!!', depositList)\n\n  return (!props.connected) ? (<div className='container g-0 px-5'>Please connect your NEAR Account first</div>) : (\n    <div className='container g-0 px-5'>\n      <div className='card' style={{ width: '90%', margin: '15px', backgroundColor: '#141414' }}>\n        <div className='card-body'>\n          <h5 className='card-title'>Create a stream</h5>\n          <h6 className='card-subtitle mb-3 text-muted'>Stream your tokens to the receiver directly</h6>\n          <form onSubmit={(e) => createStreamClick(e)}>\n            <div className='form-group mb-2'>\n              <label htmlFor='ownerInput' className='mb-2'>Owner</label>\n              <input className='form-control' id='ownerInput' placeholder={props.signedAccountId} style={{ backgroundColor: '#101010', color: '#e0e0e0' }} />\n            </div>\n            <div className='form-group mb-2'>\n              <label htmlFor='receiverInput' className='mb-2'>Receiver</label>\n              <input className='form-control' id='receiverInput' placeholder='root.near' style={{ backgroundColor: '#101010', color: '#e0e0e0' }} />\n            </div>\n            <div className='form-group mb-2'>\n              <label htmlFor='receiverInput' className='mb-2'>Token</label>\n              <div className='form-check mb-2'>\n                <input className='form-check-input' type='radio' name='flexToken' id='flexToken1' onClick={(e) => radioClick(e, 'NEAR')} checked={token === 'NEAR'} />\n                <label className='form-check-label' htmlFor='flexToken1'>\n                  NEAR tokens\n                </label>\n              </div>\n              <div className='form-check mb-2'>\n                <input className='form-check-input' type='radio' name='flexToken' id='flexToken2' onClick={(e) => radioClick(e, 'TARAS')} checked={token === 'TARAS'} />\n                <label className='form-check-label' htmlFor='flexToken2'>\n                  TARAS Supremacy Tokens\n                </label>\n              </div>\n            </div>\n            {token === 'NEAR' ? (\n              <div>\n                <label htmlFor='depositInput' className='mb-2'>Initial deposit</label>\n                <div className='input-group mb-2'>\n                  <div className='input-group-prepend'>\n                    <span className='input-group-text' id='basic-addon1' style={{ backgroundColor: '#303030', color: '#e0e0e0', fontSize: '150%' }}>{token === 'NEAR' ? NEAR : TARAS}</span>\n                  </div>\n                  <input className='form-control' id='depositInput' placeholder='15.70' describedby='basic-addon1' style={{ backgroundColor: '#101010', color: '#e0e0e0' }} />\n                </div>\n              </div>\n            ) : (<div />)}\n            <label htmlFor='speedInput' className='mb-2'>Streaming speed, tokens per second</label>\n            <div className='input-group mb-2'>\n              <div className='input-group-prepend'>\n                <span className='input-group-text' id='basic-addon2' style={{ backgroundColor: '#303030', color: '#e0e0e0', fontSize: '150%' }}>{token === 'NEAR' ? NEAR : TARAS}</span>\n              </div>\n              <input className='form-control' id='speedInput' placeholder='0.03' describedby='basic-addon2' style={{ backgroundColor: '#101010', color: '#e0e0e0' }} />\n            </div>\n\n            {props.connected && showButtons ? (\n              <button disabled={!props.signedIn} className='btn btn-primary mt-4'>Create a stream</button>\n            ) : (\n              <div className='mt-4'>{loader()}</div>)}\n          </form>\n        </div>\n      </div>\n      <div className='card' style={{ width: '90%', margin: '15px', backgroundColor: '#141414' }}>\n        <div className='card-body'>\n          <h5 className='card-title'>Deposit tokens</h5>\n          <h6 className='card-subtitle mb-3 text-muted'>Extend your existing stream</h6>\n          <form onSubmit={(e) => depositClick(e)}>\n            <div className='form-group mb-2'>\n              <label htmlFor='ownerInput' className='mb-2'>Stream</label>\n              <select id='selectBox' className='form-control custom-select' onChange={(e) => selectClick(e)}>\n                <option selected>Open this select menu</option>\n                {depositList}\n              </select>\n            </div>\n            <label htmlFor='depositTokensInput' className='mb-2'>Amount of tokens to deposit</label>\n            <div className='input-group mb-2'>\n              <div className='input-group-prepend'>\n                <span className='input-group-text' id='basic-addon2' style={{ backgroundColor: '#303030', color: '#e0e0e0', fontSize: '150%' }}>{token === 'NEAR' ? NEAR : TARAS}</span>\n              </div>\n              <input className='form-control' id='depositTokensInput' placeholder='0.03' describedby='basic-addon2' style={{ backgroundColor: '#101010', color: '#e0e0e0' }} />\n            </div>\n\n            {props.connected && showButtons ? (\n              <button disabled={!props.signedIn} className='btn btn-primary mt-4'>Deposit</button>\n            ) : (\n              <div className='mt-4'>{loader()}</div>)}\n          </form>\n        </div>\n      </div>\n      <h4>Streams owned by you</h4>\n      <div className='card' style={{ width: '90%', margin: '15px', backgroundColor: '#181818' }}>\n        <div className='card-body'>\n          <div className='d-flex flex-row justify-content-between w-100'>\n            <div className='col-2 m-1'>\n            Receiver\n            </div>\n            <div className='col-1 m-1'>\n            Stream ID\n            </div>\n            <div className='col-1 m-1'>\n            Tokens left\n            </div>\n            <div className='col-1 m-1'>\n            Token name\n            </div>\n            <div className='col-1 m-1'>\n            Stream speed\n            </div>\n            <div className='col-1 m-1'>\n            Tokens unlocked\n            </div>\n            <div className='col-1 m-1'>\n            Tokens transferred\n            </div>\n            <div className='col-1 m-1'>\n            Stream status\n            </div>\n            <div className='col-2 m-1' />\n          </div>\n        </div>\n      </div>\n      {outputsTable}\n    </div>\n  )\n}\n\nexport default SendPage\n","import React, { useState } from 'react'\nimport useSWR from 'swr'\n\nimport { fromNear } from '../components/Helpers'\n\nfunction ReceivePage (props) {\n  const profileId = props.signedAccountId\n  const [showButtons, setShowButtons] = useState(true)\n\n  async function pauseStreamClick (e, output) {\n    e.preventDefault()\n    setShowButtons(false)\n    console.log('pausing', output)\n    const res = await props._near.contract.pause_stream({ stream_id: output.stream_id }, '200000000000000', 1)\n    console.log('pausing res', res)\n  }\n\n  async function withdrawStreamClick (e, input) {\n    e.preventDefault()\n    setShowButtons(false)\n    console.log('withdraw', input)\n    const res = await props._near.contract.withdraw({ stream_id: input.stream_id }, '200000000000000', 0)\n    console.log('withdraw res', res)\n    // TODO update the page instantly\n    setShowButtons(true)\n  }\n\n  async function stopStreamClick (e, input) {\n    e.preventDefault()\n    setShowButtons(false)\n    console.log('stopping', input)\n    const res = await props._near.contract.stop_stream({ stream_id: input.stream_id }, '200000000000000', 1)\n    console.log('stopping res', res)\n  }\n\n  const fetchAccount = async (...args) => {\n    try {\n      if (!profileId) {\n        return []\n      }\n      return await props._near.contract.get_account({ account_id: profileId })\n    } catch (e) {\n      console.log('near error', e)\n    }\n    return []\n  }\n\n  const { data: account } = useSWR(['account', profileId], fetchAccount, { errorRetryInterval: 250 })\n  let inputs = (account && account.inputs) ? account.inputs : []\n\n  if (props.connected && account) {\n    console.log('account', account)\n    inputs = inputs.map((input, id) => {\n      return (\n        <div className='card' style={{ width: '90%', margin: '15px', backgroundColor: '#141414' }} key={id}>\n          <div className='card-body'>\n            <div className='d-flex flex-row justify-content-between w-100'>\n              <div className='col-2 m-1'>\n                {input.owner_id}\n              </div>\n              <small className='col-1 m-1'>\n                <small><samp className='text-secondary'>{input.stream_id.substr(0, 6)}...</samp></small>\n              </small>\n              <small className='col-1 m-1'>\n                {fromNear(input.balance).toFixed(2)}\n              </small>\n              <small className='col-1 m-1'>\n                {input.token_name}\n              </small>\n              <small className='col-1 m-1'>\n                {(fromNear(input.tokens_per_tick) * 1e9).toFixed(2)} {input.token_name}/s\n              </small>\n              <small className='col-1 m-1'>\n                {fromNear(input.tokens_available).toFixed(2)}\n              </small>\n              <small className='col-1 m-1'>\n                {fromNear(input.tokens_transferred).toFixed(2)}\n              </small>\n              <small className='col-1 m-1'>\n                {input.status}\n              </small>\n              <div className='col-2 m-1'>\n                {props.connected && showButtons && input.status === 'ACTIVE' ? (\n                  <div className='d-flex flex-row'>\n                    <button disabled={!props.signedIn} className='btn btn-success btn-sm m-1' onClick={(e) => withdrawStreamClick(e, input)}>Withdraw</button>\n                    <button disabled={!props.signedIn} className='btn btn-warning btn-sm m-1' onClick={(e) => pauseStreamClick(e, input)}>Pause</button>\n                    <button disabled={!props.signedIn} className='btn btn-danger btn-sm m-1' onClick={(e) => stopStreamClick(e, input)}>Stop</button>\n                  </div>\n                ) : (\n                  <div />)}\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    })\n  }\n\n  console.log(props)\n\n  return (!props.connected) ? (<div className='container g-0 px-5'>Please connect your NEAR Account first</div>) : (\n    <div className='container g-0 px-5'>\n      <h4>Your receiving streams</h4>\n      <div className='card' style={{ width: '90%', margin: '15px', backgroundColor: '#181818' }}>\n        <div className='card-body'>\n          <div className='d-flex flex-row justify-content-between w-100'>\n            <div className='col-2 m-1'>\n            From owner\n            </div>\n            <div className='col-1 m-1'>\n            Stream ID\n            </div>\n            <div className='col-1 m-1'>\n            Tokens left\n            </div>\n            <div className='col-1 m-1'>\n            Token name\n            </div>\n            <div className='col-1 m-1'>\n            Stream speed\n            </div>\n            <div className='col-1 m-1'>\n            Tokens unlocked\n            </div>\n            <div className='col-1 m-1'>\n            Tokens transferred\n            </div>\n            <div className='col-1 m-1'>\n            Stream status\n            </div>\n            <div className='col-2 m-1' />\n          </div>\n        </div>\n      </div>\n      {inputs}\n    </div>\n  )\n}\n\nexport default ReceivePage\n","import React from 'react'\nimport 'error-polyfill'\nimport 'bootstrap/dist/js/bootstrap.bundle'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.scss'\nimport * as nearAPI from 'near-api-js'\nimport Logo from './images/logo.png'\nimport { HashRouter as Router, Link, Route, Switch } from 'react-router-dom'\nimport SendPage from './pages/Send'\nimport ReceivePage from './pages/Receive'\n\nconst IsMainnet = window.location.hostname === '(xyiming)' // TODO\nconst TestNearConfig = {\n  accountSuffix: 'testnet',\n  networkId: 'testnet',\n  nodeUrl: 'https://rpc.testnet.near.org',\n  contractName: 'dev-1630685656410-62108694435619',\n  walletUrl: 'https://wallet.testnet.near.org',\n  ft: 'dev-1630798753809-34755859843881'\n}\nconst MainNearConfig = {\n  accountSuffix: 'near',\n  networkId: 'mainnet',\n  nodeUrl: 'https://rpc.mainnet.near.org',\n  contractName: 'dev-1630411495814-97749356114440',\n  walletUrl: 'https://wallet.near.org'\n}\n\nconst NearConfig = IsMainnet ? MainNearConfig : TestNearConfig\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this._near = {}\n\n    this.state = {\n      connected: false,\n      account: null\n    }\n\n    this._near.config = NearConfig\n\n    this._initNear().then(() => {\n      this.setState({\n        signedIn: !!this._near.accountId,\n        signedAccountId: this._near.accountId,\n        connected: true\n      })\n    })\n  }\n\n  async _initNear () {\n    const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore()\n    const near = await nearAPI.connect(Object.assign({ deps: { keyStore } }, NearConfig))\n    this._near.keyStore = keyStore\n    this._near.near = near\n\n    this._near.walletConnection = new nearAPI.WalletConnection(near, NearConfig.contractName)\n    this._near.accountId = this._near.walletConnection.getAccountId()\n\n    this._near.account = this._near.walletConnection.account()\n    this._near.contract = new nearAPI.Contract(this._near.account, NearConfig.contractName, {\n      viewMethods: [\n        'get_account',\n        'get_stream'\n      ],\n      changeMethods: [\n        'create_stream',\n        'deposit',\n        'withdraw',\n        'pause_stream',\n        'restart_stream',\n        'create_bridge',\n        'delete_bridge',\n        'push_flow',\n        'stop_stream'\n      ]\n    })\n\n    // TODO set multiple\n    this._near.ft = new nearAPI.Contract(this._near.account, NearConfig.ft, {\n      viewMethods: [\n        'ft_balance_of'\n      ],\n      changeMethods: [\n        'ft_transfer',\n        'ft_transfer_call'\n      ]\n    })\n\n    this._near.logOut = () => {\n      this._near.walletConnection.signOut()\n      this._near.accountId = null\n      this.setState({\n        signedIn: !!this._accountId,\n        signedAccountId: this._accountId\n      })\n    }\n\n    this._near.refreshAllowance = async () => {\n      alert(\"You're out of access key allowance. Need sign in again to refresh it\")\n      await this.logOut()\n      await this.requestSignIn()\n    }\n  }\n\n  async requestSignIn (e) {\n    e && e.preventDefault()\n    const appTitle = 'Streaming Xyiming'\n    await this._near.walletConnection.requestSignIn(\n      NearConfig.contractName,\n      appTitle\n    )\n    return false\n  }\n\n  render () {\n    const passProps = {\n      _near: this._near,\n      refreshAllowance: () => this._near.refreshAllowance(),\n      ...this.state\n    }\n    const header = !this.state.connected ? (\n      <div>Connecting... <span className='spinner-grow spinner-grow-sm' role='status' aria-hidden='true' /></div>\n    ) : (this.state.signedIn ? (\n      <div>\n        <button\n          className='btn btn-outline-secondary'\n          onClick={() => this._near.logOut()}\n        >Sign out ({this.state.signedAccountId})\n        </button>\n      </div>\n    ) : (\n      <div>\n        <button\n          className='btn btn-primary'\n          onClick={(e) => this.requestSignIn(e)}\n        >Sign in with NEAR Wallet\n        </button>\n      </div>\n    ))\n\n    return (\n      <div className='App text-white' style={{ backgroundColor: '#1E1E1E' }}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <nav className='navbar navbar-expand-lg navbar-dark mb-3' style={{ backgroundColor: '#2F2F2F' }}>\n            <div className='container-fluid'>\n              <Link className='navbar-brand' to='/' title='Xyiming'>\n                <img src={Logo} alt='Xyiming' className='d-inline-block align-middle mx-3' style={{ opacity: 0.65 }} />\n                Streaming Xyiming\n              </Link>\n              <button\n                className='navbar-toggler' type='button' data-bs-toggle='collapse'\n                data-bs-target='#navbarSupportedContent' aria-controls='navbarSupportedContent'\n                aria-expanded='false' aria-label='Toggle navigation'\n              >\n                <span className='navbar-toggler-icon' />\n              </button>\n              <div className='collapse navbar-collapse' id='navbarSupportedContent'>\n                <ul className='navbar-nav me-auto mb-2 mb-lg-0'>\n                  <li className='nav-item'>\n                    <Link className='nav-link' aria-current='page' to='/'>Send</Link>\n                  </li>\n                  <li className='nav-item'>\n                    <Link className='nav-link' aria-current='page' to='/receive'>Receive</Link>\n                  </li>\n                </ul>\n                <form className='d-flex'>\n                  {header}\n                </form>\n              </div>\n            </div>\n          </nav>\n\n          <Switch>\n            <Route exact path='/'>\n              <SendPage {...passProps} />\n            </Route>\n            <Route exact path='/receive'>\n              <ReceivePage {...passProps} />\n            </Route>\n          </Switch>\n        </Router>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}